2025-05-20 17:02:20 DEBUG AuthTokenFilter:71 - JWT token invalid or missing, trying refresh token
2025-05-20 17:02:20 ERROR AuthTokenFilter:87 - Cannot set user authentication: Failed for []: Refresh token is not valid or expired!
vn.edu.hcmuaf.cdw.ShopThoiTrang.exception.TokenRefreshException: Failed for []: Refresh token is not valid or expired!
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.filters.AuthTokenFilter.lambda$doFilterInternal$0(AuthTokenFilter.java:75)
	at java.base/java.util.Optional.orElseThrow(Optional.java:403)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.filters.AuthTokenFilter.doFilterInternal(AuthTokenFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1575)
2025-05-20 17:02:21 DEBUG AuthTokenFilter:71 - JWT token invalid or missing, trying refresh token
2025-05-20 17:02:21 DEBUG AuthTokenFilter:71 - JWT token invalid or missing, trying refresh token
2025-05-20 17:02:21 DEBUG AuthTokenFilter:71 - JWT token invalid or missing, trying refresh token
2025-05-20 17:02:21 DEBUG AuthTokenFilter:71 - JWT token invalid or missing, trying refresh token
2025-05-20 17:02:21 DEBUG AuthTokenFilter:71 - JWT token invalid or missing, trying refresh token
2025-05-20 17:02:21 DEBUG AuthTokenFilter:71 - JWT token invalid or missing, trying refresh token
2025-05-20 17:02:21 DEBUG AuthTokenFilter:71 - JWT token invalid or missing, trying refresh token
2025-05-20 17:02:21 ERROR AuthTokenFilter:87 - Cannot set user authentication: Failed for []: Refresh token is not valid or expired!
vn.edu.hcmuaf.cdw.ShopThoiTrang.exception.TokenRefreshException: Failed for []: Refresh token is not valid or expired!
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.filters.AuthTokenFilter.lambda$doFilterInternal$0(AuthTokenFilter.java:75)
	at java.base/java.util.Optional.orElseThrow(Optional.java:403)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.filters.AuthTokenFilter.doFilterInternal(AuthTokenFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1575)
2025-05-20 17:02:21 DEBUG AuthTokenFilter:71 - JWT token invalid or missing, trying refresh token
2025-05-20 17:02:21 ERROR AuthTokenFilter:87 - Cannot set user authentication: Failed for []: Refresh token is not valid or expired!
vn.edu.hcmuaf.cdw.ShopThoiTrang.exception.TokenRefreshException: Failed for []: Refresh token is not valid or expired!
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.filters.AuthTokenFilter.lambda$doFilterInternal$0(AuthTokenFilter.java:75)
	at java.base/java.util.Optional.orElseThrow(Optional.java:403)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.filters.AuthTokenFilter.doFilterInternal(AuthTokenFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1575)
2025-05-20 17:02:21 DEBUG AuthTokenFilter:71 - JWT token invalid or missing, trying refresh token
2025-05-20 17:02:21 DEBUG AuthTokenFilter:71 - JWT token invalid or missing, trying refresh token
2025-05-20 17:02:21 DEBUG AuthTokenFilter:71 - JWT token invalid or missing, trying refresh token
2025-05-20 17:02:21 DEBUG AuthTokenFilter:71 - JWT token invalid or missing, trying refresh token
2025-05-20 17:02:21 DEBUG AuthTokenFilter:71 - JWT token invalid or missing, trying refresh token
2025-05-20 17:02:21 DEBUG AuthTokenFilter:71 - JWT token invalid or missing, trying refresh token
2025-05-20 17:02:51 DEBUG AuthTokenFilter:71 - JWT token invalid or missing, trying refresh token
2025-05-20 17:02:51 ERROR AuthTokenFilter:87 - Cannot set user authentication: Failed for []: Refresh token is not valid or expired!
vn.edu.hcmuaf.cdw.ShopThoiTrang.exception.TokenRefreshException: Failed for []: Refresh token is not valid or expired!
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.filters.AuthTokenFilter.lambda$doFilterInternal$0(AuthTokenFilter.java:75)
	at java.base/java.util.Optional.orElseThrow(Optional.java:403)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.filters.AuthTokenFilter.doFilterInternal(AuthTokenFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1575)
2025-05-20 17:02:51 DEBUG AuthTokenFilter:71 - JWT token invalid or missing, trying refresh token
2025-05-20 17:02:51 ERROR AuthTokenFilter:87 - Cannot set user authentication: Failed for []: Refresh token is not valid or expired!
vn.edu.hcmuaf.cdw.ShopThoiTrang.exception.TokenRefreshException: Failed for []: Refresh token is not valid or expired!
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.filters.AuthTokenFilter.lambda$doFilterInternal$0(AuthTokenFilter.java:75)
	at java.base/java.util.Optional.orElseThrow(Optional.java:403)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.filters.AuthTokenFilter.doFilterInternal(AuthTokenFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1575)
2025-05-20 17:04:18 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 17:04:18 WARN  AuthTokenFilter:91 - Failed to refresh token: Failed for []: Refresh token is not valid or expired!
2025-05-20 17:04:18 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 17:04:18 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 17:04:18 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 17:04:18 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 17:04:18 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 17:04:18 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 17:04:18 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 17:04:18 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 17:04:18 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 17:04:18 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 17:04:18 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 17:04:18 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 17:04:18 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 17:04:18 WARN  AuthTokenFilter:91 - Failed to refresh token: Failed for []: Refresh token is not valid or expired!
2025-05-20 17:04:18 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 17:04:18 WARN  AuthTokenFilter:91 - Failed to refresh token: Failed for []: Refresh token is not valid or expired!
2025-05-20 17:04:18 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 17:04:18 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 17:04:18 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 17:04:18 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 17:04:18 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 17:04:18 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 17:04:18 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 17:04:18 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 17:04:18 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 17:04:18 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 17:04:18 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 17:04:18 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 17:04:38 DEBUG AuthTokenFilter:48 - Skipping JWT validation for Google login request
2025-05-20 17:04:38 INFO  GoogleServiceImpl:61 - Received Google login request with token length: 1201
2025-05-20 17:04:38 INFO  GoogleServiceImpl:124 - Attempting to verify Google ID token
2025-05-20 17:04:39 INFO  GoogleServiceImpl:136 - Successfully verified Google ID token for email: lamhongphuc0110@gmail.com
2025-05-20 17:04:39 INFO  GoogleServiceImpl:67 - Successfully verified Google ID token, creating/updating user
2025-05-20 17:04:39 ERROR GoogleServiceImpl:117 - Error in createOrUpdateUser: Validation failed for classes [vn.edu.hcmuaf.cdw.ShopThoiTrang.entity.User] during persist time for groups [jakarta.validation.groups.Default, ]
List of constraint violations:[
	ConstraintViolationImpl{interpolatedMessage='Password is required', propertyPath=passwordEncrypted, rootBeanClass=class vn.edu.hcmuaf.cdw.ShopThoiTrang.entity.User, messageTemplate='Password is required'}
]
2025-05-20 17:07:51 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 17:07:51 WARN  AuthTokenFilter:91 - Failed to refresh token: Failed for []: Refresh token is not valid or expired!
2025-05-20 17:07:53 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 17:07:53 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 17:07:53 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 17:07:53 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 17:07:53 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 17:07:53 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 17:07:53 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 17:07:53 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 17:07:53 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 17:07:53 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 17:07:53 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 17:07:53 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 17:07:53 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 17:07:53 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 17:07:53 WARN  AuthTokenFilter:91 - Failed to refresh token: Failed for []: Refresh token is not valid or expired!
2025-05-20 17:07:53 WARN  AuthTokenFilter:91 - Failed to refresh token: Failed for []: Refresh token is not valid or expired!
2025-05-20 17:07:53 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 17:07:53 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 17:07:53 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 17:07:53 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 17:07:53 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 17:07:53 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 17:07:53 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 17:07:53 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 17:07:53 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 17:07:53 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 17:07:53 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 17:07:53 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 17:19:30 DEBUG AuthTokenFilter:48 - Skipping JWT validation for Google login request
2025-05-20 17:19:30 INFO  GoogleServiceImpl:61 - Received Google login request with token length: 1241
2025-05-20 17:19:30 INFO  GoogleServiceImpl:124 - Attempting to verify Google ID token
2025-05-20 17:19:31 INFO  GoogleServiceImpl:136 - Successfully verified Google ID token for email: 21130477@st.hcmuaf.edu.vn
2025-05-20 17:19:31 INFO  GoogleServiceImpl:67 - Successfully verified Google ID token, creating/updating user
2025-05-20 17:19:31 ERROR GoogleServiceImpl:117 - Error in createOrUpdateUser: Validation failed for classes [vn.edu.hcmuaf.cdw.ShopThoiTrang.entity.User] during persist time for groups [jakarta.validation.groups.Default, ]
List of constraint violations:[
	ConstraintViolationImpl{interpolatedMessage='Password is required', propertyPath=passwordEncrypted, rootBeanClass=class vn.edu.hcmuaf.cdw.ShopThoiTrang.entity.User, messageTemplate='Password is required'}
]
2025-05-20 17:19:33 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 17:19:33 WARN  AuthTokenFilter:91 - Failed to refresh token: Failed for []: Refresh token is not valid or expired!
2025-05-20 17:19:33 WARN  AuthServiceImpl:67 - username: JPS not found
2025-05-20 17:19:40 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 17:19:40 WARN  AuthTokenFilter:91 - Failed to refresh token: Failed for []: Refresh token is not valid or expired!
2025-05-20 17:19:40 WARN  AuthServiceImpl:71 - username: LHP wrong password
2025-05-20 17:19:45 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 17:19:45 WARN  AuthTokenFilter:91 - Failed to refresh token: Failed for []: Refresh token is not valid or expired!
2025-05-20 17:19:45 WARN  AuthServiceImpl:71 - username: LHP wrong password
2025-05-20 17:19:50 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 17:19:50 WARN  AuthTokenFilter:91 - Failed to refresh token: Failed for []: Refresh token is not valid or expired!
2025-05-20 17:19:50 INFO  AuthServiceImpl:94 - LHP logged in
2025-05-20 17:19:51 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHP
2025-05-20 17:19:51 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 17:19:51 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 17:19:51 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHP
2025-05-20 17:19:51 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 17:19:51 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 17:19:51 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 17:19:51 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 17:19:51 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 17:19:51 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 17:19:51 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 17:19:51 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 17:19:51 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 17:19:51 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 17:19:51 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHP
2025-05-20 17:19:51 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 17:19:51 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 17:19:51 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 17:19:51 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 17:19:51 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 17:19:51 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 17:19:51 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 17:19:51 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 17:19:51 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 17:19:51 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 17:19:51 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 17:19:51 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 17:20:39 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHP
2025-05-20 17:20:39 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 17:20:39 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 17:20:39 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 17:20:39 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 17:20:39 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 17:20:39 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 17:20:39 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 17:20:39 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 17:20:39 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 17:20:39 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 17:20:39 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 17:20:39 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 17:20:39 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHP
2025-05-20 17:20:39 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHP
2025-05-20 17:20:39 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 17:20:39 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 17:20:39 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 17:20:39 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 17:20:39 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 17:20:39 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 17:20:39 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 17:20:39 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 17:20:39 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 17:20:39 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 17:20:39 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 17:20:39 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 17:20:41 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHP
2025-05-20 17:20:41 INFO  AuthServiceImpl:226 - logout
2025-05-20 17:20:41 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 17:20:41 WARN  AuthTokenFilter:91 - Failed to refresh token: Failed for []: Refresh token is not valid or expired!
2025-05-20 17:20:41 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 17:20:41 WARN  AuthTokenFilter:91 - Failed to refresh token: Failed for []: Refresh token is not valid or expired!
2025-05-20 17:20:49 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 17:20:49 WARN  AuthTokenFilter:91 - Failed to refresh token: Failed for []: Refresh token is not valid or expired!
2025-05-20 17:20:49 WARN  AuthServiceImpl:75 - username: LHP unauthorized
2025-05-20 17:20:50 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 17:20:50 WARN  AuthTokenFilter:91 - Failed to refresh token: Failed for []: Refresh token is not valid or expired!
2025-05-20 17:20:50 WARN  AuthServiceImpl:75 - username: LHP unauthorized
2025-05-20 17:20:52 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 17:20:52 WARN  AuthTokenFilter:91 - Failed to refresh token: Failed for []: Refresh token is not valid or expired!
2025-05-20 17:20:53 WARN  AuthServiceImpl:75 - username: LHP unauthorized
2025-05-20 17:21:08 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 17:21:08 WARN  AuthTokenFilter:91 - Failed to refresh token: Failed for []: Refresh token is not valid or expired!
2025-05-20 17:21:09 WARN  AuthServiceImpl:75 - username: LHP unauthorized
2025-05-20 17:21:29 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 17:21:29 WARN  AuthTokenFilter:91 - Failed to refresh token: Failed for []: Refresh token is not valid or expired!
2025-05-20 17:21:31 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 17:21:31 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 17:21:31 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 17:21:31 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 17:21:31 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 17:21:31 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 17:21:31 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 17:21:31 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 17:21:31 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 17:21:31 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 17:21:31 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 17:21:31 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 17:21:31 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 17:21:31 WARN  AuthTokenFilter:91 - Failed to refresh token: Failed for []: Refresh token is not valid or expired!
2025-05-20 17:21:31 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 17:21:31 WARN  AuthTokenFilter:91 - Failed to refresh token: Failed for []: Refresh token is not valid or expired!
2025-05-20 17:21:31 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 17:21:31 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 17:21:31 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 17:21:31 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 17:21:31 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 17:21:31 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 17:21:31 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 17:21:31 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 17:21:31 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 17:21:31 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 17:21:31 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 17:21:31 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 17:21:38 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 17:21:38 WARN  AuthTokenFilter:91 - Failed to refresh token: Failed for []: Refresh token is not valid or expired!
2025-05-20 17:21:38 WARN  AuthServiceImpl:75 - username: LHP unauthorized
2025-05-20 17:22:25 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 17:22:25 WARN  AuthTokenFilter:91 - Failed to refresh token: Failed for []: Refresh token is not valid or expired!
2025-05-20 17:22:25 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 17:22:25 WARN  AuthTokenFilter:91 - Failed to refresh token: Failed for []: Refresh token is not valid or expired!
2025-05-20 17:22:33 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 17:22:33 WARN  AuthTokenFilter:91 - Failed to refresh token: Failed for []: Refresh token is not valid or expired!
2025-05-20 17:22:33 WARN  AuthServiceImpl:75 - username: LHP unauthorized
2025-05-20 17:23:08 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 17:23:08 WARN  AuthTokenFilter:91 - Failed to refresh token: Failed for []: Refresh token is not valid or expired!
2025-05-20 17:23:08 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 17:23:08 WARN  AuthTokenFilter:91 - Failed to refresh token: Failed for []: Refresh token is not valid or expired!
2025-05-20 17:23:12 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 17:23:12 WARN  AuthTokenFilter:91 - Failed to refresh token: Failed for []: Refresh token is not valid or expired!
2025-05-20 17:23:12 WARN  AuthServiceImpl:75 - username: LHP unauthorized
2025-05-20 17:23:41 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 17:23:41 WARN  AuthTokenFilter:91 - Failed to refresh token: Failed for []: Refresh token is not valid or expired!
2025-05-20 17:23:42 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 17:23:42 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 17:23:42 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 17:23:42 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 17:23:42 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 17:23:42 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 17:23:42 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 17:23:42 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 17:23:42 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 17:23:42 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 17:23:42 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 17:23:42 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 17:23:42 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 17:23:42 WARN  AuthTokenFilter:91 - Failed to refresh token: Failed for []: Refresh token is not valid or expired!
2025-05-20 17:23:42 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 17:23:42 WARN  AuthTokenFilter:91 - Failed to refresh token: Failed for []: Refresh token is not valid or expired!
2025-05-20 17:23:42 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 17:23:42 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 17:23:42 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 17:23:42 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 17:23:42 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 17:23:42 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 17:23:42 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 17:23:42 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 17:23:42 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 17:23:42 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 17:23:42 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 17:23:42 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 17:23:55 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 17:23:55 WARN  AuthTokenFilter:91 - Failed to refresh token: Failed for []: Refresh token is not valid or expired!
2025-05-20 17:23:55 WARN  AuthServiceImpl:75 - username: LHP unauthorized
2025-05-20 17:24:02 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 17:24:02 WARN  AuthTokenFilter:91 - Failed to refresh token: Failed for []: Refresh token is not valid or expired!
2025-05-20 17:24:02 WARN  AuthServiceImpl:75 - username: LHP unauthorized
2025-05-20 17:24:19 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 17:24:19 WARN  AuthTokenFilter:91 - Failed to refresh token: Failed for []: Refresh token is not valid or expired!
2025-05-20 17:24:46 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 17:24:46 WARN  AuthTokenFilter:91 - Failed to refresh token: Failed for []: Refresh token is not valid or expired!
2025-05-20 17:25:01 INFO  EmailService:44 - Email sent to: lamhongphuc0110@gmail.com
2025-05-20 17:25:01 INFO  AuthServiceImpl:265 - OTP for sign up new Account has sent to email: lamhongphuc0110@gmail.com
2025-05-20 17:27:13 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 17:27:13 WARN  AuthTokenFilter:91 - Failed to refresh token: Failed for []: Refresh token is not valid or expired!
2025-05-20 17:27:13 INFO  AuthServiceImpl:319 - Signup successful with email: lamhongphuc0110@gmail.com and username: LHP
2025-05-20 17:27:14 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 17:27:14 WARN  AuthTokenFilter:91 - Failed to refresh token: Failed for []: Refresh token is not valid or expired!
2025-05-20 17:27:14 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 17:27:14 WARN  AuthTokenFilter:91 - Failed to refresh token: Failed for []: Refresh token is not valid or expired!
2025-05-20 17:27:54 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 17:27:54 WARN  AuthTokenFilter:91 - Failed to refresh token: Failed for []: Refresh token is not valid or expired!
2025-05-20 17:27:54 WARN  AuthServiceImpl:71 - username: LHP wrong password
2025-05-20 17:28:01 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 17:28:01 WARN  AuthTokenFilter:91 - Failed to refresh token: Failed for []: Refresh token is not valid or expired!
2025-05-20 17:28:01 INFO  AuthServiceImpl:94 - LHP logged in
2025-05-20 17:28:02 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHP
2025-05-20 17:28:02 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 17:28:02 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 17:28:02 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 17:28:02 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 17:28:02 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHP
2025-05-20 17:28:02 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 17:28:02 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 17:28:02 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 17:28:02 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 17:28:02 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 17:28:02 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 17:28:02 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 17:28:02 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 17:28:02 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHP
2025-05-20 17:28:02 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 17:28:02 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 17:28:02 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 17:28:02 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 17:28:02 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 17:28:02 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 17:28:02 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 17:28:02 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 17:28:02 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 17:28:02 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 17:28:02 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 17:28:02 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 17:28:05 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 17:28:05 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 17:28:05 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 17:28:05 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 17:28:05 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 17:28:05 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 17:28:05 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 17:28:05 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 17:28:05 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 17:28:05 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 17:28:05 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 17:28:05 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 17:28:05 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 17:28:05 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 17:28:05 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 17:28:05 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 17:28:05 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 17:28:05 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 17:28:05 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 17:28:05 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 17:28:05 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 17:28:05 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 17:28:05 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 17:28:05 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 17:28:05 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 17:28:05 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 17:28:05 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 17:28:05 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 17:28:05 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 17:28:05 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 17:28:08 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 17:28:08 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 17:28:08 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 17:28:08 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 17:28:08 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 17:28:08 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 17:28:08 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 17:28:08 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 17:28:08 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHP
2025-05-20 17:28:13 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHP
2025-05-20 17:29:09 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHP
2025-05-20 17:29:34 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHP
2025-05-20 17:29:35 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHP
2025-05-20 17:29:35 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHP
2025-05-20 20:32:16 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:32:16 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:32:16 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:32:16 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:32:16 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:32:16 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:32:16 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:32:16 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:32:16 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:32:16 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:32:16 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:32:16 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:32:17 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:32:17 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:32:17 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:32:17 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:32:17 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:32:17 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:32:17 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:32:17 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:32:17 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:32:17 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:32:17 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:32:17 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:32:17 INFO  AuthServiceImpl:226 - logout
2025-05-20 20:32:17 INFO  AuthServiceImpl:226 - logout
2025-05-20 20:32:17 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:32:17 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:32:17 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:32:17 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:32:17 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:32:17 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:32:17 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:32:17 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:32:17 DEBUG AuthServiceImpl:171 - Refresh Token is empty!
2025-05-20 20:32:17 DEBUG AuthServiceImpl:171 - Refresh Token is empty!
2025-05-20 20:32:17 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:32:17 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:32:17 DEBUG AuthServiceImpl:171 - Refresh Token is empty!
2025-05-20 20:32:17 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:32:17 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:32:17 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:32:17 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:32:17 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:32:17 WARN  AuthTokenFilter:91 - Failed to refresh token: Failed for []: Refresh token is not valid or expired!
2025-05-20 20:32:17 WARN  AuthTokenFilter:91 - Failed to refresh token: Failed for []: Refresh token is not valid or expired!
2025-05-20 20:32:17 WARN  AuthTokenFilter:91 - Failed to refresh token: Failed for []: Refresh token is not valid or expired!
2025-05-20 20:32:17 INFO  AuthServiceImpl:226 - logout
2025-05-20 20:32:17 INFO  AuthServiceImpl:226 - logout
2025-05-20 20:32:17 INFO  AuthServiceImpl:226 - logout
2025-05-20 20:32:23 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHP
2025-05-20 20:32:25 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:32:25 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:32:25 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:32:25 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:32:25 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:32:25 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:32:25 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:32:25 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:32:25 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:32:25 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:32:25 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:32:25 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHP
2025-05-20 20:32:25 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:32:25 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHP
2025-05-20 20:32:25 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:32:25 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:32:25 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:32:25 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:32:25 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:32:25 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:32:25 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:32:25 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:32:25 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:32:25 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:32:25 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:32:25 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:32:45 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHP
2025-05-20 20:32:45 INFO  AuthServiceImpl:226 - logout
2025-05-20 20:32:46 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHP
2025-05-20 20:32:46 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHP
2025-05-20 20:33:04 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHP
2025-05-20 20:33:20 INFO  EmailService:44 - Email sent to: jamesps0110@gmail.com
2025-05-20 20:33:20 INFO  AuthServiceImpl:265 - OTP for sign up new Account has sent to email: jamesps0110@gmail.com
2025-05-20 20:34:03 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHP
2025-05-20 20:34:04 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:34:04 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:34:04 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:34:04 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:34:04 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHP
2025-05-20 20:34:04 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:34:04 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:34:04 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:34:04 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:34:04 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:34:04 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:34:04 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:34:04 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:34:04 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHP
2025-05-20 20:34:04 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:34:04 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:34:04 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:34:04 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:34:04 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:34:04 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:34:04 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:34:04 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:34:04 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:34:04 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:34:04 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:34:04 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:34:47 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHP
2025-05-20 20:35:02 INFO  EmailService:44 - Email sent to: jamesps0110@gmail.com
2025-05-20 20:35:02 INFO  AuthServiceImpl:265 - OTP for sign up new Account has sent to email: jamesps0110@gmail.com
2025-05-20 20:35:40 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHP
2025-05-20 20:35:40 INFO  AuthServiceImpl:319 - Signup successful with email: jamesps0110@gmail.com and username: LHPadmin
2025-05-20 20:35:41 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHP
2025-05-20 20:35:41 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHP
2025-05-20 20:36:37 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHP
2025-05-20 20:36:37 WARN  AuthServiceImpl:75 - username: LHPadmin unauthorized
2025-05-20 20:36:42 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:36:42 WARN  AuthTokenFilter:91 - Failed to refresh token: Failed for []: Refresh token is not valid or expired!
2025-05-20 20:36:43 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:36:43 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:36:43 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:36:43 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:36:43 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:36:43 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:36:43 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:36:43 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:36:43 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:36:43 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:36:43 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:36:43 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:36:43 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:36:43 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:36:43 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:36:43 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:36:43 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:36:43 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:36:43 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:36:43 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:36:43 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:36:43 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:36:43 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:36:43 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:36:43 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:36:43 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:36:43 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:36:43 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:36:43 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:36:43 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:36:43 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:36:43 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:36:44 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:36:44 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:36:44 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:36:44 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:36:54 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:36:54 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:36:54 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:36:54 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:36:54 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:36:54 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:36:54 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:36:54 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:36:54 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:36:54 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:36:54 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:36:54 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:36:54 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:36:54 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:36:54 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:36:56 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:36:56 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:36:56 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:36:56 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:36:56 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:36:56 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:36:56 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:36:56 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:36:56 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:36:56 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:36:56 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:36:56 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:36:56 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:36:56 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:36:56 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:36:56 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:36:56 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:36:57 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:36:57 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:36:57 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:36:57 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:36:57 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:36:57 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:36:57 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:36:57 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:36:57 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:36:57 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:36:57 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:36:57 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:36:57 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:36:57 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:36:57 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:36:57 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:36:57 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:37:00 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:37:00 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:37:00 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:37:00 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:37:00 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:37:00 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:37:00 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:37:00 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:37:00 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:37:00 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:37:00 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:37:00 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:37:00 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:37:02 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:37:02 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:37:02 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:37:02 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:37:02 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:37:02 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:37:02 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:37:02 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:37:02 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:37:02 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:37:02 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:37:02 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:37:02 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:37:02 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:37:02 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:37:02 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:37:02 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:37:02 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:37:02 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:37:02 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:37:03 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:37:03 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:37:03 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:37:03 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:37:03 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:37:03 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:37:03 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:37:03 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:37:03 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:37:03 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:37:24 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:37:24 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:37:24 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:37:24 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:37:24 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:37:24 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:37:25 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:37:25 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:37:25 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:37:25 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:37:25 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:37:25 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:37:26 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:37:26 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:37:28 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:37:28 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:37:28 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:37:28 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:37:28 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:37:28 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:37:28 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:37:28 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:37:28 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:37:28 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:37:28 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:37:28 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:37:28 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:37:28 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:37:28 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:37:28 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:37:28 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:37:28 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:37:56 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:37:56 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:38:02 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:38:02 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:39:02 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:39:02 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:40:01 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:40:01 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:40:04 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:40:06 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:40:07 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:40:07 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:40:07 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:40:07 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:40:07 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:40:07 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:40:07 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:40:07 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:40:07 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:40:07 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:40:07 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:40:07 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:40:07 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:40:07 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:40:07 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:40:07 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:40:07 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:40:08 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:40:08 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:40:08 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:40:08 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:40:08 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:40:08 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:40:08 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:40:08 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:40:08 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:40:08 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:40:08 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:40:08 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:40:08 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:40:08 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:40:08 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:40:08 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:40:08 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:40:09 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:40:09 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:40:09 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:40:09 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:40:09 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:40:09 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:40:09 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:40:09 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:40:09 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:40:09 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:40:09 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:40:09 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:40:09 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:40:09 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:40:09 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:40:09 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:40:09 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:40:09 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:40:09 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:40:09 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:40:09 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:40:09 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:40:09 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:40:09 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:40:09 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:40:10 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:40:10 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:40:10 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:40:10 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:40:10 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:40:10 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:40:10 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:40:11 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:40:11 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:40:11 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:40:11 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:40:11 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:40:11 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:40:11 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:40:11 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:40:11 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:40:11 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:40:12 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:40:12 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:40:12 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:40:12 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:40:12 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:40:12 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:40:12 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:40:12 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:40:12 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:40:12 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:40:12 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:40:13 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:40:13 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:40:13 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:40:13 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:40:13 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:40:13 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:40:13 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:40:13 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:40:13 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:40:13 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:40:13 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:40:13 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:40:13 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:40:13 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:40:13 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:40:13 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:40:13 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:40:13 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:40:13 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:40:13 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:40:13 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:40:15 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:40:15 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:40:15 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:40:15 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:40:15 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:40:15 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:40:15 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:40:15 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:40:15 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:40:15 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:40:15 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:40:15 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:40:15 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:40:15 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:40:15 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:40:16 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:40:16 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:40:16 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:40:16 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:40:16 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:40:16 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:40:16 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:40:16 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:40:17 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:40:17 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:40:17 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:40:17 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:40:17 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:40:17 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:40:17 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:40:17 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:40:17 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:40:17 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:40:17 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:40:17 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:40:24 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:40:24 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:40:25 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:40:27 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:40:27 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:40:28 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:40:28 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:40:28 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:40:29 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:40:34 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:40:36 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:40:40 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:40:41 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:40:42 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:40:49 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:40:50 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:40:50 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:40:51 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:40:53 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:40:53 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:40:54 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:40:55 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:40:55 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:40:56 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:40:56 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:40:56 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:40:56 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:40:56 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:40:56 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:40:56 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:40:56 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:40:56 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:40:56 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:40:56 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:40:56 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:40:56 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:40:59 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:40:59 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:40:59 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:40:59 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:40:59 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:40:59 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:40:59 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:40:59 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:40:59 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:40:59 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:40:59 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:40:59 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:40:59 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:40:59 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:40:59 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:41:00 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:41:00 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:41:00 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:41:00 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:41:00 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:41:00 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:41:00 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:41:00 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:41:04 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:41:04 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:41:04 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:41:04 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:41:04 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:41:04 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:41:04 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:41:04 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:41:04 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:41:04 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:41:04 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:41:04 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:41:04 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:41:04 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:41:04 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:41:05 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:41:05 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:41:05 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:41:05 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:41:05 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:41:05 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:41:05 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:41:05 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:41:05 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:41:05 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:41:05 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:41:05 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:41:05 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:41:05 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:41:05 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:41:05 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:41:05 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:41:05 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:41:05 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:41:05 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:41:05 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:41:05 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:41:05 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:41:05 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:41:05 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:41:06 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:41:06 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:41:06 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:41:06 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:41:06 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:41:06 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:41:06 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:41:06 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:41:06 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:41:06 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:41:06 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:41:06 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:41:06 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:41:06 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:41:06 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:41:06 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:41:06 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:41:06 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:41:06 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:41:06 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:41:06 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:41:06 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:41:06 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:41:07 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:41:07 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:41:07 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:41:07 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:41:07 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:41:07 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:41:07 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:41:07 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:41:07 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:41:07 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:41:10 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:41:10 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:41:10 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:41:10 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:41:10 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:41:10 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:41:10 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:41:10 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:41:10 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:41:10 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:41:10 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:41:10 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:41:11 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:41:11 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:41:11 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:41:11 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:41:11 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:41:11 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:41:11 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:41:11 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:41:11 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:41:11 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:41:11 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:41:11 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:41:11 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:41:11 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:41:11 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:41:11 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:41:11 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:41:11 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:41:11 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:41:11 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:41:11 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:41:11 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:41:11 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:41:11 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:41:11 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:41:11 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:41:12 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:41:12 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:41:12 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:41:12 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:41:12 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:41:12 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:41:12 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:41:12 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:41:12 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:41:12 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:41:12 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:41:12 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:41:12 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:41:12 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:41:12 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:41:12 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:41:12 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:41:12 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:41:13 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:41:13 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:41:14 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:41:14 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:41:14 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:41:14 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:41:14 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:41:14 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:41:14 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:41:14 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:41:14 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:41:14 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:41:14 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:41:14 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:41:14 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:41:14 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:41:14 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:41:14 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:41:14 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:41:14 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:41:14 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:41:14 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:41:14 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:41:14 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:41:15 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:41:15 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:41:15 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:41:15 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:41:15 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:41:15 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:41:15 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:41:15 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:41:18 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHP
2025-05-20 20:41:18 INFO  AuthServiceImpl:94 - LHP logged in
2025-05-20 20:41:19 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHP
2025-05-20 20:41:19 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:41:19 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:41:19 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHP
2025-05-20 20:41:19 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:41:19 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:41:19 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:41:19 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:41:19 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:41:19 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:41:19 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:41:19 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:41:19 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:41:19 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:41:19 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHP
2025-05-20 20:41:19 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:41:19 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:41:19 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:41:19 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:41:19 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:41:19 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:41:19 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:41:19 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:41:19 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:41:19 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:41:19 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:41:19 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:41:22 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:41:22 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:41:26 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHP
2025-05-20 20:41:34 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:41:34 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:41:34 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:41:34 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:41:34 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:41:34 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:41:34 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:41:34 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:41:34 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:41:34 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:41:34 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:41:34 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:41:34 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:41:34 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:41:34 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:41:34 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:41:34 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:41:34 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:41:34 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:41:34 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:41:34 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:41:34 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:41:34 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:41:34 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:41:34 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:41:34 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:41:34 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:41:34 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:41:34 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:41:34 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:41:47 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:41:47 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:41:47 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:41:47 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:41:47 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:41:47 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:41:47 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:41:47 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:41:47 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:41:47 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:41:47 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:41:47 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:41:47 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHP
2025-05-20 20:41:47 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:41:47 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:41:47 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:41:47 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:41:47 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:41:47 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:41:47 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:41:47 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:41:47 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:41:47 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:41:47 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:41:47 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:41:59 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHP
2025-05-20 20:42:12 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHP
2025-05-20 20:42:12 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHP
2025-05-20 20:42:12 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHP
2025-05-20 20:42:12 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:42:12 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:42:12 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:42:12 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:42:12 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:42:12 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:42:12 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:42:12 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:42:12 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:42:12 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:42:12 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:42:12 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:42:12 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHP
2025-05-20 20:42:12 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:42:12 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:42:12 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:42:12 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:42:12 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:42:12 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:42:12 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:42:12 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:42:12 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:42:12 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:42:12 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:42:12 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:42:35 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHP
2025-05-20 20:42:50 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHP
2025-05-20 20:42:50 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHP
2025-05-20 20:42:50 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHP
2025-05-20 20:42:50 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:42:50 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:42:50 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:42:50 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:42:50 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:42:50 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:42:50 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:42:50 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:42:50 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:42:50 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:42:50 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:42:50 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:42:50 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHP
2025-05-20 20:42:50 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:42:50 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:42:50 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:42:50 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:42:50 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:42:50 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:42:50 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:42:50 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:42:50 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:42:50 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:42:51 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:42:51 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:42:53 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHP
2025-05-20 20:43:00 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:43:03 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:43:03 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:43:03 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:43:03 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:43:03 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:43:03 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:43:03 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:43:03 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:43:03 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:43:10 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:43:10 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:43:12 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:43:12 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:43:12 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:43:13 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:43:13 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:43:13 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:43:14 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:43:14 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:43:14 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:43:14 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:43:14 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:43:15 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:43:15 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:43:15 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:43:15 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:43:16 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:43:16 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:43:16 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:43:16 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:43:17 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:43:30 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:43:30 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:43:32 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:43:32 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:43:32 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:43:33 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:43:36 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:43:36 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:43:41 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:43:41 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:43:48 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:43:48 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:43:48 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:43:48 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:43:48 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:43:49 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:45:58 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:45:58 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:45:58 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:45:58 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:45:58 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:45:58 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:46:01 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:46:01 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:46:01 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:46:01 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:46:01 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:46:01 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:46:01 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:46:01 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:46:01 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:46:01 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:46:01 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:46:01 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:46:01 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:46:01 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:46:01 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:46:04 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:46:04 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:46:05 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:46:05 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:46:06 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:46:06 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:46:06 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:46:08 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:46:24 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:46:24 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:46:24 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:46:24 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:46:24 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:46:25 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:46:31 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHP
2025-05-20 20:46:31 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHP
2025-05-20 20:46:31 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHP
2025-05-20 20:46:32 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:46:32 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:46:32 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:46:32 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:46:32 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHP
2025-05-20 20:46:32 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:46:32 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:46:32 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:46:32 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:46:32 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:46:32 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:46:32 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:46:32 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:46:32 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:46:32 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:46:32 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:46:32 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:46:32 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:46:32 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:46:32 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:46:32 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:46:32 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:46:32 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:46:32 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:46:32 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:46:34 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHP
2025-05-20 20:46:58 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:46:58 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:46:59 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:46:59 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:46:59 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:46:59 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:46:59 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:46:59 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:46:59 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:46:59 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:46:59 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:46:59 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:46:59 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:46:59 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:46:59 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:46:59 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:46:59 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:47:01 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:47:01 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:47:01 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:47:01 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:47:01 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:47:01 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:47:01 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:47:01 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:47:01 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:47:01 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:47:01 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:47:02 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:47:02 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:47:02 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:47:02 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:47:02 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:47:02 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:47:02 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:47:02 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:47:02 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:47:02 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:47:05 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:47:13 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:47:17 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:47:19 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:47:31 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:47:32 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:47:33 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:47:33 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:47:34 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:47:35 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:47:37 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:47:37 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:47:38 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:47:38 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:47:39 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:47:40 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:47:40 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:47:41 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:47:42 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:47:43 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:47:43 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:47:44 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:47:47 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:47:47 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:47:47 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:47:47 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:47:47 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:47:47 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:47:47 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:47:47 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:47:47 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:47:47 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:47:47 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:47:47 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:47:47 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:47:47 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:47:47 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:47:47 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:47:47 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:47:47 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:47:47 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:47:47 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:47:48 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:47:48 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:47:48 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:47:48 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:47:48 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:47:48 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:47:49 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:47:49 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:47:49 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:47:49 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:47:49 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:47:49 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:47:49 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:47:49 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:47:49 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:47:49 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:47:49 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:47:49 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:47:49 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:47:50 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:47:50 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:47:50 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:47:50 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:47:50 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:47:50 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:47:50 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:47:50 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:47:50 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:47:50 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:47:50 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:47:50 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:47:50 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:47:50 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:47:50 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:47:50 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:47:50 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:47:50 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:47:50 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:47:50 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:47:50 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:47:50 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:47:50 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:47:50 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:47:50 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:47:50 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:47:50 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:47:50 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:47:50 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:47:50 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:47:50 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:47:50 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:47:50 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:47:50 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:47:50 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:47:50 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:47:50 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:47:50 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:47:51 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:47:51 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:47:51 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:47:51 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:47:51 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:47:51 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:47:51 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:47:51 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:47:51 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:47:51 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:47:51 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:47:51 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:47:51 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:47:51 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:47:51 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:47:51 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:47:51 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:47:51 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:47:51 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:47:51 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:47:51 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:47:51 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:47:51 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:47:52 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:47:52 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:47:52 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:47:52 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:47:52 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:47:52 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:47:52 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:47:52 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:47:53 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:47:53 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:47:53 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:47:53 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:47:53 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:47:53 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:47:53 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:47:53 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:47:53 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:47:53 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:47:53 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:47:53 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:47:53 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:47:53 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:47:53 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:47:53 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:47:53 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:47:53 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:47:53 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:47:53 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:47:53 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:47:53 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:47:53 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:47:53 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:47:53 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:47:54 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:47:54 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:47:54 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:47:54 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:47:54 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:47:54 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:47:54 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:47:54 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:47:54 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:47:54 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:47:54 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:47:54 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:47:54 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:47:54 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:47:54 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:47:54 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:47:54 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:47:54 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:47:54 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:47:55 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:47:55 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:47:55 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:47:55 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:47:55 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:47:55 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:47:55 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:47:55 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:47:55 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:47:55 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:47:55 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:47:55 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:47:55 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:47:56 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:47:56 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:47:56 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:47:56 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:47:56 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:47:56 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:47:56 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:47:56 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:47:56 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:47:56 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:47:56 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:47:56 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:47:56 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:47:56 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:47:56 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:47:56 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:47:56 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:47:56 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:47:56 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:47:56 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:47:56 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:48:05 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:48:05 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:48:05 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:48:05 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:48:05 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:48:12 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:48:12 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:48:12 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:48:12 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:48:12 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:48:12 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:48:12 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:48:12 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:48:12 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:48:12 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:48:12 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:48:12 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:48:12 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:48:13 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:48:13 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:48:13 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:48:13 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:48:13 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:48:13 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:48:13 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:48:13 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:48:13 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:48:13 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:48:16 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:48:16 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:48:16 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:48:16 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:48:16 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:48:16 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:48:16 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:48:16 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:48:16 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:48:31 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:48:31 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:48:32 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:48:32 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:48:33 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:48:33 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:48:33 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:48:33 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:48:33 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:48:33 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:48:33 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:48:33 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:48:33 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:48:33 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:48:33 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:48:33 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:48:33 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:48:33 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:48:33 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:48:36 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:48:36 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:48:38 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:48:38 INFO  AuthServiceImpl:226 - logout
2025-05-20 20:48:44 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:48:44 WARN  AuthTokenFilter:91 - Failed to refresh token: Failed for []: Refresh token is not valid or expired!
2025-05-20 20:48:44 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:48:44 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:48:44 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:48:44 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:48:44 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:48:44 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:48:44 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:48:44 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:48:44 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:48:44 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:48:44 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:48:44 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:48:44 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:48:44 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:48:44 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:48:44 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:48:44 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:48:44 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:48:44 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:48:44 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:48:44 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:48:44 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:48:44 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:48:44 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:48:44 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:48:44 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:48:44 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:48:44 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:48:45 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:48:45 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:48:45 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:48:45 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:48:45 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:48:45 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:48:45 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:48:45 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:48:45 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:48:45 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:48:45 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:48:45 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:48:45 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:48:45 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:48:45 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:48:46 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:48:46 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:48:46 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:48:46 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:48:46 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:48:46 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:48:46 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:48:46 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:48:46 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:48:46 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:48:55 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:48:55 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:48:55 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:48:55 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:48:55 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:48:55 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:48:55 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:48:55 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:48:55 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:48:55 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:48:59 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:48:59 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:49:00 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:49:00 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:49:00 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:49:00 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:49:00 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:49:00 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:49:00 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:49:00 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:49:00 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:49:04 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:49:04 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:49:04 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:49:06 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:49:06 INFO  UserServiceImpl:324 - User LHP updated user LHP
2025-05-20 20:49:06 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:49:14 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:49:14 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:49:14 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:49:14 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:49:14 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:49:14 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:49:14 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:49:14 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:49:14 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:49:14 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:49:22 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:49:22 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:49:22 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:49:22 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:49:22 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:49:22 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:49:22 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:49:22 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:49:22 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:49:22 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:49:22 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:49:22 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:49:22 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:49:22 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:49:22 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:49:22 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:49:22 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:49:22 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:49:22 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:49:22 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:49:24 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:49:24 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:49:25 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:49:25 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:49:25 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:49:25 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:49:25 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:49:25 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:49:25 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:49:25 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:49:40 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:49:40 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:49:40 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:49:40 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:49:40 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:49:40 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:49:40 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:49:40 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:49:40 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:49:40 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:49:41 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:49:41 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:49:41 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:49:41 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:49:41 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:49:41 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:49:41 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:49:41 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:49:41 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:49:41 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:49:44 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:49:50 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:49:50 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:49:50 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:49:50 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:49:50 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:49:50 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:49:50 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:49:50 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:49:50 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:49:50 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:49:50 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:49:50 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:49:50 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:49:50 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:49:50 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:49:50 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:49:50 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:49:50 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:49:50 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:49:50 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:49:50 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:49:50 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:49:50 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:49:51 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:49:51 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:49:51 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:49:51 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:49:51 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:49:51 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:49:51 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:49:51 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:49:51 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:49:51 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:49:53 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:49:53 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:49:53 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:49:53 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:49:53 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:49:53 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:49:53 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:49:53 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:49:53 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:49:56 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:49:56 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:49:58 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:49:58 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:49:58 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:49:59 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:49:59 ERROR UserServiceImpl:327 - Error in updateUser: 
jakarta.validation.ConstraintViolationException: Validation failed for classes [vn.edu.hcmuaf.cdw.ShopThoiTrang.entity.User] during update time for groups [jakarta.validation.groups.Default, ]
List of constraint violations:[
	ConstraintViolationImpl{interpolatedMessage='Role is required', propertyPath=role, rootBeanClass=class vn.edu.hcmuaf.cdw.ShopThoiTrang.entity.User, messageTemplate='Role is required'}
]
	at org.hibernate.boot.beanvalidation.BeanValidationEventListener.validate(BeanValidationEventListener.java:176)
	at org.hibernate.boot.beanvalidation.BeanValidationEventListener.onPreUpdate(BeanValidationEventListener.java:98)
	at org.hibernate.action.internal.EntityUpdateAction.preUpdate(EntityUpdateAction.java:363)
	at org.hibernate.action.internal.EntityUpdateAction.execute(EntityUpdateAction.java:162)
	at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:644)
	at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:511)
	at org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:414)
	at org.hibernate.event.internal.DefaultAutoFlushEventListener.onAutoFlush(DefaultAutoFlushEventListener.java:67)
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:127)
	at org.hibernate.internal.SessionImpl.autoFlushIfRequired(SessionImpl.java:1379)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.lambda$new$1(ConcreteSqmSelectQueryPlan.java:145)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.withCacheableSqmInterpretation(ConcreteSqmSelectQueryPlan.java:442)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.performList(ConcreteSqmSelectQueryPlan.java:362)
	at org.hibernate.query.sqm.internal.QuerySqmImpl.doList(QuerySqmImpl.java:380)
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:143)
	at org.hibernate.query.spi.AbstractSelectionQuery.getSingleResult(AbstractSelectionQuery.java:275)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$SingleEntityExecution.doExecute(JpaQueryExecution.java:224)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:93)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:152)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:140)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:170)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:136)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy4/jdk.proxy4.$Proxy150.findByUsername(Unknown Source)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.UserServiceImpl.updateUser(UserServiceImpl.java:270)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.UserServiceImpl$$SpringCGLIB$$0.updateUser(<generated>)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.controller.UserController.updateUser(UserController.java:118)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.proceed(AuthorizationManagerBeforeMethodInterceptor.java:268)
	at org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.attemptAuthorization(AuthorizationManagerBeforeMethodInterceptor.java:263)
	at org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.invoke(AuthorizationManagerBeforeMethodInterceptor.java:196)
	at org.springframework.security.config.annotation.method.configuration.DeferringMethodInterceptor.invoke(DeferringMethodInterceptor.java:44)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.controller.UserController$$SpringCGLIB$$0.updateUser(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPut(FrameworkServlet.java:925)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:593)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.filters.AuthTokenFilter.doFilterInternal(AuthTokenFilter.java:103)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1575)
2025-05-20 20:50:00 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:50:00 INFO  AuthServiceImpl:226 - logout
2025-05-20 20:50:00 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:50:00 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:50:00 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:50:00 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:50:00 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:50:00 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:50:00 WARN  AuthTokenFilter:91 - Failed to refresh token: Failed for []: Refresh token is not valid or expired!
2025-05-20 20:50:00 WARN  AuthTokenFilter:91 - Failed to refresh token: Failed for []: Refresh token is not valid or expired!
2025-05-20 20:50:00 WARN  AuthTokenFilter:91 - Failed to refresh token: Failed for []: Refresh token is not valid or expired!
2025-05-20 20:50:00 WARN  AuthTokenFilter:91 - Failed to refresh token: Failed for []: Refresh token is not valid or expired!
2025-05-20 20:50:00 WARN  AuthTokenFilter:91 - Failed to refresh token: Failed for []: Refresh token is not valid or expired!
2025-05-20 20:50:00 WARN  AuthTokenFilter:91 - Failed to refresh token: Failed for []: Refresh token is not valid or expired!
2025-05-20 20:50:00 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:50:00 WARN  AuthTokenFilter:91 - Failed to refresh token: Failed for []: Refresh token is not valid or expired!
2025-05-20 20:50:00 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:50:00 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:50:00 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:50:00 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:50:00 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:50:00 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:50:00 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:50:00 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:50:01 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:50:01 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:50:01 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:50:01 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:50:01 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:50:01 WARN  AuthTokenFilter:91 - Failed to refresh token: Failed for []: Refresh token is not valid or expired!
2025-05-20 20:50:01 WARN  AuthTokenFilter:91 - Failed to refresh token: Failed for []: Refresh token is not valid or expired!
2025-05-20 20:50:01 WARN  AuthTokenFilter:91 - Failed to refresh token: Failed for []: Refresh token is not valid or expired!
2025-05-20 20:50:01 WARN  AuthTokenFilter:91 - Failed to refresh token: Failed for []: Refresh token is not valid or expired!
2025-05-20 20:50:01 WARN  AuthTokenFilter:91 - Failed to refresh token: Failed for []: Refresh token is not valid or expired!
2025-05-20 20:50:01 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:50:01 WARN  AuthTokenFilter:91 - Failed to refresh token: Failed for []: Refresh token is not valid or expired!
2025-05-20 20:50:01 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:50:01 WARN  AuthTokenFilter:91 - Failed to refresh token: Failed for []: Refresh token is not valid or expired!
2025-05-20 20:50:01 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:50:01 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:50:01 WARN  AuthTokenFilter:91 - Failed to refresh token: Failed for []: Refresh token is not valid or expired!
2025-05-20 20:50:01 WARN  AuthTokenFilter:91 - Failed to refresh token: Failed for []: Refresh token is not valid or expired!
2025-05-20 20:50:01 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:50:01 WARN  AuthTokenFilter:91 - Failed to refresh token: Failed for []: Refresh token is not valid or expired!
2025-05-20 20:50:01 INFO  AuthServiceImpl:226 - logout
2025-05-20 20:50:01 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:50:01 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:50:01 DEBUG AuthServiceImpl:171 - Refresh Token is empty!
2025-05-20 20:50:01 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:50:01 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:50:01 DEBUG AuthServiceImpl:171 - Refresh Token is empty!
2025-05-20 20:50:01 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:50:01 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:50:01 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:50:01 WARN  AuthTokenFilter:91 - Failed to refresh token: Failed for []: Refresh token is not valid or expired!
2025-05-20 20:50:01 INFO  AuthServiceImpl:226 - logout
2025-05-20 20:50:01 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:50:01 WARN  AuthTokenFilter:91 - Failed to refresh token: Failed for []: Refresh token is not valid or expired!
2025-05-20 20:50:01 INFO  AuthServiceImpl:226 - logout
2025-05-20 20:50:09 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:50:09 WARN  AuthTokenFilter:91 - Failed to refresh token: Failed for []: Refresh token is not valid or expired!
2025-05-20 20:50:09 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:50:09 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:50:09 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:50:09 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:50:09 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:50:09 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:50:09 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:50:09 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:50:09 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:50:09 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:50:09 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:50:09 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:50:09 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:50:09 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:50:09 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:50:09 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:50:09 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:50:10 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:50:10 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:50:10 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:50:10 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:50:10 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:50:10 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:50:10 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:50:10 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:50:10 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:50:10 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:50:10 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:50:10 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:50:10 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:50:10 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:50:10 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:50:10 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:50:10 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:50:10 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:50:11 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:50:11 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:50:11 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:50:11 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:50:11 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:50:11 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:50:11 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:50:11 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:50:11 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:50:11 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:50:13 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:50:13 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:50:13 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:50:13 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:50:13 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:50:13 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:50:13 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:50:13 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:50:13 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:50:13 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:50:13 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:50:13 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:50:13 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:50:13 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:50:13 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:50:13 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:50:13 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:50:13 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:50:13 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:50:13 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:50:13 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:50:14 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:50:14 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:50:14 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:50:14 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:50:15 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:50:15 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:50:15 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:50:15 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:50:15 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:50:15 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:50:15 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:50:15 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:50:15 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:50:19 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:50:19 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:50:19 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:50:19 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:50:20 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:50:20 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:50:20 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:50:20 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:50:20 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:50:20 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:50:21 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:50:21 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:50:21 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:50:21 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:50:21 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:50:21 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:50:21 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:50:21 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:50:21 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:50:21 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:50:24 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:50:24 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:50:24 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:50:24 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:50:24 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:50:24 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:50:24 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:50:24 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:50:24 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:50:24 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:50:24 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:50:24 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:50:24 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:50:24 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:50:24 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:50:24 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:50:24 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:50:24 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:50:24 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:50:24 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:50:24 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:50:24 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:50:24 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:50:28 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:50:29 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:50:29 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:50:29 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:50:29 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:50:29 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:50:29 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:50:29 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:50:29 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:50:29 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:50:29 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:50:29 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:50:29 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:50:29 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:50:29 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:50:32 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:50:32 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:50:32 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:50:32 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:50:32 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:50:32 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:50:32 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:50:32 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:50:32 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:50:32 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:50:33 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:50:33 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:50:33 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:50:33 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:50:33 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:50:33 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:50:33 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:50:33 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:50:33 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:50:33 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:50:34 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:50:34 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:50:34 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:50:34 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:50:34 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:50:34 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:50:34 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:50:34 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:50:34 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:50:34 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:50:35 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:50:35 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:50:35 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:50:35 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:50:35 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:50:35 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:50:35 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:50:36 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:50:36 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:50:38 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:50:38 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:50:39 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:50:39 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:50:39 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:50:40 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:50:40 ERROR UserServiceImpl:327 - Error in updateUser: 
jakarta.validation.ConstraintViolationException: Validation failed for classes [vn.edu.hcmuaf.cdw.ShopThoiTrang.entity.User] during update time for groups [jakarta.validation.groups.Default, ]
List of constraint violations:[
	ConstraintViolationImpl{interpolatedMessage='Role is required', propertyPath=role, rootBeanClass=class vn.edu.hcmuaf.cdw.ShopThoiTrang.entity.User, messageTemplate='Role is required'}
]
	at org.hibernate.boot.beanvalidation.BeanValidationEventListener.validate(BeanValidationEventListener.java:176)
	at org.hibernate.boot.beanvalidation.BeanValidationEventListener.onPreUpdate(BeanValidationEventListener.java:98)
	at org.hibernate.action.internal.EntityUpdateAction.preUpdate(EntityUpdateAction.java:363)
	at org.hibernate.action.internal.EntityUpdateAction.execute(EntityUpdateAction.java:162)
	at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:644)
	at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:511)
	at org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:414)
	at org.hibernate.event.internal.DefaultAutoFlushEventListener.onAutoFlush(DefaultAutoFlushEventListener.java:67)
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:127)
	at org.hibernate.internal.SessionImpl.autoFlushIfRequired(SessionImpl.java:1379)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.lambda$new$1(ConcreteSqmSelectQueryPlan.java:145)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.withCacheableSqmInterpretation(ConcreteSqmSelectQueryPlan.java:442)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.performList(ConcreteSqmSelectQueryPlan.java:362)
	at org.hibernate.query.sqm.internal.QuerySqmImpl.doList(QuerySqmImpl.java:380)
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:143)
	at org.hibernate.query.spi.AbstractSelectionQuery.getSingleResult(AbstractSelectionQuery.java:275)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$SingleEntityExecution.doExecute(JpaQueryExecution.java:224)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:93)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:152)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:140)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:170)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:136)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy4/jdk.proxy4.$Proxy150.findByUsername(Unknown Source)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.UserServiceImpl.updateUser(UserServiceImpl.java:270)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.UserServiceImpl$$SpringCGLIB$$0.updateUser(<generated>)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.controller.UserController.updateUser(UserController.java:118)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.proceed(AuthorizationManagerBeforeMethodInterceptor.java:268)
	at org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.attemptAuthorization(AuthorizationManagerBeforeMethodInterceptor.java:263)
	at org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.invoke(AuthorizationManagerBeforeMethodInterceptor.java:196)
	at org.springframework.security.config.annotation.method.configuration.DeferringMethodInterceptor.invoke(DeferringMethodInterceptor.java:44)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.controller.UserController$$SpringCGLIB$$0.updateUser(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPut(FrameworkServlet.java:925)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:593)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.filters.AuthTokenFilter.doFilterInternal(AuthTokenFilter.java:103)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1575)
2025-05-20 20:50:40 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:50:40 INFO  AuthServiceImpl:226 - logout
2025-05-20 20:50:40 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:50:40 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:50:40 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:50:40 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:50:40 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:50:40 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:50:40 WARN  AuthTokenFilter:91 - Failed to refresh token: Failed for []: Refresh token is not valid or expired!
2025-05-20 20:50:40 WARN  AuthTokenFilter:91 - Failed to refresh token: Failed for []: Refresh token is not valid or expired!
2025-05-20 20:50:40 WARN  AuthTokenFilter:91 - Failed to refresh token: Failed for []: Refresh token is not valid or expired!
2025-05-20 20:50:40 WARN  AuthTokenFilter:91 - Failed to refresh token: Failed for []: Refresh token is not valid or expired!
2025-05-20 20:50:40 WARN  AuthTokenFilter:91 - Failed to refresh token: Failed for []: Refresh token is not valid or expired!
2025-05-20 20:50:40 WARN  AuthTokenFilter:91 - Failed to refresh token: Failed for []: Refresh token is not valid or expired!
2025-05-20 20:50:40 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:50:40 WARN  AuthTokenFilter:91 - Failed to refresh token: Failed for []: Refresh token is not valid or expired!
2025-05-20 20:50:41 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:50:41 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:50:41 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:50:41 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:50:41 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:50:41 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:50:41 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:50:41 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:50:42 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:50:42 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:50:42 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:50:42 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:50:42 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:50:42 WARN  AuthTokenFilter:91 - Failed to refresh token: Failed for []: Refresh token is not valid or expired!
2025-05-20 20:50:42 WARN  AuthTokenFilter:91 - Failed to refresh token: Failed for []: Refresh token is not valid or expired!
2025-05-20 20:50:42 WARN  AuthTokenFilter:91 - Failed to refresh token: Failed for []: Refresh token is not valid or expired!
2025-05-20 20:50:42 WARN  AuthTokenFilter:91 - Failed to refresh token: Failed for []: Refresh token is not valid or expired!
2025-05-20 20:50:42 WARN  AuthTokenFilter:91 - Failed to refresh token: Failed for []: Refresh token is not valid or expired!
2025-05-20 20:50:42 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:50:42 WARN  AuthTokenFilter:91 - Failed to refresh token: Failed for []: Refresh token is not valid or expired!
2025-05-20 20:50:42 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:50:42 WARN  AuthTokenFilter:91 - Failed to refresh token: Failed for []: Refresh token is not valid or expired!
2025-05-20 20:50:42 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:50:42 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:50:42 WARN  AuthTokenFilter:91 - Failed to refresh token: Failed for []: Refresh token is not valid or expired!
2025-05-20 20:50:42 WARN  AuthTokenFilter:91 - Failed to refresh token: Failed for []: Refresh token is not valid or expired!
2025-05-20 20:50:42 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:50:42 WARN  AuthTokenFilter:91 - Failed to refresh token: Failed for []: Refresh token is not valid or expired!
2025-05-20 20:50:42 INFO  AuthServiceImpl:226 - logout
2025-05-20 20:50:42 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:50:42 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:50:42 DEBUG AuthServiceImpl:171 - Refresh Token is empty!
2025-05-20 20:50:42 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:50:42 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:50:42 DEBUG AuthServiceImpl:171 - Refresh Token is empty!
2025-05-20 20:50:42 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:50:42 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:50:42 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:50:42 WARN  AuthTokenFilter:91 - Failed to refresh token: Failed for []: Refresh token is not valid or expired!
2025-05-20 20:50:42 INFO  AuthServiceImpl:226 - logout
2025-05-20 20:50:42 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:50:42 WARN  AuthTokenFilter:91 - Failed to refresh token: Failed for []: Refresh token is not valid or expired!
2025-05-20 20:50:42 INFO  AuthServiceImpl:226 - logout
2025-05-20 20:50:48 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:50:48 WARN  AuthTokenFilter:91 - Failed to refresh token: Failed for []: Refresh token is not valid or expired!
2025-05-20 20:50:48 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:50:48 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:50:48 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:50:48 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:50:48 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:50:48 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:50:48 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:50:48 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:50:48 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:50:48 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:50:48 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:50:48 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:50:48 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:50:48 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:50:48 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:50:48 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:50:48 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:50:48 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:50:48 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:50:48 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:50:48 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:50:48 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:50:48 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:50:48 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:50:48 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:50:50 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:50:50 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:50:50 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:50:50 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:50:50 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:50:50 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:50:50 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:50:50 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:50:50 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:50:50 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:50:51 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:50:51 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:50:51 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:50:51 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:50:51 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:50:51 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:50:51 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:50:51 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:50:51 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:50:51 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:50:54 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:50:54 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:50:54 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:50:54 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:50:54 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:50:54 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:50:54 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:50:54 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:50:54 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:50:55 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:50:55 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:50:55 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:50:55 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:50:55 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:50:55 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:50:56 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:50:56 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:50:56 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:50:56 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:50:56 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:50:56 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:50:56 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:50:56 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:50:56 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:50:56 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:50:56 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:50:56 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:50:57 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:50:57 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:50:57 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:50:57 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:50:57 ERROR UserServiceImpl:327 - Error in updateUser: 
jakarta.validation.ConstraintViolationException: Validation failed for classes [vn.edu.hcmuaf.cdw.ShopThoiTrang.entity.User] during update time for groups [jakarta.validation.groups.Default, ]
List of constraint violations:[
	ConstraintViolationImpl{interpolatedMessage='Role is required', propertyPath=role, rootBeanClass=class vn.edu.hcmuaf.cdw.ShopThoiTrang.entity.User, messageTemplate='Role is required'}
]
	at org.hibernate.boot.beanvalidation.BeanValidationEventListener.validate(BeanValidationEventListener.java:176)
	at org.hibernate.boot.beanvalidation.BeanValidationEventListener.onPreUpdate(BeanValidationEventListener.java:98)
	at org.hibernate.action.internal.EntityUpdateAction.preUpdate(EntityUpdateAction.java:363)
	at org.hibernate.action.internal.EntityUpdateAction.execute(EntityUpdateAction.java:162)
	at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:644)
	at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:511)
	at org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:414)
	at org.hibernate.event.internal.DefaultAutoFlushEventListener.onAutoFlush(DefaultAutoFlushEventListener.java:67)
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:127)
	at org.hibernate.internal.SessionImpl.autoFlushIfRequired(SessionImpl.java:1379)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.lambda$new$1(ConcreteSqmSelectQueryPlan.java:145)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.withCacheableSqmInterpretation(ConcreteSqmSelectQueryPlan.java:442)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.performList(ConcreteSqmSelectQueryPlan.java:362)
	at org.hibernate.query.sqm.internal.QuerySqmImpl.doList(QuerySqmImpl.java:380)
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:143)
	at org.hibernate.query.spi.AbstractSelectionQuery.getSingleResult(AbstractSelectionQuery.java:275)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$SingleEntityExecution.doExecute(JpaQueryExecution.java:224)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:93)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:152)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:140)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:170)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:136)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy4/jdk.proxy4.$Proxy150.findByUsername(Unknown Source)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.UserServiceImpl.updateUser(UserServiceImpl.java:270)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.UserServiceImpl$$SpringCGLIB$$0.updateUser(<generated>)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.controller.UserController.updateUser(UserController.java:118)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.proceed(AuthorizationManagerBeforeMethodInterceptor.java:268)
	at org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.attemptAuthorization(AuthorizationManagerBeforeMethodInterceptor.java:263)
	at org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.invoke(AuthorizationManagerBeforeMethodInterceptor.java:196)
	at org.springframework.security.config.annotation.method.configuration.DeferringMethodInterceptor.invoke(DeferringMethodInterceptor.java:44)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.controller.UserController$$SpringCGLIB$$0.updateUser(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPut(FrameworkServlet.java:925)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:593)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.filters.AuthTokenFilter.doFilterInternal(AuthTokenFilter.java:103)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1575)
2025-05-20 20:50:57 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:50:57 INFO  AuthServiceImpl:226 - logout
2025-05-20 20:50:57 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:50:57 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:50:57 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:50:57 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:50:57 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:50:57 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:50:57 WARN  AuthTokenFilter:91 - Failed to refresh token: Failed for []: Refresh token is not valid or expired!
2025-05-20 20:50:57 WARN  AuthTokenFilter:91 - Failed to refresh token: Failed for []: Refresh token is not valid or expired!
2025-05-20 20:50:57 WARN  AuthTokenFilter:91 - Failed to refresh token: Failed for []: Refresh token is not valid or expired!
2025-05-20 20:50:57 WARN  AuthTokenFilter:91 - Failed to refresh token: Failed for []: Refresh token is not valid or expired!
2025-05-20 20:50:57 WARN  AuthTokenFilter:91 - Failed to refresh token: Failed for []: Refresh token is not valid or expired!
2025-05-20 20:50:57 WARN  AuthTokenFilter:91 - Failed to refresh token: Failed for []: Refresh token is not valid or expired!
2025-05-20 20:50:57 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:50:57 WARN  AuthTokenFilter:91 - Failed to refresh token: Failed for []: Refresh token is not valid or expired!
2025-05-20 20:50:57 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:50:57 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:50:57 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:50:57 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:50:57 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:50:57 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:50:57 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:50:57 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:50:58 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:50:58 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:50:58 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:50:58 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:50:58 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:50:58 WARN  AuthTokenFilter:91 - Failed to refresh token: Failed for []: Refresh token is not valid or expired!
2025-05-20 20:50:58 WARN  AuthTokenFilter:91 - Failed to refresh token: Failed for []: Refresh token is not valid or expired!
2025-05-20 20:50:58 WARN  AuthTokenFilter:91 - Failed to refresh token: Failed for []: Refresh token is not valid or expired!
2025-05-20 20:50:58 WARN  AuthTokenFilter:91 - Failed to refresh token: Failed for []: Refresh token is not valid or expired!
2025-05-20 20:50:58 WARN  AuthTokenFilter:91 - Failed to refresh token: Failed for []: Refresh token is not valid or expired!
2025-05-20 20:51:00 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:51:00 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:51:00 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:51:00 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:51:00 WARN  AuthTokenFilter:91 - Failed to refresh token: Failed for []: Refresh token is not valid or expired!
2025-05-20 20:51:00 WARN  AuthTokenFilter:91 - Failed to refresh token: Failed for []: Refresh token is not valid or expired!
2025-05-20 20:51:00 WARN  AuthTokenFilter:91 - Failed to refresh token: Failed for []: Refresh token is not valid or expired!
2025-05-20 20:51:00 WARN  AuthTokenFilter:91 - Failed to refresh token: Failed for []: Refresh token is not valid or expired!
2025-05-20 20:51:00 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:51:00 WARN  AuthTokenFilter:91 - Failed to refresh token: Failed for []: Refresh token is not valid or expired!
2025-05-20 20:51:01 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:51:01 WARN  AuthTokenFilter:91 - Failed to refresh token: Failed for []: Refresh token is not valid or expired!
2025-05-20 20:51:01 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:51:01 WARN  AuthTokenFilter:91 - Failed to refresh token: Failed for []: Refresh token is not valid or expired!
2025-05-20 20:51:01 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:51:01 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:51:01 WARN  AuthTokenFilter:91 - Failed to refresh token: Failed for []: Refresh token is not valid or expired!
2025-05-20 20:51:01 WARN  AuthTokenFilter:91 - Failed to refresh token: Failed for []: Refresh token is not valid or expired!
2025-05-20 20:51:01 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:51:01 WARN  AuthTokenFilter:91 - Failed to refresh token: Failed for []: Refresh token is not valid or expired!
2025-05-20 20:51:01 INFO  AuthServiceImpl:226 - logout
2025-05-20 20:51:01 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:51:01 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:51:01 DEBUG AuthServiceImpl:171 - Refresh Token is empty!
2025-05-20 20:51:01 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:51:01 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:51:01 DEBUG AuthServiceImpl:171 - Refresh Token is empty!
2025-05-20 20:51:01 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:51:01 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:51:01 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:51:01 WARN  AuthTokenFilter:91 - Failed to refresh token: Failed for []: Refresh token is not valid or expired!
2025-05-20 20:51:01 INFO  AuthServiceImpl:226 - logout
2025-05-20 20:51:01 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:51:01 WARN  AuthTokenFilter:91 - Failed to refresh token: Failed for []: Refresh token is not valid or expired!
2025-05-20 20:51:01 INFO  AuthServiceImpl:226 - logout
2025-05-20 20:51:18 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:51:18 WARN  AuthTokenFilter:91 - Failed to refresh token: Failed for []: Refresh token is not valid or expired!
2025-05-20 20:51:18 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:51:18 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:51:18 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:51:18 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:51:18 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:51:18 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:51:18 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:51:18 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:51:18 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:51:18 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:51:18 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:51:18 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:51:18 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:51:18 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:51:18 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:51:18 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:51:18 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:51:18 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:51:18 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:51:18 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:51:18 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:51:18 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:51:18 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:51:18 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:51:18 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:51:18 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:51:18 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:51:18 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:51:18 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:51:18 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:51:18 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:51:19 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:51:19 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:51:19 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:51:19 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:51:19 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:51:19 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:51:19 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:51:19 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:51:19 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:51:19 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:51:19 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:51:19 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:51:19 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:51:19 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:51:25 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:51:25 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:51:25 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:51:25 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:51:25 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:51:25 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:51:25 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:51:25 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:51:25 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:51:26 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:51:26 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:51:26 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:51:26 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:51:26 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:51:26 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:51:28 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:51:28 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:51:28 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:51:28 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:51:29 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:51:29 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:51:29 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:51:29 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:51:29 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:51:29 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:51:29 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:51:29 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:51:30 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:51:30 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:51:30 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:51:30 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:51:30 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 20:51:30 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 20:51:35 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:51:35 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:51:35 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:51:35 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:52:08 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:52:08 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:52:08 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:52:08 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:52:10 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:52:10 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:52:10 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:52:10 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:52:10 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:52:10 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:52:10 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:52:10 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:52:10 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:52:10 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:52:10 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:52:10 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:52:10 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:52:10 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:52:10 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:52:10 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:52:10 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:52:10 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:52:10 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:52:11 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:52:11 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:52:11 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:52:11 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:52:11 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:52:11 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:52:11 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:52:11 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:52:11 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:52:11 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:52:11 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:52:11 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:52:11 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:52:11 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:52:11 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:52:11 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:52:11 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:52:11 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:52:11 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:52:11 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:52:11 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:52:12 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:52:12 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:52:12 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 20:52:12 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 21:05:30 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 21:05:30 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 21:05:30 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 21:05:30 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 21:05:30 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 21:05:30 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 21:05:30 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 21:05:30 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 21:11:21 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 21:11:21 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 21:11:24 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 21:11:24 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 21:11:27 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 21:11:27 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 21:11:31 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 21:11:31 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 21:11:31 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 21:11:31 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 21:11:31 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 21:11:31 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 21:11:31 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 21:11:31 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 21:11:31 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 21:11:31 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 21:11:31 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 21:11:31 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 21:11:31 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 21:11:31 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 21:11:31 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 21:11:32 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 21:11:32 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 21:11:32 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 21:11:32 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 21:11:32 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 21:11:32 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 21:11:32 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 21:11:32 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 21:11:32 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 21:11:32 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 21:11:32 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 21:11:34 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 21:11:34 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 21:11:34 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 21:11:34 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 21:11:34 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 21:11:34 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 21:11:34 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 21:11:34 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 21:11:34 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 21:12:02 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 21:12:02 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 21:12:04 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 21:12:04 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 21:12:07 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 21:12:07 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 21:12:26 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 21:12:26 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 21:14:20 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 21:14:20 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 21:14:25 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 21:14:25 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 21:16:31 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 21:16:31 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 21:16:31 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 21:16:31 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 21:16:32 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 21:16:32 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 21:16:32 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 21:16:32 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 21:16:32 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 21:16:32 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 21:16:32 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 21:16:32 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 21:16:32 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 21:16:32 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 21:16:32 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 21:16:32 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 21:16:32 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 21:16:33 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 21:16:33 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 21:16:33 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 21:16:33 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 21:16:33 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 21:16:33 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 21:16:33 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 21:16:33 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 21:16:34 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 21:16:34 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 21:16:34 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 21:16:34 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 21:16:34 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 21:17:13 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 21:17:13 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 21:17:13 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 21:17:13 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 21:17:13 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 21:17:48 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 21:17:48 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 21:17:48 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 21:17:48 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 21:17:48 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 21:17:50 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 21:17:50 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 21:17:50 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 21:17:50 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 21:17:50 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 21:17:50 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 21:17:50 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 21:17:50 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 21:17:50 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 21:17:50 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 21:17:51 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 21:17:51 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 21:17:51 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 21:17:51 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 21:17:51 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 21:17:51 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 21:17:51 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 21:17:51 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 21:17:51 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 21:17:51 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 21:17:53 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 21:17:53 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 21:17:53 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 21:17:53 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 21:17:53 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-20 21:17:53 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-20 21:17:53 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 21:17:53 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 21:17:53 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 21:17:55 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-20 21:17:55 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 20:55:20 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 20:55:20 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 20:55:24 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 20:55:24 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 20:55:24 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 20:55:24 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 20:55:24 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 20:55:24 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 20:55:24 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 20:55:24 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 20:55:24 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 20:55:24 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 20:55:24 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 20:55:24 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 20:55:24 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 20:55:24 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 20:55:24 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 20:55:24 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 20:55:24 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 20:55:24 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 20:55:24 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 20:55:24 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 20:55:24 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 20:55:24 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 20:55:24 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 20:55:24 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 20:55:24 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 20:55:24 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 20:55:24 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 20:55:24 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 20:55:50 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 20:55:50 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 20:55:50 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 20:55:50 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 20:55:50 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 20:55:50 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 20:55:50 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 20:55:50 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 20:55:50 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 20:55:50 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 20:55:50 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 20:55:50 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 20:55:50 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 20:55:50 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 20:55:50 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 20:55:50 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 20:55:50 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 20:55:50 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 20:55:50 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 20:55:50 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 20:55:50 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 20:55:50 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 20:55:50 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 20:55:50 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 20:55:50 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 20:55:50 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 20:55:51 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 20:55:51 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 20:55:51 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 20:55:51 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 20:55:51 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 20:55:51 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 20:55:51 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 20:55:51 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 20:55:51 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 20:55:51 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 20:55:51 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 20:55:51 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 20:55:51 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 20:55:51 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 20:55:51 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 20:55:51 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 20:55:51 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 20:55:51 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 20:55:51 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 20:55:51 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 20:55:51 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 20:55:51 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 20:55:51 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 20:55:51 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 20:55:51 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 20:55:51 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 20:55:51 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 20:55:51 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 20:55:51 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 20:55:51 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 20:55:54 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 20:55:54 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 20:55:54 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 20:55:54 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 20:55:54 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 20:55:54 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 20:55:54 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 20:55:54 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 20:55:54 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 20:55:54 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 20:56:06 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 20:56:06 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 20:56:08 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 20:56:08 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 20:56:08 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 20:56:08 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 20:56:08 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 20:56:08 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 20:56:08 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 20:56:08 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 20:56:08 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 20:56:08 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 20:56:08 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 20:56:08 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 20:56:08 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 20:56:08 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 20:56:08 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 20:56:08 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 20:56:08 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 20:56:08 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 20:56:08 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 20:56:08 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 20:56:08 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 20:56:08 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 20:56:08 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 20:56:08 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 20:56:08 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 20:56:08 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 20:56:08 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 20:56:08 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 20:56:08 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 20:56:08 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 20:56:11 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 20:56:11 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 20:56:12 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 20:56:12 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 20:56:12 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 20:56:12 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 20:56:12 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 20:56:12 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 20:56:12 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 20:56:12 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 20:56:12 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 20:56:12 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 20:56:12 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 20:56:12 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 20:56:12 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 20:56:12 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 20:56:12 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 20:56:12 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 20:56:12 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 20:56:12 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 20:56:12 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 20:56:12 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 20:56:12 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 20:56:12 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 20:56:12 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 20:56:12 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 20:56:12 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 20:56:12 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 20:56:12 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 20:56:12 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 20:56:12 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 20:56:12 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 20:56:14 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 20:56:14 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 20:56:14 INFO  AuthServiceImpl:226 - logout
2025-05-23 20:56:14 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 20:56:15 WARN  AuthTokenFilter:91 - Failed to refresh token: Failed for []: Refresh token is not valid or expired!
2025-05-23 20:56:15 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 20:56:15 WARN  AuthTokenFilter:91 - Failed to refresh token: Failed for []: Refresh token is not valid or expired!
2025-05-23 20:57:01 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 20:57:01 WARN  AuthTokenFilter:91 - Failed to refresh token: Failed for []: Refresh token is not valid or expired!
2025-05-23 20:57:07 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 20:57:07 WARN  AuthTokenFilter:91 - Failed to refresh token: Failed for []: Refresh token is not valid or expired!
2025-05-23 20:57:12 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 20:57:12 WARN  AuthTokenFilter:91 - Failed to refresh token: Failed for []: Refresh token is not valid or expired!
2025-05-23 20:57:32 INFO  EmailService:44 - Email sent to: 21130477@st.hcmuaf.edu.vn
2025-05-23 20:57:32 INFO  AuthServiceImpl:265 - OTP for sign up new Account has sent to email: 21130477@st.hcmuaf.edu.vn
2025-05-23 20:57:54 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 20:57:54 WARN  AuthTokenFilter:91 - Failed to refresh token: Failed for []: Refresh token is not valid or expired!
2025-05-23 20:57:55 INFO  AuthServiceImpl:319 - Signup successful with email: 21130477@st.hcmuaf.edu.vn and username: LHPS
2025-05-23 20:57:55 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 20:57:55 WARN  AuthTokenFilter:91 - Failed to refresh token: Failed for []: Refresh token is not valid or expired!
2025-05-23 20:57:56 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 20:57:56 WARN  AuthTokenFilter:91 - Failed to refresh token: Failed for []: Refresh token is not valid or expired!
2025-05-23 20:58:02 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 20:58:02 WARN  AuthTokenFilter:91 - Failed to refresh token: Failed for []: Refresh token is not valid or expired!
2025-05-23 20:58:03 INFO  AuthServiceImpl:94 - LHPS logged in
2025-05-23 20:58:03 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPS
2025-05-23 20:58:04 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 20:58:04 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 20:58:04 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 20:58:04 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPS
2025-05-23 20:58:04 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 20:58:04 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 20:58:04 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 20:58:04 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 20:58:04 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 20:58:04 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 20:58:04 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 20:58:04 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 20:58:04 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 20:58:04 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPS
2025-05-23 20:58:04 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 20:58:04 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 20:58:04 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 20:58:04 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 20:58:04 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 20:58:04 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 20:58:04 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 20:58:04 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 20:58:04 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 20:58:04 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 20:58:04 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 20:58:04 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 20:58:06 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPS
2025-05-23 20:58:45 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPS
2025-05-23 20:58:45 INFO  OrderServiceImpl:217 - LHPS ordered successfully with order id: 17
2025-05-23 20:58:45 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 20:58:45 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 20:58:45 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 20:58:45 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 20:58:45 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 20:58:45 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 20:58:45 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 20:58:45 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 20:58:45 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 20:58:45 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 20:58:45 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 20:58:45 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPS
2025-05-23 20:58:45 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 20:58:45 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 20:58:45 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 20:58:45 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 20:58:45 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 20:58:45 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 20:58:45 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 20:58:45 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 20:58:45 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 20:58:45 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 20:58:45 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 20:58:45 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 20:58:45 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 20:58:47 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPS
2025-05-23 20:58:48 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 20:58:48 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 20:58:48 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 20:58:48 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 20:58:48 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 20:58:48 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 20:58:48 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 20:58:48 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 20:58:48 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 20:58:48 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 20:58:48 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 20:58:48 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 20:58:48 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 20:58:48 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 20:58:48 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 20:58:48 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 20:58:48 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 20:58:48 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 20:58:48 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 20:58:48 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 20:58:48 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 20:58:48 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 20:58:48 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 20:58:48 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 20:58:48 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 20:58:48 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 20:58:48 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 20:58:48 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 20:58:48 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 20:58:48 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 20:58:50 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 20:58:50 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 20:58:50 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 20:58:50 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 20:58:50 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 20:58:50 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 20:58:50 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 20:58:50 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 20:58:50 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPS
2025-05-23 20:58:52 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPS
2025-05-23 20:59:13 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPS
2025-05-23 20:59:28 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPS
2025-05-23 20:59:29 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPS
2025-05-23 20:59:29 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPS
2025-05-23 20:59:46 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPS
2025-05-23 21:00:03 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 21:00:03 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 21:00:03 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 21:00:03 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 21:00:03 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 21:00:03 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 21:00:03 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 21:00:03 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 21:00:03 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPS
2025-05-23 21:00:03 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 21:00:03 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 21:00:16 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPS
2025-05-23 21:00:27 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPS
2025-05-23 21:00:28 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPS
2025-05-23 21:00:28 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPS
2025-05-23 21:00:28 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPS
2025-05-23 21:00:28 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 21:00:28 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 21:00:28 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 21:00:28 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 21:00:28 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 21:00:28 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 21:00:28 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 21:00:28 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 21:00:28 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 21:00:28 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 21:00:28 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 21:00:28 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 21:00:28 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 21:00:28 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 21:00:28 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 21:00:28 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 21:00:28 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 21:00:28 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 21:00:28 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 21:00:28 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 21:00:28 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 21:00:28 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 21:00:28 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 21:00:28 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 21:00:31 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPS
2025-05-23 21:00:37 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPS
2025-05-23 21:00:39 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPS
2025-05-23 21:00:52 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPS
2025-05-23 21:00:52 INFO  UserServiceImpl:100 - UserId 45 updated info successfully
2025-05-23 21:01:01 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPS
2025-05-23 21:01:48 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPS
2025-05-23 21:01:48 INFO  UserServiceImpl:83 - LHPS changed password successfully
2025-05-23 21:01:54 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPS
2025-05-23 21:01:55 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPS
2025-05-23 21:02:46 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 21:02:46 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 21:02:46 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 21:02:46 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 21:02:46 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 21:02:46 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 21:02:46 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 21:02:46 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 21:02:46 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 21:02:46 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 21:02:46 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 21:02:46 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 21:02:46 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 21:02:46 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 21:02:46 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 21:02:46 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 21:02:46 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 21:02:46 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 21:02:46 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 21:02:46 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 21:02:46 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 21:02:46 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 21:02:46 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 21:02:46 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 21:02:46 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 21:02:46 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 21:02:46 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 21:02:46 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 21:02:46 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 21:02:46 DEBUG AuthServiceImpl:171 - Refresh Token is empty!
2025-05-23 21:02:46 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 21:02:46 DEBUG AuthServiceImpl:171 - Refresh Token is empty!
2025-05-23 21:02:46 DEBUG AuthServiceImpl:171 - Refresh Token is empty!
2025-05-23 21:02:46 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 21:02:46 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 21:02:46 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 21:02:46 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 21:02:46 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 21:02:46 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 21:02:46 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 21:02:46 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 21:02:46 INFO  AuthServiceImpl:226 - logout
2025-05-23 21:02:46 INFO  AuthServiceImpl:226 - logout
2025-05-23 21:02:46 INFO  AuthServiceImpl:226 - logout
2025-05-23 21:02:46 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 21:02:46 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 21:02:54 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 21:02:54 WARN  AuthTokenFilter:91 - Failed to refresh token: Failed for []: Refresh token is not valid or expired!
2025-05-23 21:02:55 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:02:55 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:02:55 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:02:55 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:02:55 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:02:55 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:02:55 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:02:55 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:02:55 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 21:02:55 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 21:02:55 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 21:02:55 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 21:02:56 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:02:56 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:02:56 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:02:56 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:02:56 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:02:56 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:02:56 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:02:56 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:02:56 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:02:56 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:02:56 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 21:02:56 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 21:02:56 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 21:02:56 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 21:02:57 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 21:02:57 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 21:02:57 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 21:02:57 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 21:03:15 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:03:15 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:03:15 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:03:15 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:03:15 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 21:03:15 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 21:03:15 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:03:15 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:03:15 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:03:15 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:03:15 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 21:03:15 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 21:03:15 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:03:15 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:03:15 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:03:16 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:03:16 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:03:16 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:03:16 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:03:16 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:03:16 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:03:16 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 21:03:16 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 21:03:16 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 21:03:16 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 21:03:17 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:03:17 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:03:17 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:03:17 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:03:17 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 21:03:17 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 21:03:17 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:03:17 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:03:17 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 21:03:17 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 21:03:23 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:03:23 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:03:23 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 21:03:23 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 21:03:23 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:03:24 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:03:24 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 21:03:24 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 21:03:24 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:03:27 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:03:27 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:03:41 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:03:41 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:03:43 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:03:43 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:03:43 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:03:44 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:04:02 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:04:02 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:04:02 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:04:02 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:04:03 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:04:04 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:04:08 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:04:08 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:04:11 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:04:11 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:04:11 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:04:11 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:04:11 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 21:04:11 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 21:04:11 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:04:11 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:04:11 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 21:04:11 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 21:05:13 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:05:15 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:05:15 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:05:16 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:05:16 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:05:16 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:05:16 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:05:16 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:05:16 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 21:05:16 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 21:05:16 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 21:05:16 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 21:05:16 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:05:16 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:05:16 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 21:05:16 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 21:05:16 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 21:05:16 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 21:05:17 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:05:17 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:05:17 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:05:17 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:05:17 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:05:17 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:05:17 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:05:17 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 21:05:17 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 21:05:17 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 21:05:17 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 21:05:19 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:05:19 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:05:19 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 21:05:19 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 21:05:19 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:05:19 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 21:05:19 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 21:05:19 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:05:19 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:05:52 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:05:52 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:05:52 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:05:52 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:05:52 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:05:52 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:05:52 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:05:52 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:05:53 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:05:53 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:05:53 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 21:05:53 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 21:05:53 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 21:05:53 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 21:05:53 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:05:53 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:05:53 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:05:53 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:05:53 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:05:53 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:05:53 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:05:53 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:05:53 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:05:53 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:05:54 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 21:05:54 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 21:05:54 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 21:05:54 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 21:05:54 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 21:05:54 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 21:05:54 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 21:05:54 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 21:05:55 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:05:55 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:05:55 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:05:55 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:05:55 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:05:57 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:05:57 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:05:57 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 21:05:57 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 21:05:57 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:05:57 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 21:05:57 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 21:05:57 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:05:57 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:05:59 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:05:59 INFO  AuthServiceImpl:226 - logout
2025-05-23 21:06:04 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 21:06:04 WARN  AuthTokenFilter:91 - Failed to refresh token: Failed for []: Refresh token is not valid or expired!
2025-05-23 21:06:04 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:06:04 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:06:04 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:06:04 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:06:04 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:06:04 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:06:04 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:06:04 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:06:04 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:06:04 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:06:04 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 21:06:04 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 21:06:04 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 21:06:04 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 21:06:04 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 21:06:04 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 21:06:05 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:06:05 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:06:05 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:06:05 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:06:05 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:06:05 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:06:05 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:06:05 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:06:05 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:06:05 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:06:05 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 21:06:05 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 21:06:05 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 21:06:05 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 21:06:05 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 21:06:05 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 21:06:05 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 21:06:05 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 21:06:07 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:06:07 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:06:07 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 21:06:07 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 21:06:07 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:06:07 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:06:07 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 21:06:07 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 21:06:07 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:06:16 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:06:16 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:06:17 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:06:17 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:06:17 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:06:17 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:06:17 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 21:06:17 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 21:06:17 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 21:06:17 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 21:06:17 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:06:17 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 21:06:17 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 21:06:18 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 21:06:18 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 21:06:18 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:06:18 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:06:21 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:06:21 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:06:21 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:06:21 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:06:21 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 21:06:21 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 21:06:21 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:06:21 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:06:21 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 21:06:21 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 21:06:33 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:06:33 INFO  UserServiceImpl:369 - User LHPadmin deleted user hine2
2025-05-23 21:06:44 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:06:47 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:06:47 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:06:47 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:06:47 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:06:47 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:06:47 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:06:47 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:06:48 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 21:06:48 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 21:06:48 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 21:06:48 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 21:06:50 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:06:50 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:06:50 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 21:06:50 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 21:06:50 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:06:50 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 21:06:50 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 21:06:50 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:06:50 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:06:59 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:06:59 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:07:00 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:07:01 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:07:01 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:07:01 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:07:01 ERROR UserServiceImpl:327 - Error in updateUser: 
jakarta.validation.ConstraintViolationException: Validation failed for classes [vn.edu.hcmuaf.cdw.ShopThoiTrang.entity.User] during update time for groups [jakarta.validation.groups.Default, ]
List of constraint violations:[
	ConstraintViolationImpl{interpolatedMessage='Role is required', propertyPath=role, rootBeanClass=class vn.edu.hcmuaf.cdw.ShopThoiTrang.entity.User, messageTemplate='Role is required'}
]
	at org.hibernate.boot.beanvalidation.BeanValidationEventListener.validate(BeanValidationEventListener.java:176)
	at org.hibernate.boot.beanvalidation.BeanValidationEventListener.onPreUpdate(BeanValidationEventListener.java:98)
	at org.hibernate.action.internal.EntityUpdateAction.preUpdate(EntityUpdateAction.java:363)
	at org.hibernate.action.internal.EntityUpdateAction.execute(EntityUpdateAction.java:162)
	at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:644)
	at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:511)
	at org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:414)
	at org.hibernate.event.internal.DefaultAutoFlushEventListener.onAutoFlush(DefaultAutoFlushEventListener.java:67)
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:127)
	at org.hibernate.internal.SessionImpl.autoFlushIfRequired(SessionImpl.java:1379)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.lambda$new$1(ConcreteSqmSelectQueryPlan.java:145)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.withCacheableSqmInterpretation(ConcreteSqmSelectQueryPlan.java:442)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.performList(ConcreteSqmSelectQueryPlan.java:362)
	at org.hibernate.query.sqm.internal.QuerySqmImpl.doList(QuerySqmImpl.java:380)
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:143)
	at org.hibernate.query.spi.AbstractSelectionQuery.getSingleResult(AbstractSelectionQuery.java:275)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$SingleEntityExecution.doExecute(JpaQueryExecution.java:224)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:93)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:152)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:140)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:170)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:136)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy4/jdk.proxy4.$Proxy150.findByUsername(Unknown Source)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.UserServiceImpl.updateUser(UserServiceImpl.java:270)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.UserServiceImpl$$SpringCGLIB$$0.updateUser(<generated>)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.controller.UserController.updateUser(UserController.java:118)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.proceed(AuthorizationManagerBeforeMethodInterceptor.java:268)
	at org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.attemptAuthorization(AuthorizationManagerBeforeMethodInterceptor.java:263)
	at org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.invoke(AuthorizationManagerBeforeMethodInterceptor.java:196)
	at org.springframework.security.config.annotation.method.configuration.DeferringMethodInterceptor.invoke(DeferringMethodInterceptor.java:44)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.controller.UserController$$SpringCGLIB$$0.updateUser(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPut(FrameworkServlet.java:925)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:593)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.filters.AuthTokenFilter.doFilterInternal(AuthTokenFilter.java:103)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1575)
2025-05-23 21:07:01 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:07:01 INFO  AuthServiceImpl:226 - logout
2025-05-23 21:07:01 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 21:07:01 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 21:07:01 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 21:07:01 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 21:07:01 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 21:07:01 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 21:07:01 WARN  AuthTokenFilter:91 - Failed to refresh token: Failed for []: Refresh token is not valid or expired!
2025-05-23 21:07:01 WARN  AuthTokenFilter:91 - Failed to refresh token: Failed for []: Refresh token is not valid or expired!
2025-05-23 21:07:01 WARN  AuthTokenFilter:91 - Failed to refresh token: Failed for []: Refresh token is not valid or expired!
2025-05-23 21:07:01 WARN  AuthTokenFilter:91 - Failed to refresh token: Failed for []: Refresh token is not valid or expired!
2025-05-23 21:07:01 WARN  AuthTokenFilter:91 - Failed to refresh token: Failed for []: Refresh token is not valid or expired!
2025-05-23 21:07:01 WARN  AuthTokenFilter:91 - Failed to refresh token: Failed for []: Refresh token is not valid or expired!
2025-05-23 21:07:01 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 21:07:01 WARN  AuthTokenFilter:91 - Failed to refresh token: Failed for []: Refresh token is not valid or expired!
2025-05-23 21:07:01 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 21:07:01 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 21:07:01 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 21:07:01 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 21:07:01 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 21:07:01 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 21:07:01 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 21:07:01 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 21:07:02 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 21:07:02 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 21:07:02 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 21:07:02 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 21:07:02 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 21:07:02 WARN  AuthTokenFilter:91 - Failed to refresh token: Failed for []: Refresh token is not valid or expired!
2025-05-23 21:07:02 WARN  AuthTokenFilter:91 - Failed to refresh token: Failed for []: Refresh token is not valid or expired!
2025-05-23 21:07:02 WARN  AuthTokenFilter:91 - Failed to refresh token: Failed for []: Refresh token is not valid or expired!
2025-05-23 21:07:02 WARN  AuthTokenFilter:91 - Failed to refresh token: Failed for []: Refresh token is not valid or expired!
2025-05-23 21:07:02 WARN  AuthTokenFilter:91 - Failed to refresh token: Failed for []: Refresh token is not valid or expired!
2025-05-23 21:07:04 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 21:07:04 WARN  AuthTokenFilter:91 - Failed to refresh token: Failed for []: Refresh token is not valid or expired!
2025-05-23 21:07:04 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 21:07:04 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 21:07:04 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 21:07:04 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 21:07:04 WARN  AuthTokenFilter:91 - Failed to refresh token: Failed for []: Refresh token is not valid or expired!
2025-05-23 21:07:04 WARN  AuthTokenFilter:91 - Failed to refresh token: Failed for []: Refresh token is not valid or expired!
2025-05-23 21:07:04 WARN  AuthTokenFilter:91 - Failed to refresh token: Failed for []: Refresh token is not valid or expired!
2025-05-23 21:07:04 WARN  AuthTokenFilter:91 - Failed to refresh token: Failed for []: Refresh token is not valid or expired!
2025-05-23 21:07:07 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 21:07:07 WARN  AuthTokenFilter:91 - Failed to refresh token: Failed for []: Refresh token is not valid or expired!
2025-05-23 21:07:07 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 21:07:07 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 21:07:07 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 21:07:07 WARN  AuthTokenFilter:91 - Failed to refresh token: Failed for []: Refresh token is not valid or expired!
2025-05-23 21:07:07 WARN  AuthTokenFilter:91 - Failed to refresh token: Failed for []: Refresh token is not valid or expired!
2025-05-23 21:07:07 WARN  AuthTokenFilter:91 - Failed to refresh token: Failed for []: Refresh token is not valid or expired!
2025-05-23 21:07:07 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 21:07:07 WARN  AuthTokenFilter:91 - Failed to refresh token: Failed for []: Refresh token is not valid or expired!
2025-05-23 21:07:07 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 21:07:07 WARN  AuthTokenFilter:91 - Failed to refresh token: Failed for []: Refresh token is not valid or expired!
2025-05-23 21:07:07 INFO  AuthServiceImpl:226 - logout
2025-05-23 21:07:07 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 21:07:07 WARN  AuthTokenFilter:91 - Failed to refresh token: Failed for []: Refresh token is not valid or expired!
2025-05-23 21:07:07 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 21:07:07 WARN  AuthTokenFilter:91 - Failed to refresh token: Failed for []: Refresh token is not valid or expired!
2025-05-23 21:07:07 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 21:07:07 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 21:07:07 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 21:07:07 DEBUG AuthServiceImpl:171 - Refresh Token is empty!
2025-05-23 21:07:07 WARN  AuthTokenFilter:91 - Failed to refresh token: Failed for []: Refresh token is not valid or expired!
2025-05-23 21:07:07 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 21:07:07 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 21:07:07 DEBUG AuthServiceImpl:171 - Refresh Token is empty!
2025-05-23 21:07:07 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 21:07:07 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 21:07:07 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 21:07:07 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 21:07:07 DEBUG AuthServiceImpl:171 - Refresh Token is empty!
2025-05-23 21:07:07 DEBUG AuthServiceImpl:171 - Refresh Token is empty!
2025-05-23 21:07:07 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 21:07:07 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 21:07:07 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 21:07:07 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 21:07:07 DEBUG AuthServiceImpl:171 - Refresh Token is empty!
2025-05-23 21:07:07 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 21:07:07 WARN  AuthTokenFilter:91 - Failed to refresh token: Failed for []: Refresh token is not valid or expired!
2025-05-23 21:07:07 INFO  AuthServiceImpl:226 - logout
2025-05-23 21:07:07 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 21:07:07 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 21:07:07 DEBUG AuthServiceImpl:171 - Refresh Token is empty!
2025-05-23 21:07:07 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 21:07:07 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 21:07:07 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 21:07:07 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 21:07:07 WARN  AuthTokenFilter:91 - Failed to refresh token: Failed for []: Refresh token is not valid or expired!
2025-05-23 21:07:07 WARN  AuthTokenFilter:91 - Failed to refresh token: Failed for []: Refresh token is not valid or expired!
2025-05-23 21:07:07 WARN  AuthTokenFilter:91 - Failed to refresh token: Failed for []: Refresh token is not valid or expired!
2025-05-23 21:07:07 WARN  AuthTokenFilter:91 - Failed to refresh token: Failed for []: Refresh token is not valid or expired!
2025-05-23 21:07:07 INFO  AuthServiceImpl:226 - logout
2025-05-23 21:07:07 INFO  AuthServiceImpl:226 - logout
2025-05-23 21:07:07 INFO  AuthServiceImpl:226 - logout
2025-05-23 21:07:07 INFO  AuthServiceImpl:226 - logout
2025-05-23 21:07:07 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 21:07:07 WARN  AuthTokenFilter:91 - Failed to refresh token: Failed for []: Refresh token is not valid or expired!
2025-05-23 21:07:07 INFO  AuthServiceImpl:226 - logout
2025-05-23 21:07:37 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 21:07:37 WARN  AuthTokenFilter:91 - Failed to refresh token: Failed for []: Refresh token is not valid or expired!
2025-05-23 21:07:37 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:07:37 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:07:37 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:07:37 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:07:37 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:07:37 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:07:37 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:07:37 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:07:37 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 21:07:37 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 21:07:37 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 21:07:37 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 21:07:37 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:07:37 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:07:37 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:07:37 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:07:37 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:07:37 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:07:37 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 21:07:37 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 21:07:37 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 21:07:37 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 21:07:37 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:07:37 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:07:38 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:07:38 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:07:38 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:07:38 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:07:38 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:07:38 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:07:38 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:07:38 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:07:38 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:07:38 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:07:38 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 21:07:38 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 21:07:38 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 21:07:38 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 21:07:38 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 21:07:38 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 21:07:39 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 21:07:39 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 21:07:39 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:07:39 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:07:39 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:07:39 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:07:39 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:07:39 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 21:07:39 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 21:07:39 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:07:39 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:07:39 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 21:07:39 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 21:07:44 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:07:44 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:07:44 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:07:44 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:07:44 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:07:44 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:07:44 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 21:07:44 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 21:07:44 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:07:44 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 21:07:44 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 21:07:44 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:07:44 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:07:44 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:07:44 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:07:44 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:07:44 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:07:45 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:07:45 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:07:45 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:07:45 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:07:45 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 21:07:45 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 21:07:45 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:07:45 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 21:07:45 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 21:07:45 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:07:45 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:07:45 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:07:45 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:07:45 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:07:45 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:07:45 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:07:45 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:07:46 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:07:46 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:07:46 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 21:07:46 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 21:07:46 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:07:46 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:07:46 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 21:07:46 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 21:07:46 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 21:07:46 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 21:07:46 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:07:46 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:07:46 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 21:07:46 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 21:07:46 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:07:46 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:07:46 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:07:46 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:07:46 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:07:46 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:07:46 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:07:46 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:07:46 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:07:46 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:07:46 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:07:46 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:07:46 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:07:46 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:07:46 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 21:07:46 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 21:07:46 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:07:46 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:07:47 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 21:07:47 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 21:07:47 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:07:47 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:07:47 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:07:47 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:07:47 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 21:07:47 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 21:07:47 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:07:48 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:07:48 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 21:07:48 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 21:07:48 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:07:48 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:07:48 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 21:07:48 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 21:07:49 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 21:07:49 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 21:07:49 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:07:49 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:07:49 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:07:49 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:07:49 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:07:49 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:07:49 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:07:49 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 21:07:49 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 21:07:49 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:07:49 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:07:49 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:07:49 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:07:49 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 21:07:49 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 21:07:49 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:07:49 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:07:50 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:07:50 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:07:50 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:07:50 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:07:50 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 21:07:50 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 21:07:50 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:07:50 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:07:50 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 21:07:50 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 21:07:50 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:07:50 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:07:50 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:07:50 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:07:50 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:07:50 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:07:51 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:07:51 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 21:07:51 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 21:07:51 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:07:51 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:07:51 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 21:07:51 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 21:07:51 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:07:51 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:07:51 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 21:07:51 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 21:07:51 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:07:51 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:07:51 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 21:07:51 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 21:07:51 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 21:07:51 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 21:07:51 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:07:51 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:07:51 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:07:51 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:07:51 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:07:51 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:07:51 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:07:51 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:07:51 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:07:51 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 21:07:51 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 21:07:51 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:07:51 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:07:51 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:07:51 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:07:51 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:07:51 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:07:51 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 21:07:51 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 21:07:51 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:07:51 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 21:07:51 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 21:07:51 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:07:52 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:07:52 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:07:52 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:07:52 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:07:52 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:07:52 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:07:52 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:07:52 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 21:07:52 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 21:07:52 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:07:52 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:07:52 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 21:07:52 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 21:07:52 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:07:52 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:07:53 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:07:53 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:07:53 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:07:53 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:07:53 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:07:53 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 21:07:53 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 21:07:53 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:07:53 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:07:54 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 21:07:54 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 21:07:55 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:07:55 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:07:55 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 21:07:55 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 21:07:55 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:07:55 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:07:55 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 21:07:55 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 21:07:55 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 21:07:55 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 21:07:55 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:07:55 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:07:55 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:07:55 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:07:55 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:07:55 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:07:55 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:07:55 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:07:55 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:07:55 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 21:07:55 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 21:07:58 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:07:58 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:07:58 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:07:58 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:07:58 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 21:07:58 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 21:07:58 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:07:58 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:07:59 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 21:07:59 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 21:08:00 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:08:00 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:08:00 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:08:00 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:08:00 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:08:00 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:08:00 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 21:08:00 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 21:08:00 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 21:08:00 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 21:08:01 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:08:01 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:08:01 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:08:01 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:08:01 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 21:08:01 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 21:08:02 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 21:08:02 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 21:08:02 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:08:02 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:08:02 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:08:02 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:08:02 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:08:02 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:08:02 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:08:02 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 21:08:02 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 21:08:02 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:08:02 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:08:02 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 21:08:02 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 21:08:03 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:08:03 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:08:03 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:08:03 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:08:03 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 21:08:03 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 21:08:03 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 21:08:03 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 21:08:05 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:08:05 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:08:05 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:08:05 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:08:05 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:08:05 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:08:05 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 21:08:05 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 21:08:06 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 21:08:06 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 21:08:50 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:08:50 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:08:50 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:08:50 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:08:50 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:08:50 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:08:50 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:08:50 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 21:08:50 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 21:08:50 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:08:50 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:08:50 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 21:08:50 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 21:08:51 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:08:51 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:08:51 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:08:51 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:08:51 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 21:08:51 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 21:08:51 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 21:08:51 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 21:08:52 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:08:52 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:08:52 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:08:52 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:08:52 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 21:08:52 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 21:08:52 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:08:52 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:08:52 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 21:08:52 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 21:08:53 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:08:53 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:08:53 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:08:53 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:08:53 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 21:08:53 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 21:08:53 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 21:08:53 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 21:08:53 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:08:53 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:08:53 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:08:53 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:08:53 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 21:08:53 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 21:08:53 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:08:53 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:08:53 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 21:08:53 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 21:08:54 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:08:54 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:08:54 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:08:54 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:08:54 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:08:54 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:08:54 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:08:54 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 21:08:54 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 21:08:54 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:08:54 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:08:54 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 21:08:54 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 21:08:54 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:08:54 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:08:55 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:08:55 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:08:55 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:08:55 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 21:08:55 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 21:08:55 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:08:55 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 21:08:55 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 21:08:55 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 21:08:55 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 21:08:55 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:08:55 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:08:55 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:08:55 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:08:55 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:08:55 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:08:55 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:08:55 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:08:55 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 21:08:55 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 21:08:55 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:08:56 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:08:56 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:08:56 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:08:56 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:08:57 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:08:57 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:08:57 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 21:08:57 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 21:08:57 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:08:57 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:08:57 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 21:08:57 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 21:08:57 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:08:57 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:08:57 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 21:08:57 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 21:08:57 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:08:57 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:08:57 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 21:08:57 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 21:08:57 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 21:08:57 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 21:08:57 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:08:57 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:08:57 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:08:57 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:08:57 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:08:57 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:08:57 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:08:57 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:08:57 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-23 21:08:57 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-23 21:08:57 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:09:38 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:09:38 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:09:38 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:09:38 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:09:38 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:09:38 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:09:38 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-23 21:09:38 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-26 17:19:01 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:19:01 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:19:03 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:19:03 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:19:03 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:19:03 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:19:03 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:19:03 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:19:03 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:19:03 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:19:03 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:19:03 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:19:03 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:19:03 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:19:03 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:19:03 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:19:03 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:19:03 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:19:03 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:19:03 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:19:03 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:19:03 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:19:03 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:19:03 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:19:03 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:19:03 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:19:03 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:19:03 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:19:03 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:19:03 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:19:47 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:19:47 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:19:48 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:19:48 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:19:48 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:19:48 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:19:48 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:19:48 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:19:48 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:19:48 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:19:48 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:19:48 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:19:48 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:19:48 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:19:48 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:19:48 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:19:48 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:19:48 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:19:48 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:19:48 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:19:48 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:19:48 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:19:48 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:19:48 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:19:48 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:19:48 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:19:48 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:19:48 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:19:48 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:19:48 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:19:48 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:19:48 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:19:49 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:19:49 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:19:49 INFO  AuthServiceImpl:226 - logout
2025-05-26 17:19:49 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:19:50 WARN  AuthTokenFilter:91 - Failed to refresh token: Failed for []: Refresh token is not valid or expired!
2025-05-26 17:19:50 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:19:50 WARN  AuthTokenFilter:91 - Failed to refresh token: Failed for []: Refresh token is not valid or expired!
2025-05-26 17:19:52 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:19:52 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:19:52 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:19:52 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:19:52 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:19:52 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:19:52 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:19:52 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:19:52 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:19:52 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:19:52 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:19:52 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:19:52 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:19:52 WARN  AuthTokenFilter:91 - Failed to refresh token: Failed for []: Refresh token is not valid or expired!
2025-05-26 17:19:52 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:19:52 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:19:52 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:19:52 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:19:52 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:19:52 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:19:52 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:19:52 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:19:52 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:19:52 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:19:52 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:19:52 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:19:58 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:19:58 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:19:58 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:19:58 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:19:58 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:19:58 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:19:58 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:19:58 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:19:58 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:19:58 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:19:58 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:19:58 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:19:58 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:19:58 WARN  AuthTokenFilter:91 - Failed to refresh token: Failed for []: Refresh token is not valid or expired!
2025-05-26 17:19:58 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:19:58 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:19:58 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:19:58 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:19:58 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:19:58 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:19:58 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:19:58 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:19:58 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:19:58 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:19:58 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:19:58 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:21:52 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:21:52 WARN  AuthTokenFilter:91 - Failed to refresh token: Failed for []: Refresh token is not valid or expired!
2025-05-26 17:21:53 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:21:53 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:21:53 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:21:53 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:21:53 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:21:53 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:21:53 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:21:53 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:21:53 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:21:53 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:21:53 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:21:53 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:21:53 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:21:53 WARN  AuthTokenFilter:91 - Failed to refresh token: Failed for []: Refresh token is not valid or expired!
2025-05-26 17:21:53 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:21:53 WARN  AuthTokenFilter:91 - Failed to refresh token: Failed for []: Refresh token is not valid or expired!
2025-05-26 17:21:53 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:21:53 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:21:53 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:21:53 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:21:53 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:21:53 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:21:53 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:21:53 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:21:53 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:21:53 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:21:53 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:21:53 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:31:29 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:31:29 WARN  AuthTokenFilter:91 - Failed to refresh token: Failed for []: Refresh token is not valid or expired!
2025-05-26 17:31:29 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:31:29 WARN  AuthTokenFilter:91 - Failed to refresh token: Failed for []: Refresh token is not valid or expired!
2025-05-26 17:31:52 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:31:52 WARN  AuthTokenFilter:91 - Failed to refresh token: Failed for []: Refresh token is not valid or expired!
2025-05-26 17:31:53 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:31:53 WARN  AuthTokenFilter:91 - Failed to refresh token: Failed for []: Refresh token is not valid or expired!
2025-05-26 17:32:00 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:32:00 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:32:02 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:32:02 WARN  AuthTokenFilter:91 - Failed to refresh token: Failed for []: Refresh token is not valid or expired!
2025-05-26 17:32:07 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:32:07 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:32:08 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:32:08 WARN  AuthTokenFilter:91 - Failed to refresh token: Failed for []: Refresh token is not valid or expired!
2025-05-26 17:46:58 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:46:58 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:46:58 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:46:58 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:46:58 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:46:58 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:46:58 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:46:58 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:46:58 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:46:58 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:46:58 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:46:58 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:46:58 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:46:58 WARN  AuthTokenFilter:91 - Failed to refresh token: Failed for []: Refresh token is not valid or expired!
2025-05-26 17:46:58 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:46:58 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:46:58 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:46:58 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:46:58 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:46:58 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:46:58 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:46:58 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:46:58 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:46:58 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:46:58 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:46:58 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:47:06 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:47:06 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:47:06 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:47:06 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:47:06 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:47:06 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:47:06 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:47:06 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:47:06 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:47:06 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:47:06 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:47:06 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:47:06 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:47:06 WARN  AuthTokenFilter:91 - Failed to refresh token: Failed for []: Refresh token is not valid or expired!
2025-05-26 17:47:06 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:47:06 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:47:06 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:47:06 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:47:06 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:47:06 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:47:06 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:47:06 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:47:06 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:47:06 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:47:06 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:47:06 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:50:23 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:50:23 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:50:23 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:50:23 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:50:23 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:50:23 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:50:23 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:50:23 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:50:23 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:50:23 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:50:23 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:50:23 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:50:23 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:50:23 WARN  AuthTokenFilter:91 - Failed to refresh token: Failed for []: Refresh token is not valid or expired!
2025-05-26 17:50:23 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:50:23 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:50:23 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:50:23 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:50:23 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:50:23 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:50:23 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:50:23 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:50:23 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:50:23 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:50:23 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:50:23 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:50:26 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:50:26 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:50:26 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:50:26 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:50:26 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:50:26 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:50:26 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:50:26 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:50:26 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:50:26 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:50:26 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:50:26 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:50:26 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:50:26 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:50:26 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:50:26 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:50:26 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:50:26 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:50:26 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:50:26 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:50:26 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:50:26 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:50:26 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:50:26 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:50:26 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:50:26 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:50:26 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:50:26 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:50:26 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:50:26 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:50:28 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:50:28 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:50:28 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:50:28 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:50:28 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:50:28 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:50:28 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:50:28 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:50:28 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:50:28 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:50:28 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:50:28 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:50:28 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:50:28 WARN  AuthTokenFilter:91 - Failed to refresh token: Failed for []: Refresh token is not valid or expired!
2025-05-26 17:50:28 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:50:28 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:50:28 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:50:28 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:50:28 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:50:28 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:50:28 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:50:28 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:50:28 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:50:28 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:50:28 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:50:28 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:50:28 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:50:28 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:50:29 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:50:29 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:50:31 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:50:31 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:50:31 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:50:31 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:50:31 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:50:31 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:50:31 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:50:31 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:50:31 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:50:31 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:50:31 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:50:31 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:50:31 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:50:31 WARN  AuthTokenFilter:91 - Failed to refresh token: Failed for []: Refresh token is not valid or expired!
2025-05-26 17:50:31 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:50:31 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:50:31 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:50:31 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:50:31 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:50:31 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:50:31 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:50:31 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:50:31 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:50:31 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:50:31 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:50:31 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:51:35 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:51:35 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:51:35 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:51:35 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:51:35 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:51:35 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:51:35 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:51:35 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:51:35 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:51:35 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:51:35 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:51:35 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:51:35 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:51:35 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:51:35 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:51:35 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:51:35 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:51:35 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:51:35 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:51:35 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:51:35 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:51:35 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:51:35 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:51:35 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:51:35 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:51:35 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:51:35 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:51:35 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:51:35 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:51:35 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:51:48 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:51:48 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:51:48 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:51:48 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:52:04 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:52:04 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:52:07 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:52:07 WARN  AuthTokenFilter:91 - Failed to refresh token: Failed for []: Refresh token is not valid or expired!
2025-05-26 17:52:52 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:52:52 WARN  AuthTokenFilter:91 - Failed to refresh token: Failed for []: Refresh token is not valid or expired!
2025-05-26 17:52:52 WARN  AuthServiceImpl:71 - username: LHP wrong password
2025-05-26 17:53:07 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:53:07 WARN  AuthTokenFilter:91 - Failed to refresh token: Failed for []: Refresh token is not valid or expired!
2025-05-26 17:53:07 WARN  AuthServiceImpl:71 - username: LHP wrong password
2025-05-26 17:53:11 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:53:11 WARN  AuthTokenFilter:91 - Failed to refresh token: Failed for []: Refresh token is not valid or expired!
2025-05-26 17:53:11 WARN  AuthServiceImpl:71 - username: LHP wrong password
2025-05-26 17:53:15 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:53:15 WARN  AuthTokenFilter:91 - Failed to refresh token: Failed for []: Refresh token is not valid or expired!
2025-05-26 17:53:15 INFO  AuthServiceImpl:94 - LHP logged in
2025-05-26 17:53:16 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHP
2025-05-26 17:53:16 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:53:16 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:53:16 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:53:16 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:53:16 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHP
2025-05-26 17:53:16 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:53:16 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:53:16 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:53:16 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:53:16 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:53:16 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:53:16 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:53:16 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:53:16 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:53:16 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:53:16 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:53:16 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:53:16 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:53:16 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:53:16 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:53:16 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:53:16 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:53:16 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:53:16 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHP
2025-05-26 17:53:16 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:53:16 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:53:18 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHP
2025-05-26 17:53:18 INFO  AuthServiceImpl:226 - logout
2025-05-26 17:53:18 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:53:18 WARN  AuthTokenFilter:91 - Failed to refresh token: Failed for []: Refresh token is not valid or expired!
2025-05-26 17:53:18 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:53:18 WARN  AuthTokenFilter:91 - Failed to refresh token: Failed for []: Refresh token is not valid or expired!
2025-05-26 17:53:32 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:53:32 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:53:32 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:53:32 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:53:32 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:53:32 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:53:32 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:53:32 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:53:32 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:53:32 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:53:32 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:53:32 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:53:32 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:53:32 WARN  AuthTokenFilter:91 - Failed to refresh token: Failed for []: Refresh token is not valid or expired!
2025-05-26 17:53:32 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:53:32 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:53:32 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:53:32 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:53:32 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:53:32 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:53:32 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:53:32 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:53:32 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:53:32 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:53:32 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:53:32 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:54:51 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:54:51 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:54:51 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:54:51 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:54:51 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:54:51 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:54:51 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:54:51 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:54:51 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:54:51 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:54:51 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:54:51 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:54:51 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:54:51 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:54:51 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:54:51 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:54:51 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:54:51 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:54:51 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:54:51 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:54:51 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:54:51 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:54:51 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:54:51 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:54:51 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:54:51 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:54:51 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:54:51 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:54:51 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:54:51 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:55:06 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:55:06 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:55:06 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:55:06 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:55:06 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:55:06 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:55:07 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:55:07 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:55:08 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:55:08 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:55:08 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:55:08 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:55:08 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:55:08 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:55:08 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:55:08 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:55:08 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:55:08 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:55:08 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:55:08 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:55:08 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:55:08 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:55:08 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:55:08 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:55:08 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:55:08 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:55:08 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:55:08 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:55:08 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:55:08 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:55:08 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:55:08 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:55:08 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:55:08 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:55:08 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:55:08 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:55:24 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:55:24 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:55:27 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:55:27 WARN  AuthTokenFilter:91 - Failed to refresh token: Failed for []: Refresh token is not valid or expired!
2025-05-26 17:55:46 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:55:46 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:55:46 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:55:46 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:55:46 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:55:46 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:55:46 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:55:46 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:55:46 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:55:46 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:55:46 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:55:46 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:55:46 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:55:46 WARN  AuthTokenFilter:91 - Failed to refresh token: Failed for []: Refresh token is not valid or expired!
2025-05-26 17:55:46 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:55:46 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:55:46 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:55:46 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:55:46 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:55:46 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:55:46 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:55:46 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:55:46 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:55:46 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:55:46 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:55:46 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:56:18 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:56:18 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:56:18 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:56:18 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:56:18 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:56:18 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:56:18 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:56:18 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:56:18 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:56:18 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:56:18 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:56:18 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:56:18 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:56:18 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:56:18 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:56:18 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:56:18 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:56:18 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:56:18 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:56:18 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:56:18 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:56:18 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:56:18 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:56:18 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:56:18 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:56:18 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:56:18 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:56:18 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:56:18 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:56:18 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:56:39 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:56:39 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:56:39 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:56:39 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:56:39 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:56:39 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:56:42 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:56:42 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:56:42 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:56:42 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:56:42 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:56:42 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:56:42 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:56:42 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:56:42 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:56:42 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:56:42 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:56:42 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:56:42 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:56:42 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:56:42 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:56:42 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:56:42 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:56:42 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:56:42 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:56:42 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:56:42 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:56:42 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:56:42 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:56:42 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:56:42 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:56:42 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:56:42 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:56:42 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:56:50 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:56:50 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:56:50 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:56:50 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:56:50 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:56:50 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:57:00 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:57:00 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:57:00 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:57:00 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:57:06 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:57:06 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:57:10 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:57:10 WARN  AuthTokenFilter:91 - Failed to refresh token: Failed for []: Refresh token is not valid or expired!
2025-05-26 17:58:22 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:58:22 WARN  AuthTokenFilter:91 - Failed to refresh token: Failed for []: Refresh token is not valid or expired!
2025-05-26 17:58:30 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:58:30 WARN  AuthTokenFilter:91 - Failed to refresh token: Failed for []: Refresh token is not valid or expired!
2025-05-26 17:58:38 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:58:38 WARN  AuthTokenFilter:91 - Failed to refresh token: Failed for []: Refresh token is not valid or expired!
2025-05-26 17:58:44 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:58:44 WARN  AuthTokenFilter:91 - Failed to refresh token: Failed for []: Refresh token is not valid or expired!
2025-05-26 17:58:47 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:58:47 WARN  AuthTokenFilter:91 - Failed to refresh token: Failed for []: Refresh token is not valid or expired!
2025-05-26 17:58:49 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:58:49 WARN  AuthTokenFilter:91 - Failed to refresh token: Failed for []: Refresh token is not valid or expired!
2025-05-26 17:59:09 INFO  EmailService:44 - Email sent to: jamespaks@gmail.com
2025-05-26 17:59:09 INFO  AuthServiceImpl:265 - OTP for sign up new Account has sent to email: jamespaks@gmail.com
2025-05-26 17:59:36 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:59:36 WARN  AuthTokenFilter:91 - Failed to refresh token: Failed for []: Refresh token is not valid or expired!
2025-05-26 17:59:36 INFO  AuthServiceImpl:319 - Signup successful with email: jamespaks@gmail.com and username: LHPSS
2025-05-26 17:59:36 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:59:36 WARN  AuthTokenFilter:91 - Failed to refresh token: Failed for []: Refresh token is not valid or expired!
2025-05-26 17:59:37 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:59:37 WARN  AuthTokenFilter:91 - Failed to refresh token: Failed for []: Refresh token is not valid or expired!
2025-05-26 17:59:47 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:59:47 WARN  AuthTokenFilter:91 - Failed to refresh token: Failed for []: Refresh token is not valid or expired!
2025-05-26 17:59:47 INFO  AuthServiceImpl:94 - LHPSS logged in
2025-05-26 17:59:47 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPSS
2025-05-26 17:59:47 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:59:47 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:59:47 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:59:47 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:59:47 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:59:47 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:59:47 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPSS
2025-05-26 17:59:47 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:59:47 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:59:47 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:59:47 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:59:47 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:59:47 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:59:47 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:59:47 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:59:47 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:59:47 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:59:47 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:59:47 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:59:47 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:59:47 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:59:47 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:59:47 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:59:47 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPSS
2025-05-26 17:59:47 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:59:47 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:59:50 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:59:50 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:59:50 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:59:50 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:59:50 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:59:50 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:59:50 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:59:50 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:59:50 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:59:50 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:59:50 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:59:50 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:59:50 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:59:50 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:59:50 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:59:50 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:59:50 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:59:50 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:59:50 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:59:50 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:59:50 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:59:50 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:59:50 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:59:50 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:59:50 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:59:50 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:59:50 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:59:50 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:59:50 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:59:50 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:59:53 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:59:53 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:59:53 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:59:53 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:59:53 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:59:53 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:59:53 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 17:59:53 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 17:59:53 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPSS
2025-05-26 18:00:00 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPSS
2025-05-26 18:00:24 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPSS
2025-05-26 18:01:46 ERROR AuthTokenFilter:101 - Cannot set user authentication: Cannot invoke "String.equals(Object)" because "requestOrigin" is null
java.lang.NullPointerException: Cannot invoke "String.equals(Object)" because "requestOrigin" is null
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.filters.AuthTokenFilter.doFilterInternal(AuthTokenFilter.java:54)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1575)
2025-05-26 18:01:47 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPSS
2025-05-26 18:01:48 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPSS
2025-05-26 18:01:51 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:01:51 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:01:51 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPSS
2025-05-26 18:01:51 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:01:51 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:01:51 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:01:51 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:01:51 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:01:51 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:01:51 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:01:51 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:01:51 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:01:51 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:01:51 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:01:51 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:01:51 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:01:51 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:01:51 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:01:51 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:01:51 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:01:51 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:01:51 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:01:51 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:01:51 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:01:51 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:01:54 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPSS
2025-05-26 18:02:07 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:02:07 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:02:07 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:02:07 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:02:07 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:02:07 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:02:07 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:02:07 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:02:07 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:02:07 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:02:07 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:02:07 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:02:07 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPSS
2025-05-26 18:02:07 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:02:07 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:02:07 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:02:07 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:02:07 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:02:07 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:02:07 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:02:07 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:02:07 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:02:07 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:02:07 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:02:07 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:02:28 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPSS
2025-05-26 18:02:28 INFO  AuthServiceImpl:226 - logout
2025-05-26 18:02:28 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:02:28 WARN  AuthTokenFilter:91 - Failed to refresh token: Failed for []: Refresh token is not valid or expired!
2025-05-26 18:02:28 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:02:28 WARN  AuthTokenFilter:91 - Failed to refresh token: Failed for []: Refresh token is not valid or expired!
2025-05-26 18:05:23 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:05:23 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:05:23 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:05:23 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:05:23 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:05:23 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:05:23 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:05:23 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:05:23 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:05:23 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:05:23 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:05:23 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:05:23 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:05:23 WARN  AuthTokenFilter:91 - Failed to refresh token: Failed for []: Refresh token is not valid or expired!
2025-05-26 18:05:23 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:05:23 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:05:23 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:05:23 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:05:23 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:05:23 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:05:23 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:05:23 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:05:23 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:05:23 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:05:23 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:05:23 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:05:49 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:05:49 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:05:49 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:05:49 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:05:49 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:05:49 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:05:49 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:05:49 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:05:49 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:05:49 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:05:49 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:05:49 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:05:50 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:05:50 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:05:50 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:05:50 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:05:50 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:05:50 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:05:50 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:05:50 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:05:50 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:05:50 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:05:50 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:05:50 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:05:50 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:05:50 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:05:50 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:05:50 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:05:50 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:05:50 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:05:57 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:05:57 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:05:58 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:05:58 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:05:58 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:05:58 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:05:58 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:05:58 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:06:04 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:06:04 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:06:04 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:06:04 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:06:04 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:06:04 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:06:04 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:06:04 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:06:04 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:06:04 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:06:04 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:06:04 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:06:04 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:06:04 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:06:04 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:06:04 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:06:04 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:06:04 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:06:04 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:06:04 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:06:04 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:06:04 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:06:04 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:06:04 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:06:04 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:06:04 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:06:08 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:06:08 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:06:08 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:06:08 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:06:08 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:06:08 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:06:08 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:06:08 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:06:08 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:06:08 WARN  AuthTokenFilter:91 - Failed to refresh token: Failed for []: Refresh token is not valid or expired!
2025-05-26 18:06:48 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:06:48 WARN  AuthTokenFilter:91 - Failed to refresh token: Failed for []: Refresh token is not valid or expired!
2025-05-26 18:07:07 INFO  EmailService:44 - Email sent to: 21130477@st.hcmuaf.edu.vn
2025-05-26 18:07:07 INFO  AuthServiceImpl:265 - OTP for sign up new Account has sent to email: 21130477@st.hcmuaf.edu.vn
2025-05-26 18:07:17 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:07:17 WARN  AuthTokenFilter:91 - Failed to refresh token: Failed for []: Refresh token is not valid or expired!
2025-05-26 18:07:17 INFO  AuthServiceImpl:319 - Signup successful with email: 21130477@st.hcmuaf.edu.vn and username: LHPS
2025-05-26 18:07:17 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:07:17 WARN  AuthTokenFilter:91 - Failed to refresh token: Failed for []: Refresh token is not valid or expired!
2025-05-26 18:07:17 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:07:17 WARN  AuthTokenFilter:91 - Failed to refresh token: Failed for []: Refresh token is not valid or expired!
2025-05-26 18:07:26 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:07:26 WARN  AuthTokenFilter:91 - Failed to refresh token: Failed for []: Refresh token is not valid or expired!
2025-05-26 18:07:26 INFO  AuthServiceImpl:94 - LHPS logged in
2025-05-26 18:07:27 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPS
2025-05-26 18:07:27 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:07:27 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:07:27 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:07:27 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:07:27 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPS
2025-05-26 18:07:27 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:07:27 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:07:27 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:07:27 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:07:27 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:07:27 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:07:27 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:07:27 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:07:27 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:07:27 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:07:27 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:07:27 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:07:27 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:07:27 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:07:27 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:07:27 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:07:27 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:07:27 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:07:27 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPS
2025-05-26 18:07:27 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:07:27 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:07:30 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPS
2025-05-26 18:08:04 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPS
2025-05-26 18:08:04 ERROR OrderStatusHistoryServiceImpl:21 - Error save order status history
org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: duplicate key value violates unique constraint "order_status_history_pkey"
  Detail: Key (id)=(12) already exists.] [insert into order_status_history (created_date,order_id,status_id) values (?,?,?)]; SQL [insert into order_status_history (created_date,order_id,status_id) values (?,?,?)]; constraint [order_status_history_pkey]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:294)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:256)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:241)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560)
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:165)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy4/jdk.proxy4.$Proxy177.save(Unknown Source)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.OrderStatusHistoryServiceImpl.saveOrderStatusHistory(OrderStatusHistoryServiceImpl.java:19)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.OrderServiceImpl.createOrder(OrderServiceImpl.java:216)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.OrderServiceImpl$$SpringCGLIB$$0.createOrder(<generated>)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.controller.OrderController.saveOrder(OrderController.java:50)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.proceed(AuthorizationManagerBeforeMethodInterceptor.java:268)
	at org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.attemptAuthorization(AuthorizationManagerBeforeMethodInterceptor.java:263)
	at org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.invoke(AuthorizationManagerBeforeMethodInterceptor.java:196)
	at org.springframework.security.config.annotation.method.configuration.DeferringMethodInterceptor.invoke(DeferringMethodInterceptor.java:44)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.controller.OrderController$$SpringCGLIB$$0.saveOrder(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.filters.AuthTokenFilter.doFilterInternal(AuthTokenFilter.java:103)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1575)
Caused by: org.hibernate.exception.ConstraintViolationException: could not execute statement [ERROR: duplicate key value violates unique constraint "order_status_history_pkey"
  Detail: Key (id)=(12) already exists.] [insert into order_status_history (created_date,order_id,status_id) values (?,?,?)]
	at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:97)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:58)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:197)
	at org.hibernate.id.insert.GetGeneratedKeysDelegate.performMutation(GetGeneratedKeysDelegate.java:116)
	at org.hibernate.engine.jdbc.mutation.internal.MutationExecutorSingleNonBatched.performNonBatchedOperations(MutationExecutorSingleNonBatched.java:47)
	at org.hibernate.engine.jdbc.mutation.internal.AbstractMutationExecutor.execute(AbstractMutationExecutor.java:55)
	at org.hibernate.persister.entity.mutation.InsertCoordinatorStandard.doStaticInserts(InsertCoordinatorStandard.java:194)
	at org.hibernate.persister.entity.mutation.InsertCoordinatorStandard.coordinateInsert(InsertCoordinatorStandard.java:132)
	at org.hibernate.persister.entity.mutation.InsertCoordinatorStandard.insert(InsertCoordinatorStandard.java:95)
	at org.hibernate.action.internal.EntityIdentityInsertAction.execute(EntityIdentityInsertAction.java:85)
	at org.hibernate.engine.spi.ActionQueue.execute(ActionQueue.java:682)
	at org.hibernate.engine.spi.ActionQueue.addResolvedEntityInsertAction(ActionQueue.java:293)
	at org.hibernate.engine.spi.ActionQueue.addInsertAction(ActionQueue.java:274)
	at org.hibernate.engine.spi.ActionQueue.addAction(ActionQueue.java:324)
	at org.hibernate.event.internal.AbstractSaveEventListener.addInsertAction(AbstractSaveEventListener.java:393)
	at org.hibernate.event.internal.AbstractSaveEventListener.performSaveOrReplicate(AbstractSaveEventListener.java:307)
	at org.hibernate.event.internal.AbstractSaveEventListener.performSave(AbstractSaveEventListener.java:223)
	at org.hibernate.event.internal.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:136)
	at org.hibernate.event.internal.DefaultPersistEventListener.entityIsTransient(DefaultPersistEventListener.java:177)
	at org.hibernate.event.internal.DefaultPersistEventListener.persist(DefaultPersistEventListener.java:95)
	at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:79)
	at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:55)
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:127)
	at org.hibernate.internal.SessionImpl.firePersist(SessionImpl.java:761)
	at org.hibernate.internal.SessionImpl.persist(SessionImpl.java:745)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:364)
	at jdk.proxy4/jdk.proxy4.$Proxy146.persist(Unknown Source)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:320)
	at jdk.proxy4/jdk.proxy4.$Proxy146.persist(Unknown Source)
	at org.springframework.data.jpa.repository.support.SimpleJpaRepository.save(SimpleJpaRepository.java:636)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:277)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
	at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:515)
	at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:284)
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:731)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:174)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	... 131 more
Caused by: org.postgresql.util.PSQLException: ERROR: duplicate key value violates unique constraint "order_status_history_pkey"
  Detail: Key (id)=(12) already exists.
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2733)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2420)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:372)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:517)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:434)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:194)
	at org.postgresql.jdbc.PgPreparedStatement.executeUpdate(PgPreparedStatement.java:155)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java)
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:194)
	... 181 more
2025-05-26 18:08:04 ERROR OrderServiceImpl:221 - Error in createOrder: 
java.lang.RuntimeException: org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: duplicate key value violates unique constraint "order_status_history_pkey"
  Detail: Key (id)=(12) already exists.] [insert into order_status_history (created_date,order_id,status_id) values (?,?,?)]; SQL [insert into order_status_history (created_date,order_id,status_id) values (?,?,?)]; constraint [order_status_history_pkey]
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.OrderStatusHistoryServiceImpl.saveOrderStatusHistory(OrderStatusHistoryServiceImpl.java:22)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.OrderServiceImpl.createOrder(OrderServiceImpl.java:216)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.OrderServiceImpl$$SpringCGLIB$$0.createOrder(<generated>)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.controller.OrderController.saveOrder(OrderController.java:50)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.proceed(AuthorizationManagerBeforeMethodInterceptor.java:268)
	at org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.attemptAuthorization(AuthorizationManagerBeforeMethodInterceptor.java:263)
	at org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.invoke(AuthorizationManagerBeforeMethodInterceptor.java:196)
	at org.springframework.security.config.annotation.method.configuration.DeferringMethodInterceptor.invoke(DeferringMethodInterceptor.java:44)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.controller.OrderController$$SpringCGLIB$$0.saveOrder(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.filters.AuthTokenFilter.doFilterInternal(AuthTokenFilter.java:103)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1575)
Caused by: org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: duplicate key value violates unique constraint "order_status_history_pkey"
  Detail: Key (id)=(12) already exists.] [insert into order_status_history (created_date,order_id,status_id) values (?,?,?)]; SQL [insert into order_status_history (created_date,order_id,status_id) values (?,?,?)]; constraint [order_status_history_pkey]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:294)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:256)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:241)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560)
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:165)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy4/jdk.proxy4.$Proxy177.save(Unknown Source)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.OrderStatusHistoryServiceImpl.saveOrderStatusHistory(OrderStatusHistoryServiceImpl.java:19)
	... 125 more
Caused by: org.hibernate.exception.ConstraintViolationException: could not execute statement [ERROR: duplicate key value violates unique constraint "order_status_history_pkey"
  Detail: Key (id)=(12) already exists.] [insert into order_status_history (created_date,order_id,status_id) values (?,?,?)]
	at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:97)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:58)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:197)
	at org.hibernate.id.insert.GetGeneratedKeysDelegate.performMutation(GetGeneratedKeysDelegate.java:116)
	at org.hibernate.engine.jdbc.mutation.internal.MutationExecutorSingleNonBatched.performNonBatchedOperations(MutationExecutorSingleNonBatched.java:47)
	at org.hibernate.engine.jdbc.mutation.internal.AbstractMutationExecutor.execute(AbstractMutationExecutor.java:55)
	at org.hibernate.persister.entity.mutation.InsertCoordinatorStandard.doStaticInserts(InsertCoordinatorStandard.java:194)
	at org.hibernate.persister.entity.mutation.InsertCoordinatorStandard.coordinateInsert(InsertCoordinatorStandard.java:132)
	at org.hibernate.persister.entity.mutation.InsertCoordinatorStandard.insert(InsertCoordinatorStandard.java:95)
	at org.hibernate.action.internal.EntityIdentityInsertAction.execute(EntityIdentityInsertAction.java:85)
	at org.hibernate.engine.spi.ActionQueue.execute(ActionQueue.java:682)
	at org.hibernate.engine.spi.ActionQueue.addResolvedEntityInsertAction(ActionQueue.java:293)
	at org.hibernate.engine.spi.ActionQueue.addInsertAction(ActionQueue.java:274)
	at org.hibernate.engine.spi.ActionQueue.addAction(ActionQueue.java:324)
	at org.hibernate.event.internal.AbstractSaveEventListener.addInsertAction(AbstractSaveEventListener.java:393)
	at org.hibernate.event.internal.AbstractSaveEventListener.performSaveOrReplicate(AbstractSaveEventListener.java:307)
	at org.hibernate.event.internal.AbstractSaveEventListener.performSave(AbstractSaveEventListener.java:223)
	at org.hibernate.event.internal.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:136)
	at org.hibernate.event.internal.DefaultPersistEventListener.entityIsTransient(DefaultPersistEventListener.java:177)
	at org.hibernate.event.internal.DefaultPersistEventListener.persist(DefaultPersistEventListener.java:95)
	at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:79)
	at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:55)
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:127)
	at org.hibernate.internal.SessionImpl.firePersist(SessionImpl.java:761)
	at org.hibernate.internal.SessionImpl.persist(SessionImpl.java:745)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:364)
	at jdk.proxy4/jdk.proxy4.$Proxy146.persist(Unknown Source)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:320)
	at jdk.proxy4/jdk.proxy4.$Proxy146.persist(Unknown Source)
	at org.springframework.data.jpa.repository.support.SimpleJpaRepository.save(SimpleJpaRepository.java:636)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:277)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
	at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:515)
	at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:284)
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:731)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:174)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	... 131 more
Caused by: org.postgresql.util.PSQLException: ERROR: duplicate key value violates unique constraint "order_status_history_pkey"
  Detail: Key (id)=(12) already exists.
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2733)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2420)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:372)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:517)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:434)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:194)
	at org.postgresql.jdbc.PgPreparedStatement.executeUpdate(PgPreparedStatement.java:155)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java)
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:194)
	... 181 more
2025-05-26 18:08:04 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPS
2025-05-26 18:08:04 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPS
2025-05-26 18:08:04 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:08:04 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:08:04 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:08:04 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:08:04 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:08:04 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:08:04 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:08:04 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:08:04 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:08:04 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:08:04 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:08:04 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:08:04 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPS
2025-05-26 18:08:04 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:08:04 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:08:04 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:08:04 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:08:04 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:08:04 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:08:04 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:08:04 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:08:04 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:08:04 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:08:04 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:08:04 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:08:09 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPS
2025-05-26 18:08:13 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPS
2025-05-26 18:08:28 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPS
2025-05-26 18:08:28 ERROR OrderStatusHistoryServiceImpl:21 - Error save order status history
org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: duplicate key value violates unique constraint "order_status_history_pkey"
  Detail: Key (id)=(13) already exists.] [insert into order_status_history (created_date,order_id,status_id) values (?,?,?)]; SQL [insert into order_status_history (created_date,order_id,status_id) values (?,?,?)]; constraint [order_status_history_pkey]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:294)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:256)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:241)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560)
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:165)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy4/jdk.proxy4.$Proxy177.save(Unknown Source)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.OrderStatusHistoryServiceImpl.saveOrderStatusHistory(OrderStatusHistoryServiceImpl.java:19)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.OrderServiceImpl.createOrder(OrderServiceImpl.java:216)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.OrderServiceImpl$$SpringCGLIB$$0.createOrder(<generated>)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.controller.OrderController.saveOrder(OrderController.java:50)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.proceed(AuthorizationManagerBeforeMethodInterceptor.java:268)
	at org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.attemptAuthorization(AuthorizationManagerBeforeMethodInterceptor.java:263)
	at org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.invoke(AuthorizationManagerBeforeMethodInterceptor.java:196)
	at org.springframework.security.config.annotation.method.configuration.DeferringMethodInterceptor.invoke(DeferringMethodInterceptor.java:44)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.controller.OrderController$$SpringCGLIB$$0.saveOrder(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.filters.AuthTokenFilter.doFilterInternal(AuthTokenFilter.java:103)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1575)
Caused by: org.hibernate.exception.ConstraintViolationException: could not execute statement [ERROR: duplicate key value violates unique constraint "order_status_history_pkey"
  Detail: Key (id)=(13) already exists.] [insert into order_status_history (created_date,order_id,status_id) values (?,?,?)]
	at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:97)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:58)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:197)
	at org.hibernate.id.insert.GetGeneratedKeysDelegate.performMutation(GetGeneratedKeysDelegate.java:116)
	at org.hibernate.engine.jdbc.mutation.internal.MutationExecutorSingleNonBatched.performNonBatchedOperations(MutationExecutorSingleNonBatched.java:47)
	at org.hibernate.engine.jdbc.mutation.internal.AbstractMutationExecutor.execute(AbstractMutationExecutor.java:55)
	at org.hibernate.persister.entity.mutation.InsertCoordinatorStandard.doStaticInserts(InsertCoordinatorStandard.java:194)
	at org.hibernate.persister.entity.mutation.InsertCoordinatorStandard.coordinateInsert(InsertCoordinatorStandard.java:132)
	at org.hibernate.persister.entity.mutation.InsertCoordinatorStandard.insert(InsertCoordinatorStandard.java:95)
	at org.hibernate.action.internal.EntityIdentityInsertAction.execute(EntityIdentityInsertAction.java:85)
	at org.hibernate.engine.spi.ActionQueue.execute(ActionQueue.java:682)
	at org.hibernate.engine.spi.ActionQueue.addResolvedEntityInsertAction(ActionQueue.java:293)
	at org.hibernate.engine.spi.ActionQueue.addInsertAction(ActionQueue.java:274)
	at org.hibernate.engine.spi.ActionQueue.addAction(ActionQueue.java:324)
	at org.hibernate.event.internal.AbstractSaveEventListener.addInsertAction(AbstractSaveEventListener.java:393)
	at org.hibernate.event.internal.AbstractSaveEventListener.performSaveOrReplicate(AbstractSaveEventListener.java:307)
	at org.hibernate.event.internal.AbstractSaveEventListener.performSave(AbstractSaveEventListener.java:223)
	at org.hibernate.event.internal.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:136)
	at org.hibernate.event.internal.DefaultPersistEventListener.entityIsTransient(DefaultPersistEventListener.java:177)
	at org.hibernate.event.internal.DefaultPersistEventListener.persist(DefaultPersistEventListener.java:95)
	at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:79)
	at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:55)
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:127)
	at org.hibernate.internal.SessionImpl.firePersist(SessionImpl.java:761)
	at org.hibernate.internal.SessionImpl.persist(SessionImpl.java:745)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:364)
	at jdk.proxy4/jdk.proxy4.$Proxy146.persist(Unknown Source)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:320)
	at jdk.proxy4/jdk.proxy4.$Proxy146.persist(Unknown Source)
	at org.springframework.data.jpa.repository.support.SimpleJpaRepository.save(SimpleJpaRepository.java:636)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:277)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
	at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:515)
	at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:284)
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:731)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:174)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	... 131 more
Caused by: org.postgresql.util.PSQLException: ERROR: duplicate key value violates unique constraint "order_status_history_pkey"
  Detail: Key (id)=(13) already exists.
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2733)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2420)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:372)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:517)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:434)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:194)
	at org.postgresql.jdbc.PgPreparedStatement.executeUpdate(PgPreparedStatement.java:155)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java)
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:194)
	... 181 more
2025-05-26 18:08:28 ERROR OrderServiceImpl:221 - Error in createOrder: 
java.lang.RuntimeException: org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: duplicate key value violates unique constraint "order_status_history_pkey"
  Detail: Key (id)=(13) already exists.] [insert into order_status_history (created_date,order_id,status_id) values (?,?,?)]; SQL [insert into order_status_history (created_date,order_id,status_id) values (?,?,?)]; constraint [order_status_history_pkey]
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.OrderStatusHistoryServiceImpl.saveOrderStatusHistory(OrderStatusHistoryServiceImpl.java:22)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.OrderServiceImpl.createOrder(OrderServiceImpl.java:216)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.OrderServiceImpl$$SpringCGLIB$$0.createOrder(<generated>)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.controller.OrderController.saveOrder(OrderController.java:50)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.proceed(AuthorizationManagerBeforeMethodInterceptor.java:268)
	at org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.attemptAuthorization(AuthorizationManagerBeforeMethodInterceptor.java:263)
	at org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.invoke(AuthorizationManagerBeforeMethodInterceptor.java:196)
	at org.springframework.security.config.annotation.method.configuration.DeferringMethodInterceptor.invoke(DeferringMethodInterceptor.java:44)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.controller.OrderController$$SpringCGLIB$$0.saveOrder(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.filters.AuthTokenFilter.doFilterInternal(AuthTokenFilter.java:103)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1575)
Caused by: org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: duplicate key value violates unique constraint "order_status_history_pkey"
  Detail: Key (id)=(13) already exists.] [insert into order_status_history (created_date,order_id,status_id) values (?,?,?)]; SQL [insert into order_status_history (created_date,order_id,status_id) values (?,?,?)]; constraint [order_status_history_pkey]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:294)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:256)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:241)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560)
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:165)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy4/jdk.proxy4.$Proxy177.save(Unknown Source)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.OrderStatusHistoryServiceImpl.saveOrderStatusHistory(OrderStatusHistoryServiceImpl.java:19)
	... 125 more
Caused by: org.hibernate.exception.ConstraintViolationException: could not execute statement [ERROR: duplicate key value violates unique constraint "order_status_history_pkey"
  Detail: Key (id)=(13) already exists.] [insert into order_status_history (created_date,order_id,status_id) values (?,?,?)]
	at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:97)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:58)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:197)
	at org.hibernate.id.insert.GetGeneratedKeysDelegate.performMutation(GetGeneratedKeysDelegate.java:116)
	at org.hibernate.engine.jdbc.mutation.internal.MutationExecutorSingleNonBatched.performNonBatchedOperations(MutationExecutorSingleNonBatched.java:47)
	at org.hibernate.engine.jdbc.mutation.internal.AbstractMutationExecutor.execute(AbstractMutationExecutor.java:55)
	at org.hibernate.persister.entity.mutation.InsertCoordinatorStandard.doStaticInserts(InsertCoordinatorStandard.java:194)
	at org.hibernate.persister.entity.mutation.InsertCoordinatorStandard.coordinateInsert(InsertCoordinatorStandard.java:132)
	at org.hibernate.persister.entity.mutation.InsertCoordinatorStandard.insert(InsertCoordinatorStandard.java:95)
	at org.hibernate.action.internal.EntityIdentityInsertAction.execute(EntityIdentityInsertAction.java:85)
	at org.hibernate.engine.spi.ActionQueue.execute(ActionQueue.java:682)
	at org.hibernate.engine.spi.ActionQueue.addResolvedEntityInsertAction(ActionQueue.java:293)
	at org.hibernate.engine.spi.ActionQueue.addInsertAction(ActionQueue.java:274)
	at org.hibernate.engine.spi.ActionQueue.addAction(ActionQueue.java:324)
	at org.hibernate.event.internal.AbstractSaveEventListener.addInsertAction(AbstractSaveEventListener.java:393)
	at org.hibernate.event.internal.AbstractSaveEventListener.performSaveOrReplicate(AbstractSaveEventListener.java:307)
	at org.hibernate.event.internal.AbstractSaveEventListener.performSave(AbstractSaveEventListener.java:223)
	at org.hibernate.event.internal.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:136)
	at org.hibernate.event.internal.DefaultPersistEventListener.entityIsTransient(DefaultPersistEventListener.java:177)
	at org.hibernate.event.internal.DefaultPersistEventListener.persist(DefaultPersistEventListener.java:95)
	at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:79)
	at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:55)
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:127)
	at org.hibernate.internal.SessionImpl.firePersist(SessionImpl.java:761)
	at org.hibernate.internal.SessionImpl.persist(SessionImpl.java:745)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:364)
	at jdk.proxy4/jdk.proxy4.$Proxy146.persist(Unknown Source)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:320)
	at jdk.proxy4/jdk.proxy4.$Proxy146.persist(Unknown Source)
	at org.springframework.data.jpa.repository.support.SimpleJpaRepository.save(SimpleJpaRepository.java:636)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:277)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
	at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:515)
	at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:284)
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:731)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:174)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	... 131 more
Caused by: org.postgresql.util.PSQLException: ERROR: duplicate key value violates unique constraint "order_status_history_pkey"
  Detail: Key (id)=(13) already exists.
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2733)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2420)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:372)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:517)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:434)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:194)
	at org.postgresql.jdbc.PgPreparedStatement.executeUpdate(PgPreparedStatement.java:155)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java)
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:194)
	... 181 more
2025-05-26 18:08:28 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPS
2025-05-26 18:08:29 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPS
2025-05-26 18:08:29 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:08:29 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:08:29 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:08:29 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:08:29 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:08:29 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:08:29 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:08:29 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:08:29 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:08:29 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:08:29 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:08:29 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:08:29 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPS
2025-05-26 18:08:29 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:08:29 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:08:29 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:08:29 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:08:29 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:08:29 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:08:29 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:08:29 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:08:29 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:08:29 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:08:29 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:08:29 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:08:35 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPS
2025-05-26 18:08:59 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:08:59 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:08:59 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:08:59 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:08:59 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:08:59 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:08:59 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:08:59 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:08:59 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:08:59 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:08:59 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:08:59 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:08:59 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:08:59 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:08:59 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:08:59 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:08:59 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:08:59 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:08:59 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:08:59 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:09:00 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:09:00 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:09:00 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:09:00 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:09:00 DEBUG AuthServiceImpl:171 - Refresh Token is empty!
2025-05-26 18:09:00 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:09:00 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:09:00 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:09:00 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:09:00 DEBUG AuthServiceImpl:171 - Refresh Token is empty!
2025-05-26 18:09:00 DEBUG AuthServiceImpl:171 - Refresh Token is empty!
2025-05-26 18:09:00 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:09:00 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:09:00 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:09:00 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:09:00 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:09:00 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:09:00 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:09:00 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:09:00 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:09:00 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:09:00 INFO  AuthServiceImpl:226 - logout
2025-05-26 18:09:00 INFO  AuthServiceImpl:226 - logout
2025-05-26 18:09:00 INFO  AuthServiceImpl:226 - logout
2025-05-26 18:09:13 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:09:13 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:09:13 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:09:13 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:09:13 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:09:13 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:09:13 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:09:13 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:09:13 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:09:13 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:09:13 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:09:13 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:09:13 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:09:13 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:09:13 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:09:13 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:09:13 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:09:13 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:09:13 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:09:13 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:09:13 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:09:13 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:09:13 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:09:13 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:09:13 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:09:13 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:09:13 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:09:13 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:09:13 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:09:13 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:09:14 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPS
2025-05-26 18:09:53 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPS
2025-05-26 18:09:53 INFO  AuthServiceImpl:226 - logout
2025-05-26 18:09:54 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:09:54 WARN  AuthTokenFilter:91 - Failed to refresh token: Failed for []: Refresh token is not valid or expired!
2025-05-26 18:09:54 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:09:54 WARN  AuthTokenFilter:91 - Failed to refresh token: Failed for []: Refresh token is not valid or expired!
2025-05-26 18:10:01 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:10:01 WARN  AuthTokenFilter:91 - Failed to refresh token: Failed for []: Refresh token is not valid or expired!
2025-05-26 18:10:01 INFO  AuthServiceImpl:94 - LHPS logged in
2025-05-26 18:10:01 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPS
2025-05-26 18:10:01 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:10:01 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:10:01 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:10:01 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:10:01 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:10:01 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:10:01 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:10:01 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:10:01 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:10:01 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:10:01 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:10:01 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:10:01 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPS
2025-05-26 18:10:01 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:10:01 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:10:01 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:10:01 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:10:01 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:10:01 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:10:01 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:10:01 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:10:01 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:10:01 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:10:01 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPS
2025-05-26 18:10:01 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:10:01 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:10:04 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPS
2025-05-26 18:10:16 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPS
2025-05-26 18:10:16 ERROR OrderStatusHistoryServiceImpl:21 - Error save order status history
org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: duplicate key value violates unique constraint "order_status_history_pkey"
  Detail: Key (id)=(14) already exists.] [insert into order_status_history (created_date,order_id,status_id) values (?,?,?)]; SQL [insert into order_status_history (created_date,order_id,status_id) values (?,?,?)]; constraint [order_status_history_pkey]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:294)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:256)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:241)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560)
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:165)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy4/jdk.proxy4.$Proxy177.save(Unknown Source)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.OrderStatusHistoryServiceImpl.saveOrderStatusHistory(OrderStatusHistoryServiceImpl.java:19)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.OrderServiceImpl.createOrder(OrderServiceImpl.java:216)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.OrderServiceImpl$$SpringCGLIB$$0.createOrder(<generated>)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.controller.OrderController.saveOrder(OrderController.java:50)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.proceed(AuthorizationManagerBeforeMethodInterceptor.java:268)
	at org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.attemptAuthorization(AuthorizationManagerBeforeMethodInterceptor.java:263)
	at org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.invoke(AuthorizationManagerBeforeMethodInterceptor.java:196)
	at org.springframework.security.config.annotation.method.configuration.DeferringMethodInterceptor.invoke(DeferringMethodInterceptor.java:44)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.controller.OrderController$$SpringCGLIB$$0.saveOrder(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.filters.AuthTokenFilter.doFilterInternal(AuthTokenFilter.java:103)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1575)
Caused by: org.hibernate.exception.ConstraintViolationException: could not execute statement [ERROR: duplicate key value violates unique constraint "order_status_history_pkey"
  Detail: Key (id)=(14) already exists.] [insert into order_status_history (created_date,order_id,status_id) values (?,?,?)]
	at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:97)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:58)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:197)
	at org.hibernate.id.insert.GetGeneratedKeysDelegate.performMutation(GetGeneratedKeysDelegate.java:116)
	at org.hibernate.engine.jdbc.mutation.internal.MutationExecutorSingleNonBatched.performNonBatchedOperations(MutationExecutorSingleNonBatched.java:47)
	at org.hibernate.engine.jdbc.mutation.internal.AbstractMutationExecutor.execute(AbstractMutationExecutor.java:55)
	at org.hibernate.persister.entity.mutation.InsertCoordinatorStandard.doStaticInserts(InsertCoordinatorStandard.java:194)
	at org.hibernate.persister.entity.mutation.InsertCoordinatorStandard.coordinateInsert(InsertCoordinatorStandard.java:132)
	at org.hibernate.persister.entity.mutation.InsertCoordinatorStandard.insert(InsertCoordinatorStandard.java:95)
	at org.hibernate.action.internal.EntityIdentityInsertAction.execute(EntityIdentityInsertAction.java:85)
	at org.hibernate.engine.spi.ActionQueue.execute(ActionQueue.java:682)
	at org.hibernate.engine.spi.ActionQueue.addResolvedEntityInsertAction(ActionQueue.java:293)
	at org.hibernate.engine.spi.ActionQueue.addInsertAction(ActionQueue.java:274)
	at org.hibernate.engine.spi.ActionQueue.addAction(ActionQueue.java:324)
	at org.hibernate.event.internal.AbstractSaveEventListener.addInsertAction(AbstractSaveEventListener.java:393)
	at org.hibernate.event.internal.AbstractSaveEventListener.performSaveOrReplicate(AbstractSaveEventListener.java:307)
	at org.hibernate.event.internal.AbstractSaveEventListener.performSave(AbstractSaveEventListener.java:223)
	at org.hibernate.event.internal.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:136)
	at org.hibernate.event.internal.DefaultPersistEventListener.entityIsTransient(DefaultPersistEventListener.java:177)
	at org.hibernate.event.internal.DefaultPersistEventListener.persist(DefaultPersistEventListener.java:95)
	at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:79)
	at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:55)
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:127)
	at org.hibernate.internal.SessionImpl.firePersist(SessionImpl.java:761)
	at org.hibernate.internal.SessionImpl.persist(SessionImpl.java:745)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:364)
	at jdk.proxy4/jdk.proxy4.$Proxy146.persist(Unknown Source)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:320)
	at jdk.proxy4/jdk.proxy4.$Proxy146.persist(Unknown Source)
	at org.springframework.data.jpa.repository.support.SimpleJpaRepository.save(SimpleJpaRepository.java:636)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:277)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
	at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:515)
	at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:284)
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:731)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:174)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	... 131 more
Caused by: org.postgresql.util.PSQLException: ERROR: duplicate key value violates unique constraint "order_status_history_pkey"
  Detail: Key (id)=(14) already exists.
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2733)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2420)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:372)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:517)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:434)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:194)
	at org.postgresql.jdbc.PgPreparedStatement.executeUpdate(PgPreparedStatement.java:155)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java)
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:194)
	... 181 more
2025-05-26 18:10:16 ERROR OrderServiceImpl:221 - Error in createOrder: 
java.lang.RuntimeException: org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: duplicate key value violates unique constraint "order_status_history_pkey"
  Detail: Key (id)=(14) already exists.] [insert into order_status_history (created_date,order_id,status_id) values (?,?,?)]; SQL [insert into order_status_history (created_date,order_id,status_id) values (?,?,?)]; constraint [order_status_history_pkey]
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.OrderStatusHistoryServiceImpl.saveOrderStatusHistory(OrderStatusHistoryServiceImpl.java:22)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.OrderServiceImpl.createOrder(OrderServiceImpl.java:216)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.OrderServiceImpl$$SpringCGLIB$$0.createOrder(<generated>)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.controller.OrderController.saveOrder(OrderController.java:50)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.proceed(AuthorizationManagerBeforeMethodInterceptor.java:268)
	at org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.attemptAuthorization(AuthorizationManagerBeforeMethodInterceptor.java:263)
	at org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.invoke(AuthorizationManagerBeforeMethodInterceptor.java:196)
	at org.springframework.security.config.annotation.method.configuration.DeferringMethodInterceptor.invoke(DeferringMethodInterceptor.java:44)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.controller.OrderController$$SpringCGLIB$$0.saveOrder(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.filters.AuthTokenFilter.doFilterInternal(AuthTokenFilter.java:103)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1575)
Caused by: org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: duplicate key value violates unique constraint "order_status_history_pkey"
  Detail: Key (id)=(14) already exists.] [insert into order_status_history (created_date,order_id,status_id) values (?,?,?)]; SQL [insert into order_status_history (created_date,order_id,status_id) values (?,?,?)]; constraint [order_status_history_pkey]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:294)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:256)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:241)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560)
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:165)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy4/jdk.proxy4.$Proxy177.save(Unknown Source)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.OrderStatusHistoryServiceImpl.saveOrderStatusHistory(OrderStatusHistoryServiceImpl.java:19)
	... 125 more
Caused by: org.hibernate.exception.ConstraintViolationException: could not execute statement [ERROR: duplicate key value violates unique constraint "order_status_history_pkey"
  Detail: Key (id)=(14) already exists.] [insert into order_status_history (created_date,order_id,status_id) values (?,?,?)]
	at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:97)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:58)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:197)
	at org.hibernate.id.insert.GetGeneratedKeysDelegate.performMutation(GetGeneratedKeysDelegate.java:116)
	at org.hibernate.engine.jdbc.mutation.internal.MutationExecutorSingleNonBatched.performNonBatchedOperations(MutationExecutorSingleNonBatched.java:47)
	at org.hibernate.engine.jdbc.mutation.internal.AbstractMutationExecutor.execute(AbstractMutationExecutor.java:55)
	at org.hibernate.persister.entity.mutation.InsertCoordinatorStandard.doStaticInserts(InsertCoordinatorStandard.java:194)
	at org.hibernate.persister.entity.mutation.InsertCoordinatorStandard.coordinateInsert(InsertCoordinatorStandard.java:132)
	at org.hibernate.persister.entity.mutation.InsertCoordinatorStandard.insert(InsertCoordinatorStandard.java:95)
	at org.hibernate.action.internal.EntityIdentityInsertAction.execute(EntityIdentityInsertAction.java:85)
	at org.hibernate.engine.spi.ActionQueue.execute(ActionQueue.java:682)
	at org.hibernate.engine.spi.ActionQueue.addResolvedEntityInsertAction(ActionQueue.java:293)
	at org.hibernate.engine.spi.ActionQueue.addInsertAction(ActionQueue.java:274)
	at org.hibernate.engine.spi.ActionQueue.addAction(ActionQueue.java:324)
	at org.hibernate.event.internal.AbstractSaveEventListener.addInsertAction(AbstractSaveEventListener.java:393)
	at org.hibernate.event.internal.AbstractSaveEventListener.performSaveOrReplicate(AbstractSaveEventListener.java:307)
	at org.hibernate.event.internal.AbstractSaveEventListener.performSave(AbstractSaveEventListener.java:223)
	at org.hibernate.event.internal.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:136)
	at org.hibernate.event.internal.DefaultPersistEventListener.entityIsTransient(DefaultPersistEventListener.java:177)
	at org.hibernate.event.internal.DefaultPersistEventListener.persist(DefaultPersistEventListener.java:95)
	at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:79)
	at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:55)
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:127)
	at org.hibernate.internal.SessionImpl.firePersist(SessionImpl.java:761)
	at org.hibernate.internal.SessionImpl.persist(SessionImpl.java:745)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:364)
	at jdk.proxy4/jdk.proxy4.$Proxy146.persist(Unknown Source)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:320)
	at jdk.proxy4/jdk.proxy4.$Proxy146.persist(Unknown Source)
	at org.springframework.data.jpa.repository.support.SimpleJpaRepository.save(SimpleJpaRepository.java:636)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:277)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
	at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:515)
	at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:284)
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:731)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:174)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	... 131 more
Caused by: org.postgresql.util.PSQLException: ERROR: duplicate key value violates unique constraint "order_status_history_pkey"
  Detail: Key (id)=(14) already exists.
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2733)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2420)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:372)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:517)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:434)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:194)
	at org.postgresql.jdbc.PgPreparedStatement.executeUpdate(PgPreparedStatement.java:155)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java)
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:194)
	... 181 more
2025-05-26 18:10:16 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPS
2025-05-26 18:10:16 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPS
2025-05-26 18:10:16 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:10:16 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:10:16 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:10:16 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:10:16 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:10:16 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:10:16 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:10:16 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:10:16 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:10:16 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:10:16 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:10:16 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:10:16 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPS
2025-05-26 18:10:16 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:10:16 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:10:16 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:10:16 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:10:16 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:10:16 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:10:16 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:10:16 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:10:16 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:10:16 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:10:16 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:10:16 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:10:19 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPS
2025-05-26 18:10:22 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPS
2025-05-26 18:10:25 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPS
2025-05-26 18:10:25 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPS
2025-05-26 18:10:25 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPS
2025-05-26 18:10:58 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPS
2025-05-26 18:11:00 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:11:00 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:11:00 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:11:00 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:11:00 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:11:00 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:11:00 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:11:00 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:11:00 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:11:00 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:11:00 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:11:00 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPS
2025-05-26 18:11:00 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:11:00 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPS
2025-05-26 18:11:00 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:11:00 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:11:00 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:11:00 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:11:00 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:11:00 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:11:00 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:11:00 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:11:00 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:11:00 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:11:00 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:11:00 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:11:08 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPS
2025-05-26 18:11:08 INFO  AuthServiceImpl:226 - logout
2025-05-26 18:11:09 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPS
2025-05-26 18:11:09 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPS
2025-05-26 18:11:15 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPS
2025-05-26 18:11:15 INFO  AuthServiceImpl:94 - LHPS logged in
2025-05-26 18:11:15 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPS
2025-05-26 18:11:15 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:11:15 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:11:15 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:11:15 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:11:15 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:11:15 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:11:15 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:11:15 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:11:15 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:11:15 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:11:15 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:11:15 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:11:15 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPS
2025-05-26 18:11:15 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPS
2025-05-26 18:11:15 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:11:15 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:11:15 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:11:15 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:11:15 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:11:15 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:11:15 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:11:15 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:11:15 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:11:15 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:11:15 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:11:15 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:11:17 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPS
2025-05-26 18:11:31 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPS
2025-05-26 18:11:31 ERROR OrderStatusHistoryServiceImpl:21 - Error save order status history
org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: duplicate key value violates unique constraint "order_status_history_pkey"
  Detail: Key (id)=(15) already exists.] [insert into order_status_history (created_date,order_id,status_id) values (?,?,?)]; SQL [insert into order_status_history (created_date,order_id,status_id) values (?,?,?)]; constraint [order_status_history_pkey]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:294)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:256)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:241)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560)
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:165)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy4/jdk.proxy4.$Proxy177.save(Unknown Source)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.OrderStatusHistoryServiceImpl.saveOrderStatusHistory(OrderStatusHistoryServiceImpl.java:19)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.OrderServiceImpl.createOrder(OrderServiceImpl.java:216)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.OrderServiceImpl$$SpringCGLIB$$0.createOrder(<generated>)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.controller.OrderController.saveOrder(OrderController.java:50)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.proceed(AuthorizationManagerBeforeMethodInterceptor.java:268)
	at org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.attemptAuthorization(AuthorizationManagerBeforeMethodInterceptor.java:263)
	at org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.invoke(AuthorizationManagerBeforeMethodInterceptor.java:196)
	at org.springframework.security.config.annotation.method.configuration.DeferringMethodInterceptor.invoke(DeferringMethodInterceptor.java:44)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.controller.OrderController$$SpringCGLIB$$0.saveOrder(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.filters.AuthTokenFilter.doFilterInternal(AuthTokenFilter.java:103)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1575)
Caused by: org.hibernate.exception.ConstraintViolationException: could not execute statement [ERROR: duplicate key value violates unique constraint "order_status_history_pkey"
  Detail: Key (id)=(15) already exists.] [insert into order_status_history (created_date,order_id,status_id) values (?,?,?)]
	at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:97)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:58)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:197)
	at org.hibernate.id.insert.GetGeneratedKeysDelegate.performMutation(GetGeneratedKeysDelegate.java:116)
	at org.hibernate.engine.jdbc.mutation.internal.MutationExecutorSingleNonBatched.performNonBatchedOperations(MutationExecutorSingleNonBatched.java:47)
	at org.hibernate.engine.jdbc.mutation.internal.AbstractMutationExecutor.execute(AbstractMutationExecutor.java:55)
	at org.hibernate.persister.entity.mutation.InsertCoordinatorStandard.doStaticInserts(InsertCoordinatorStandard.java:194)
	at org.hibernate.persister.entity.mutation.InsertCoordinatorStandard.coordinateInsert(InsertCoordinatorStandard.java:132)
	at org.hibernate.persister.entity.mutation.InsertCoordinatorStandard.insert(InsertCoordinatorStandard.java:95)
	at org.hibernate.action.internal.EntityIdentityInsertAction.execute(EntityIdentityInsertAction.java:85)
	at org.hibernate.engine.spi.ActionQueue.execute(ActionQueue.java:682)
	at org.hibernate.engine.spi.ActionQueue.addResolvedEntityInsertAction(ActionQueue.java:293)
	at org.hibernate.engine.spi.ActionQueue.addInsertAction(ActionQueue.java:274)
	at org.hibernate.engine.spi.ActionQueue.addAction(ActionQueue.java:324)
	at org.hibernate.event.internal.AbstractSaveEventListener.addInsertAction(AbstractSaveEventListener.java:393)
	at org.hibernate.event.internal.AbstractSaveEventListener.performSaveOrReplicate(AbstractSaveEventListener.java:307)
	at org.hibernate.event.internal.AbstractSaveEventListener.performSave(AbstractSaveEventListener.java:223)
	at org.hibernate.event.internal.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:136)
	at org.hibernate.event.internal.DefaultPersistEventListener.entityIsTransient(DefaultPersistEventListener.java:177)
	at org.hibernate.event.internal.DefaultPersistEventListener.persist(DefaultPersistEventListener.java:95)
	at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:79)
	at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:55)
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:127)
	at org.hibernate.internal.SessionImpl.firePersist(SessionImpl.java:761)
	at org.hibernate.internal.SessionImpl.persist(SessionImpl.java:745)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:364)
	at jdk.proxy4/jdk.proxy4.$Proxy146.persist(Unknown Source)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:320)
	at jdk.proxy4/jdk.proxy4.$Proxy146.persist(Unknown Source)
	at org.springframework.data.jpa.repository.support.SimpleJpaRepository.save(SimpleJpaRepository.java:636)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:277)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
	at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:515)
	at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:284)
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:731)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:174)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	... 131 more
Caused by: org.postgresql.util.PSQLException: ERROR: duplicate key value violates unique constraint "order_status_history_pkey"
  Detail: Key (id)=(15) already exists.
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2733)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2420)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:372)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:517)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:434)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:194)
	at org.postgresql.jdbc.PgPreparedStatement.executeUpdate(PgPreparedStatement.java:155)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java)
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:194)
	... 181 more
2025-05-26 18:11:31 ERROR OrderServiceImpl:221 - Error in createOrder: 
java.lang.RuntimeException: org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: duplicate key value violates unique constraint "order_status_history_pkey"
  Detail: Key (id)=(15) already exists.] [insert into order_status_history (created_date,order_id,status_id) values (?,?,?)]; SQL [insert into order_status_history (created_date,order_id,status_id) values (?,?,?)]; constraint [order_status_history_pkey]
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.OrderStatusHistoryServiceImpl.saveOrderStatusHistory(OrderStatusHistoryServiceImpl.java:22)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.OrderServiceImpl.createOrder(OrderServiceImpl.java:216)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.OrderServiceImpl$$SpringCGLIB$$0.createOrder(<generated>)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.controller.OrderController.saveOrder(OrderController.java:50)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.proceed(AuthorizationManagerBeforeMethodInterceptor.java:268)
	at org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.attemptAuthorization(AuthorizationManagerBeforeMethodInterceptor.java:263)
	at org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.invoke(AuthorizationManagerBeforeMethodInterceptor.java:196)
	at org.springframework.security.config.annotation.method.configuration.DeferringMethodInterceptor.invoke(DeferringMethodInterceptor.java:44)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.controller.OrderController$$SpringCGLIB$$0.saveOrder(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.filters.AuthTokenFilter.doFilterInternal(AuthTokenFilter.java:103)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1575)
Caused by: org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: duplicate key value violates unique constraint "order_status_history_pkey"
  Detail: Key (id)=(15) already exists.] [insert into order_status_history (created_date,order_id,status_id) values (?,?,?)]; SQL [insert into order_status_history (created_date,order_id,status_id) values (?,?,?)]; constraint [order_status_history_pkey]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:294)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:256)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:241)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560)
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:165)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy4/jdk.proxy4.$Proxy177.save(Unknown Source)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.OrderStatusHistoryServiceImpl.saveOrderStatusHistory(OrderStatusHistoryServiceImpl.java:19)
	... 125 more
Caused by: org.hibernate.exception.ConstraintViolationException: could not execute statement [ERROR: duplicate key value violates unique constraint "order_status_history_pkey"
  Detail: Key (id)=(15) already exists.] [insert into order_status_history (created_date,order_id,status_id) values (?,?,?)]
	at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:97)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:58)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:197)
	at org.hibernate.id.insert.GetGeneratedKeysDelegate.performMutation(GetGeneratedKeysDelegate.java:116)
	at org.hibernate.engine.jdbc.mutation.internal.MutationExecutorSingleNonBatched.performNonBatchedOperations(MutationExecutorSingleNonBatched.java:47)
	at org.hibernate.engine.jdbc.mutation.internal.AbstractMutationExecutor.execute(AbstractMutationExecutor.java:55)
	at org.hibernate.persister.entity.mutation.InsertCoordinatorStandard.doStaticInserts(InsertCoordinatorStandard.java:194)
	at org.hibernate.persister.entity.mutation.InsertCoordinatorStandard.coordinateInsert(InsertCoordinatorStandard.java:132)
	at org.hibernate.persister.entity.mutation.InsertCoordinatorStandard.insert(InsertCoordinatorStandard.java:95)
	at org.hibernate.action.internal.EntityIdentityInsertAction.execute(EntityIdentityInsertAction.java:85)
	at org.hibernate.engine.spi.ActionQueue.execute(ActionQueue.java:682)
	at org.hibernate.engine.spi.ActionQueue.addResolvedEntityInsertAction(ActionQueue.java:293)
	at org.hibernate.engine.spi.ActionQueue.addInsertAction(ActionQueue.java:274)
	at org.hibernate.engine.spi.ActionQueue.addAction(ActionQueue.java:324)
	at org.hibernate.event.internal.AbstractSaveEventListener.addInsertAction(AbstractSaveEventListener.java:393)
	at org.hibernate.event.internal.AbstractSaveEventListener.performSaveOrReplicate(AbstractSaveEventListener.java:307)
	at org.hibernate.event.internal.AbstractSaveEventListener.performSave(AbstractSaveEventListener.java:223)
	at org.hibernate.event.internal.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:136)
	at org.hibernate.event.internal.DefaultPersistEventListener.entityIsTransient(DefaultPersistEventListener.java:177)
	at org.hibernate.event.internal.DefaultPersistEventListener.persist(DefaultPersistEventListener.java:95)
	at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:79)
	at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:55)
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:127)
	at org.hibernate.internal.SessionImpl.firePersist(SessionImpl.java:761)
	at org.hibernate.internal.SessionImpl.persist(SessionImpl.java:745)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:364)
	at jdk.proxy4/jdk.proxy4.$Proxy146.persist(Unknown Source)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:320)
	at jdk.proxy4/jdk.proxy4.$Proxy146.persist(Unknown Source)
	at org.springframework.data.jpa.repository.support.SimpleJpaRepository.save(SimpleJpaRepository.java:636)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:277)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
	at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:515)
	at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:284)
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:731)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:174)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	... 131 more
Caused by: org.postgresql.util.PSQLException: ERROR: duplicate key value violates unique constraint "order_status_history_pkey"
  Detail: Key (id)=(15) already exists.
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2733)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2420)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:372)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:517)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:434)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:194)
	at org.postgresql.jdbc.PgPreparedStatement.executeUpdate(PgPreparedStatement.java:155)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java)
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:194)
	... 181 more
2025-05-26 18:11:31 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPS
2025-05-26 18:11:31 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPS
2025-05-26 18:11:31 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:11:31 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:11:31 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:11:31 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:11:31 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:11:31 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:11:31 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:11:31 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:11:31 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:11:31 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:11:31 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:11:31 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:11:31 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPS
2025-05-26 18:11:31 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:11:31 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:11:31 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:11:31 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:11:31 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:11:31 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:11:31 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:11:31 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:11:31 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:11:31 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:11:31 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:11:31 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:12:04 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPS
2025-05-26 18:12:19 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPS
2025-05-26 18:13:07 ERROR AuthTokenFilter:101 - Cannot set user authentication: Cannot invoke "String.equals(Object)" because "requestOrigin" is null
java.lang.NullPointerException: Cannot invoke "String.equals(Object)" because "requestOrigin" is null
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.filters.AuthTokenFilter.doFilterInternal(AuthTokenFilter.java:54)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1575)
2025-05-26 18:13:09 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPS
2025-05-26 18:13:09 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPS
2025-05-26 18:13:16 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:13:16 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:13:16 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:13:16 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:13:16 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:13:16 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:13:16 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:13:16 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:13:16 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:13:16 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:13:16 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:13:16 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:13:16 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:13:16 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:13:16 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:13:16 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:13:16 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:13:16 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:13:16 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:13:16 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:13:16 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:13:16 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:13:16 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:13:16 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:13:16 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:13:16 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:13:16 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:13:16 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:13:16 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:13:16 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:13:17 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:13:17 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:13:17 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:13:17 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:13:17 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:13:17 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:13:17 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:13:17 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:13:17 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPS
2025-05-26 18:13:22 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPS
2025-05-26 18:13:43 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPS
2025-05-26 18:13:43 ERROR OrderStatusHistoryServiceImpl:21 - Error save order status history
org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: duplicate key value violates unique constraint "order_status_history_pkey"
  Detail: Key (id)=(16) already exists.] [insert into order_status_history (created_date,order_id,status_id) values (?,?,?)]; SQL [insert into order_status_history (created_date,order_id,status_id) values (?,?,?)]; constraint [order_status_history_pkey]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:294)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:256)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:241)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560)
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:165)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy4/jdk.proxy4.$Proxy177.save(Unknown Source)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.OrderStatusHistoryServiceImpl.saveOrderStatusHistory(OrderStatusHistoryServiceImpl.java:19)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.OrderServiceImpl.createOrder(OrderServiceImpl.java:216)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.OrderServiceImpl$$SpringCGLIB$$0.createOrder(<generated>)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.controller.OrderController.saveOrder(OrderController.java:50)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.proceed(AuthorizationManagerBeforeMethodInterceptor.java:268)
	at org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.attemptAuthorization(AuthorizationManagerBeforeMethodInterceptor.java:263)
	at org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.invoke(AuthorizationManagerBeforeMethodInterceptor.java:196)
	at org.springframework.security.config.annotation.method.configuration.DeferringMethodInterceptor.invoke(DeferringMethodInterceptor.java:44)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.controller.OrderController$$SpringCGLIB$$0.saveOrder(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.filters.AuthTokenFilter.doFilterInternal(AuthTokenFilter.java:103)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1575)
Caused by: org.hibernate.exception.ConstraintViolationException: could not execute statement [ERROR: duplicate key value violates unique constraint "order_status_history_pkey"
  Detail: Key (id)=(16) already exists.] [insert into order_status_history (created_date,order_id,status_id) values (?,?,?)]
	at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:97)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:58)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:197)
	at org.hibernate.id.insert.GetGeneratedKeysDelegate.performMutation(GetGeneratedKeysDelegate.java:116)
	at org.hibernate.engine.jdbc.mutation.internal.MutationExecutorSingleNonBatched.performNonBatchedOperations(MutationExecutorSingleNonBatched.java:47)
	at org.hibernate.engine.jdbc.mutation.internal.AbstractMutationExecutor.execute(AbstractMutationExecutor.java:55)
	at org.hibernate.persister.entity.mutation.InsertCoordinatorStandard.doStaticInserts(InsertCoordinatorStandard.java:194)
	at org.hibernate.persister.entity.mutation.InsertCoordinatorStandard.coordinateInsert(InsertCoordinatorStandard.java:132)
	at org.hibernate.persister.entity.mutation.InsertCoordinatorStandard.insert(InsertCoordinatorStandard.java:95)
	at org.hibernate.action.internal.EntityIdentityInsertAction.execute(EntityIdentityInsertAction.java:85)
	at org.hibernate.engine.spi.ActionQueue.execute(ActionQueue.java:682)
	at org.hibernate.engine.spi.ActionQueue.addResolvedEntityInsertAction(ActionQueue.java:293)
	at org.hibernate.engine.spi.ActionQueue.addInsertAction(ActionQueue.java:274)
	at org.hibernate.engine.spi.ActionQueue.addAction(ActionQueue.java:324)
	at org.hibernate.event.internal.AbstractSaveEventListener.addInsertAction(AbstractSaveEventListener.java:393)
	at org.hibernate.event.internal.AbstractSaveEventListener.performSaveOrReplicate(AbstractSaveEventListener.java:307)
	at org.hibernate.event.internal.AbstractSaveEventListener.performSave(AbstractSaveEventListener.java:223)
	at org.hibernate.event.internal.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:136)
	at org.hibernate.event.internal.DefaultPersistEventListener.entityIsTransient(DefaultPersistEventListener.java:177)
	at org.hibernate.event.internal.DefaultPersistEventListener.persist(DefaultPersistEventListener.java:95)
	at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:79)
	at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:55)
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:127)
	at org.hibernate.internal.SessionImpl.firePersist(SessionImpl.java:761)
	at org.hibernate.internal.SessionImpl.persist(SessionImpl.java:745)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:364)
	at jdk.proxy4/jdk.proxy4.$Proxy146.persist(Unknown Source)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:320)
	at jdk.proxy4/jdk.proxy4.$Proxy146.persist(Unknown Source)
	at org.springframework.data.jpa.repository.support.SimpleJpaRepository.save(SimpleJpaRepository.java:636)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:277)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
	at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:515)
	at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:284)
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:731)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:174)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	... 131 more
Caused by: org.postgresql.util.PSQLException: ERROR: duplicate key value violates unique constraint "order_status_history_pkey"
  Detail: Key (id)=(16) already exists.
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2733)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2420)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:372)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:517)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:434)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:194)
	at org.postgresql.jdbc.PgPreparedStatement.executeUpdate(PgPreparedStatement.java:155)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java)
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:194)
	... 181 more
2025-05-26 18:13:43 ERROR OrderServiceImpl:221 - Error in createOrder: 
java.lang.RuntimeException: org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: duplicate key value violates unique constraint "order_status_history_pkey"
  Detail: Key (id)=(16) already exists.] [insert into order_status_history (created_date,order_id,status_id) values (?,?,?)]; SQL [insert into order_status_history (created_date,order_id,status_id) values (?,?,?)]; constraint [order_status_history_pkey]
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.OrderStatusHistoryServiceImpl.saveOrderStatusHistory(OrderStatusHistoryServiceImpl.java:22)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.OrderServiceImpl.createOrder(OrderServiceImpl.java:216)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.OrderServiceImpl$$SpringCGLIB$$0.createOrder(<generated>)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.controller.OrderController.saveOrder(OrderController.java:50)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.proceed(AuthorizationManagerBeforeMethodInterceptor.java:268)
	at org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.attemptAuthorization(AuthorizationManagerBeforeMethodInterceptor.java:263)
	at org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.invoke(AuthorizationManagerBeforeMethodInterceptor.java:196)
	at org.springframework.security.config.annotation.method.configuration.DeferringMethodInterceptor.invoke(DeferringMethodInterceptor.java:44)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.controller.OrderController$$SpringCGLIB$$0.saveOrder(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.filters.AuthTokenFilter.doFilterInternal(AuthTokenFilter.java:103)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1575)
Caused by: org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: duplicate key value violates unique constraint "order_status_history_pkey"
  Detail: Key (id)=(16) already exists.] [insert into order_status_history (created_date,order_id,status_id) values (?,?,?)]; SQL [insert into order_status_history (created_date,order_id,status_id) values (?,?,?)]; constraint [order_status_history_pkey]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:294)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:256)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:241)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560)
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:165)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy4/jdk.proxy4.$Proxy177.save(Unknown Source)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.OrderStatusHistoryServiceImpl.saveOrderStatusHistory(OrderStatusHistoryServiceImpl.java:19)
	... 125 more
Caused by: org.hibernate.exception.ConstraintViolationException: could not execute statement [ERROR: duplicate key value violates unique constraint "order_status_history_pkey"
  Detail: Key (id)=(16) already exists.] [insert into order_status_history (created_date,order_id,status_id) values (?,?,?)]
	at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:97)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:58)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:197)
	at org.hibernate.id.insert.GetGeneratedKeysDelegate.performMutation(GetGeneratedKeysDelegate.java:116)
	at org.hibernate.engine.jdbc.mutation.internal.MutationExecutorSingleNonBatched.performNonBatchedOperations(MutationExecutorSingleNonBatched.java:47)
	at org.hibernate.engine.jdbc.mutation.internal.AbstractMutationExecutor.execute(AbstractMutationExecutor.java:55)
	at org.hibernate.persister.entity.mutation.InsertCoordinatorStandard.doStaticInserts(InsertCoordinatorStandard.java:194)
	at org.hibernate.persister.entity.mutation.InsertCoordinatorStandard.coordinateInsert(InsertCoordinatorStandard.java:132)
	at org.hibernate.persister.entity.mutation.InsertCoordinatorStandard.insert(InsertCoordinatorStandard.java:95)
	at org.hibernate.action.internal.EntityIdentityInsertAction.execute(EntityIdentityInsertAction.java:85)
	at org.hibernate.engine.spi.ActionQueue.execute(ActionQueue.java:682)
	at org.hibernate.engine.spi.ActionQueue.addResolvedEntityInsertAction(ActionQueue.java:293)
	at org.hibernate.engine.spi.ActionQueue.addInsertAction(ActionQueue.java:274)
	at org.hibernate.engine.spi.ActionQueue.addAction(ActionQueue.java:324)
	at org.hibernate.event.internal.AbstractSaveEventListener.addInsertAction(AbstractSaveEventListener.java:393)
	at org.hibernate.event.internal.AbstractSaveEventListener.performSaveOrReplicate(AbstractSaveEventListener.java:307)
	at org.hibernate.event.internal.AbstractSaveEventListener.performSave(AbstractSaveEventListener.java:223)
	at org.hibernate.event.internal.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:136)
	at org.hibernate.event.internal.DefaultPersistEventListener.entityIsTransient(DefaultPersistEventListener.java:177)
	at org.hibernate.event.internal.DefaultPersistEventListener.persist(DefaultPersistEventListener.java:95)
	at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:79)
	at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:55)
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:127)
	at org.hibernate.internal.SessionImpl.firePersist(SessionImpl.java:761)
	at org.hibernate.internal.SessionImpl.persist(SessionImpl.java:745)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:364)
	at jdk.proxy4/jdk.proxy4.$Proxy146.persist(Unknown Source)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:320)
	at jdk.proxy4/jdk.proxy4.$Proxy146.persist(Unknown Source)
	at org.springframework.data.jpa.repository.support.SimpleJpaRepository.save(SimpleJpaRepository.java:636)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:277)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
	at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:515)
	at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:284)
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:731)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:174)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	... 131 more
Caused by: org.postgresql.util.PSQLException: ERROR: duplicate key value violates unique constraint "order_status_history_pkey"
  Detail: Key (id)=(16) already exists.
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2733)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2420)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:372)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:517)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:434)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:194)
	at org.postgresql.jdbc.PgPreparedStatement.executeUpdate(PgPreparedStatement.java:155)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java)
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:194)
	... 181 more
2025-05-26 18:13:44 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPS
2025-05-26 18:13:44 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPS
2025-05-26 18:13:44 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:13:44 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:13:44 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:13:44 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:13:44 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:13:44 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:13:44 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:13:44 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:13:44 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPS
2025-05-26 18:13:44 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:13:44 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:13:44 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:13:44 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:13:44 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:13:44 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:13:44 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:13:44 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:13:44 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:13:44 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:13:44 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:13:44 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:13:44 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:13:44 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:13:44 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:13:44 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:13:48 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPS
2025-05-26 18:13:48 INFO  AuthServiceImpl:226 - logout
2025-05-26 18:13:48 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:13:48 WARN  AuthTokenFilter:91 - Failed to refresh token: Failed for []: Refresh token is not valid or expired!
2025-05-26 18:13:48 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:13:48 WARN  AuthTokenFilter:91 - Failed to refresh token: Failed for []: Refresh token is not valid or expired!
2025-05-26 18:13:54 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:13:54 WARN  AuthTokenFilter:91 - Failed to refresh token: Failed for []: Refresh token is not valid or expired!
2025-05-26 18:13:54 INFO  AuthServiceImpl:94 - LHP logged in
2025-05-26 18:13:54 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHP
2025-05-26 18:13:54 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:13:54 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:13:54 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:13:54 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:13:54 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:13:54 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:13:54 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:13:54 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:13:54 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:13:54 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:13:54 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:13:54 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:13:54 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHP
2025-05-26 18:13:54 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHP
2025-05-26 18:13:54 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:13:54 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:13:54 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:13:54 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:13:54 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:13:54 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:13:54 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:13:54 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:13:54 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:13:54 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:13:54 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:13:54 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:13:56 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHP
2025-05-26 18:14:14 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHP
2025-05-26 18:14:14 ERROR OrderStatusHistoryServiceImpl:21 - Error save order status history
org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: duplicate key value violates unique constraint "order_status_history_pkey"
  Detail: Key (id)=(17) already exists.] [insert into order_status_history (created_date,order_id,status_id) values (?,?,?)]; SQL [insert into order_status_history (created_date,order_id,status_id) values (?,?,?)]; constraint [order_status_history_pkey]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:294)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:256)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:241)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560)
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:165)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy4/jdk.proxy4.$Proxy177.save(Unknown Source)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.OrderStatusHistoryServiceImpl.saveOrderStatusHistory(OrderStatusHistoryServiceImpl.java:19)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.OrderServiceImpl.createOrder(OrderServiceImpl.java:216)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.OrderServiceImpl$$SpringCGLIB$$0.createOrder(<generated>)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.controller.OrderController.saveOrder(OrderController.java:50)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.proceed(AuthorizationManagerBeforeMethodInterceptor.java:268)
	at org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.attemptAuthorization(AuthorizationManagerBeforeMethodInterceptor.java:263)
	at org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.invoke(AuthorizationManagerBeforeMethodInterceptor.java:196)
	at org.springframework.security.config.annotation.method.configuration.DeferringMethodInterceptor.invoke(DeferringMethodInterceptor.java:44)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.controller.OrderController$$SpringCGLIB$$0.saveOrder(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.filters.AuthTokenFilter.doFilterInternal(AuthTokenFilter.java:103)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1575)
Caused by: org.hibernate.exception.ConstraintViolationException: could not execute statement [ERROR: duplicate key value violates unique constraint "order_status_history_pkey"
  Detail: Key (id)=(17) already exists.] [insert into order_status_history (created_date,order_id,status_id) values (?,?,?)]
	at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:97)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:58)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:197)
	at org.hibernate.id.insert.GetGeneratedKeysDelegate.performMutation(GetGeneratedKeysDelegate.java:116)
	at org.hibernate.engine.jdbc.mutation.internal.MutationExecutorSingleNonBatched.performNonBatchedOperations(MutationExecutorSingleNonBatched.java:47)
	at org.hibernate.engine.jdbc.mutation.internal.AbstractMutationExecutor.execute(AbstractMutationExecutor.java:55)
	at org.hibernate.persister.entity.mutation.InsertCoordinatorStandard.doStaticInserts(InsertCoordinatorStandard.java:194)
	at org.hibernate.persister.entity.mutation.InsertCoordinatorStandard.coordinateInsert(InsertCoordinatorStandard.java:132)
	at org.hibernate.persister.entity.mutation.InsertCoordinatorStandard.insert(InsertCoordinatorStandard.java:95)
	at org.hibernate.action.internal.EntityIdentityInsertAction.execute(EntityIdentityInsertAction.java:85)
	at org.hibernate.engine.spi.ActionQueue.execute(ActionQueue.java:682)
	at org.hibernate.engine.spi.ActionQueue.addResolvedEntityInsertAction(ActionQueue.java:293)
	at org.hibernate.engine.spi.ActionQueue.addInsertAction(ActionQueue.java:274)
	at org.hibernate.engine.spi.ActionQueue.addAction(ActionQueue.java:324)
	at org.hibernate.event.internal.AbstractSaveEventListener.addInsertAction(AbstractSaveEventListener.java:393)
	at org.hibernate.event.internal.AbstractSaveEventListener.performSaveOrReplicate(AbstractSaveEventListener.java:307)
	at org.hibernate.event.internal.AbstractSaveEventListener.performSave(AbstractSaveEventListener.java:223)
	at org.hibernate.event.internal.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:136)
	at org.hibernate.event.internal.DefaultPersistEventListener.entityIsTransient(DefaultPersistEventListener.java:177)
	at org.hibernate.event.internal.DefaultPersistEventListener.persist(DefaultPersistEventListener.java:95)
	at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:79)
	at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:55)
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:127)
	at org.hibernate.internal.SessionImpl.firePersist(SessionImpl.java:761)
	at org.hibernate.internal.SessionImpl.persist(SessionImpl.java:745)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:364)
	at jdk.proxy4/jdk.proxy4.$Proxy146.persist(Unknown Source)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:320)
	at jdk.proxy4/jdk.proxy4.$Proxy146.persist(Unknown Source)
	at org.springframework.data.jpa.repository.support.SimpleJpaRepository.save(SimpleJpaRepository.java:636)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:277)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
	at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:515)
	at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:284)
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:731)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:174)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	... 131 more
Caused by: org.postgresql.util.PSQLException: ERROR: duplicate key value violates unique constraint "order_status_history_pkey"
  Detail: Key (id)=(17) already exists.
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2733)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2420)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:372)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:517)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:434)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:194)
	at org.postgresql.jdbc.PgPreparedStatement.executeUpdate(PgPreparedStatement.java:155)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java)
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:194)
	... 181 more
2025-05-26 18:14:14 ERROR OrderServiceImpl:221 - Error in createOrder: 
java.lang.RuntimeException: org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: duplicate key value violates unique constraint "order_status_history_pkey"
  Detail: Key (id)=(17) already exists.] [insert into order_status_history (created_date,order_id,status_id) values (?,?,?)]; SQL [insert into order_status_history (created_date,order_id,status_id) values (?,?,?)]; constraint [order_status_history_pkey]
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.OrderStatusHistoryServiceImpl.saveOrderStatusHistory(OrderStatusHistoryServiceImpl.java:22)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.OrderServiceImpl.createOrder(OrderServiceImpl.java:216)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.OrderServiceImpl$$SpringCGLIB$$0.createOrder(<generated>)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.controller.OrderController.saveOrder(OrderController.java:50)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.proceed(AuthorizationManagerBeforeMethodInterceptor.java:268)
	at org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.attemptAuthorization(AuthorizationManagerBeforeMethodInterceptor.java:263)
	at org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.invoke(AuthorizationManagerBeforeMethodInterceptor.java:196)
	at org.springframework.security.config.annotation.method.configuration.DeferringMethodInterceptor.invoke(DeferringMethodInterceptor.java:44)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.controller.OrderController$$SpringCGLIB$$0.saveOrder(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.filters.AuthTokenFilter.doFilterInternal(AuthTokenFilter.java:103)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1575)
Caused by: org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: duplicate key value violates unique constraint "order_status_history_pkey"
  Detail: Key (id)=(17) already exists.] [insert into order_status_history (created_date,order_id,status_id) values (?,?,?)]; SQL [insert into order_status_history (created_date,order_id,status_id) values (?,?,?)]; constraint [order_status_history_pkey]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:294)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:256)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:241)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560)
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:165)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy4/jdk.proxy4.$Proxy177.save(Unknown Source)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.OrderStatusHistoryServiceImpl.saveOrderStatusHistory(OrderStatusHistoryServiceImpl.java:19)
	... 125 more
Caused by: org.hibernate.exception.ConstraintViolationException: could not execute statement [ERROR: duplicate key value violates unique constraint "order_status_history_pkey"
  Detail: Key (id)=(17) already exists.] [insert into order_status_history (created_date,order_id,status_id) values (?,?,?)]
	at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:97)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:58)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:197)
	at org.hibernate.id.insert.GetGeneratedKeysDelegate.performMutation(GetGeneratedKeysDelegate.java:116)
	at org.hibernate.engine.jdbc.mutation.internal.MutationExecutorSingleNonBatched.performNonBatchedOperations(MutationExecutorSingleNonBatched.java:47)
	at org.hibernate.engine.jdbc.mutation.internal.AbstractMutationExecutor.execute(AbstractMutationExecutor.java:55)
	at org.hibernate.persister.entity.mutation.InsertCoordinatorStandard.doStaticInserts(InsertCoordinatorStandard.java:194)
	at org.hibernate.persister.entity.mutation.InsertCoordinatorStandard.coordinateInsert(InsertCoordinatorStandard.java:132)
	at org.hibernate.persister.entity.mutation.InsertCoordinatorStandard.insert(InsertCoordinatorStandard.java:95)
	at org.hibernate.action.internal.EntityIdentityInsertAction.execute(EntityIdentityInsertAction.java:85)
	at org.hibernate.engine.spi.ActionQueue.execute(ActionQueue.java:682)
	at org.hibernate.engine.spi.ActionQueue.addResolvedEntityInsertAction(ActionQueue.java:293)
	at org.hibernate.engine.spi.ActionQueue.addInsertAction(ActionQueue.java:274)
	at org.hibernate.engine.spi.ActionQueue.addAction(ActionQueue.java:324)
	at org.hibernate.event.internal.AbstractSaveEventListener.addInsertAction(AbstractSaveEventListener.java:393)
	at org.hibernate.event.internal.AbstractSaveEventListener.performSaveOrReplicate(AbstractSaveEventListener.java:307)
	at org.hibernate.event.internal.AbstractSaveEventListener.performSave(AbstractSaveEventListener.java:223)
	at org.hibernate.event.internal.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:136)
	at org.hibernate.event.internal.DefaultPersistEventListener.entityIsTransient(DefaultPersistEventListener.java:177)
	at org.hibernate.event.internal.DefaultPersistEventListener.persist(DefaultPersistEventListener.java:95)
	at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:79)
	at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:55)
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:127)
	at org.hibernate.internal.SessionImpl.firePersist(SessionImpl.java:761)
	at org.hibernate.internal.SessionImpl.persist(SessionImpl.java:745)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:364)
	at jdk.proxy4/jdk.proxy4.$Proxy146.persist(Unknown Source)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:320)
	at jdk.proxy4/jdk.proxy4.$Proxy146.persist(Unknown Source)
	at org.springframework.data.jpa.repository.support.SimpleJpaRepository.save(SimpleJpaRepository.java:636)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:277)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
	at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:515)
	at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:284)
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:731)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:174)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	... 131 more
Caused by: org.postgresql.util.PSQLException: ERROR: duplicate key value violates unique constraint "order_status_history_pkey"
  Detail: Key (id)=(17) already exists.
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2733)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2420)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:372)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:517)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:434)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:194)
	at org.postgresql.jdbc.PgPreparedStatement.executeUpdate(PgPreparedStatement.java:155)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java)
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:194)
	... 181 more
2025-05-26 18:14:14 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHP
2025-05-26 18:14:15 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHP
2025-05-26 18:14:15 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:14:15 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:14:15 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:14:15 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:14:15 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:14:15 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:14:15 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:14:15 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:14:15 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHP
2025-05-26 18:14:15 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:14:15 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:14:15 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:14:15 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:14:15 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:14:15 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:14:15 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:14:15 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:14:15 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:14:15 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:14:15 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:14:15 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:14:15 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:14:15 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:14:15 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:14:15 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:14:26 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHP
2025-05-26 18:17:12 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHP
2025-05-26 18:17:31 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHP
2025-05-26 18:17:31 ERROR OrderStatusHistoryServiceImpl:21 - Error save order status history
org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: duplicate key value violates unique constraint "order_status_history_pkey"
  Detail: Key (id)=(18) already exists.] [insert into order_status_history (created_date,order_id,status_id) values (?,?,?)]; SQL [insert into order_status_history (created_date,order_id,status_id) values (?,?,?)]; constraint [order_status_history_pkey]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:294)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:256)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:241)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560)
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:165)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy4/jdk.proxy4.$Proxy177.save(Unknown Source)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.OrderStatusHistoryServiceImpl.saveOrderStatusHistory(OrderStatusHistoryServiceImpl.java:19)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.OrderServiceImpl.createOrder(OrderServiceImpl.java:216)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.OrderServiceImpl$$SpringCGLIB$$0.createOrder(<generated>)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.controller.OrderController.saveOrder(OrderController.java:50)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.proceed(AuthorizationManagerBeforeMethodInterceptor.java:268)
	at org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.attemptAuthorization(AuthorizationManagerBeforeMethodInterceptor.java:263)
	at org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.invoke(AuthorizationManagerBeforeMethodInterceptor.java:196)
	at org.springframework.security.config.annotation.method.configuration.DeferringMethodInterceptor.invoke(DeferringMethodInterceptor.java:44)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.controller.OrderController$$SpringCGLIB$$0.saveOrder(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.filters.AuthTokenFilter.doFilterInternal(AuthTokenFilter.java:103)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1575)
Caused by: org.hibernate.exception.ConstraintViolationException: could not execute statement [ERROR: duplicate key value violates unique constraint "order_status_history_pkey"
  Detail: Key (id)=(18) already exists.] [insert into order_status_history (created_date,order_id,status_id) values (?,?,?)]
	at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:97)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:58)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:197)
	at org.hibernate.id.insert.GetGeneratedKeysDelegate.performMutation(GetGeneratedKeysDelegate.java:116)
	at org.hibernate.engine.jdbc.mutation.internal.MutationExecutorSingleNonBatched.performNonBatchedOperations(MutationExecutorSingleNonBatched.java:47)
	at org.hibernate.engine.jdbc.mutation.internal.AbstractMutationExecutor.execute(AbstractMutationExecutor.java:55)
	at org.hibernate.persister.entity.mutation.InsertCoordinatorStandard.doStaticInserts(InsertCoordinatorStandard.java:194)
	at org.hibernate.persister.entity.mutation.InsertCoordinatorStandard.coordinateInsert(InsertCoordinatorStandard.java:132)
	at org.hibernate.persister.entity.mutation.InsertCoordinatorStandard.insert(InsertCoordinatorStandard.java:95)
	at org.hibernate.action.internal.EntityIdentityInsertAction.execute(EntityIdentityInsertAction.java:85)
	at org.hibernate.engine.spi.ActionQueue.execute(ActionQueue.java:682)
	at org.hibernate.engine.spi.ActionQueue.addResolvedEntityInsertAction(ActionQueue.java:293)
	at org.hibernate.engine.spi.ActionQueue.addInsertAction(ActionQueue.java:274)
	at org.hibernate.engine.spi.ActionQueue.addAction(ActionQueue.java:324)
	at org.hibernate.event.internal.AbstractSaveEventListener.addInsertAction(AbstractSaveEventListener.java:393)
	at org.hibernate.event.internal.AbstractSaveEventListener.performSaveOrReplicate(AbstractSaveEventListener.java:307)
	at org.hibernate.event.internal.AbstractSaveEventListener.performSave(AbstractSaveEventListener.java:223)
	at org.hibernate.event.internal.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:136)
	at org.hibernate.event.internal.DefaultPersistEventListener.entityIsTransient(DefaultPersistEventListener.java:177)
	at org.hibernate.event.internal.DefaultPersistEventListener.persist(DefaultPersistEventListener.java:95)
	at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:79)
	at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:55)
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:127)
	at org.hibernate.internal.SessionImpl.firePersist(SessionImpl.java:761)
	at org.hibernate.internal.SessionImpl.persist(SessionImpl.java:745)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:364)
	at jdk.proxy4/jdk.proxy4.$Proxy146.persist(Unknown Source)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:320)
	at jdk.proxy4/jdk.proxy4.$Proxy146.persist(Unknown Source)
	at org.springframework.data.jpa.repository.support.SimpleJpaRepository.save(SimpleJpaRepository.java:636)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:277)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
	at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:515)
	at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:284)
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:731)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:174)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	... 131 more
Caused by: org.postgresql.util.PSQLException: ERROR: duplicate key value violates unique constraint "order_status_history_pkey"
  Detail: Key (id)=(18) already exists.
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2733)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2420)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:372)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:517)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:434)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:194)
	at org.postgresql.jdbc.PgPreparedStatement.executeUpdate(PgPreparedStatement.java:155)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java)
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:194)
	... 181 more
2025-05-26 18:17:31 ERROR OrderServiceImpl:221 - Error in createOrder: 
java.lang.RuntimeException: org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: duplicate key value violates unique constraint "order_status_history_pkey"
  Detail: Key (id)=(18) already exists.] [insert into order_status_history (created_date,order_id,status_id) values (?,?,?)]; SQL [insert into order_status_history (created_date,order_id,status_id) values (?,?,?)]; constraint [order_status_history_pkey]
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.OrderStatusHistoryServiceImpl.saveOrderStatusHistory(OrderStatusHistoryServiceImpl.java:22)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.OrderServiceImpl.createOrder(OrderServiceImpl.java:216)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.OrderServiceImpl$$SpringCGLIB$$0.createOrder(<generated>)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.controller.OrderController.saveOrder(OrderController.java:50)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.proceed(AuthorizationManagerBeforeMethodInterceptor.java:268)
	at org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.attemptAuthorization(AuthorizationManagerBeforeMethodInterceptor.java:263)
	at org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.invoke(AuthorizationManagerBeforeMethodInterceptor.java:196)
	at org.springframework.security.config.annotation.method.configuration.DeferringMethodInterceptor.invoke(DeferringMethodInterceptor.java:44)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.controller.OrderController$$SpringCGLIB$$0.saveOrder(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:590)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.filters.AuthTokenFilter.doFilterInternal(AuthTokenFilter.java:103)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1575)
Caused by: org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: duplicate key value violates unique constraint "order_status_history_pkey"
  Detail: Key (id)=(18) already exists.] [insert into order_status_history (created_date,order_id,status_id) values (?,?,?)]; SQL [insert into order_status_history (created_date,order_id,status_id) values (?,?,?)]; constraint [order_status_history_pkey]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:294)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:256)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:241)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560)
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:165)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy4/jdk.proxy4.$Proxy177.save(Unknown Source)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.OrderStatusHistoryServiceImpl.saveOrderStatusHistory(OrderStatusHistoryServiceImpl.java:19)
	... 125 more
Caused by: org.hibernate.exception.ConstraintViolationException: could not execute statement [ERROR: duplicate key value violates unique constraint "order_status_history_pkey"
  Detail: Key (id)=(18) already exists.] [insert into order_status_history (created_date,order_id,status_id) values (?,?,?)]
	at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:97)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:58)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:197)
	at org.hibernate.id.insert.GetGeneratedKeysDelegate.performMutation(GetGeneratedKeysDelegate.java:116)
	at org.hibernate.engine.jdbc.mutation.internal.MutationExecutorSingleNonBatched.performNonBatchedOperations(MutationExecutorSingleNonBatched.java:47)
	at org.hibernate.engine.jdbc.mutation.internal.AbstractMutationExecutor.execute(AbstractMutationExecutor.java:55)
	at org.hibernate.persister.entity.mutation.InsertCoordinatorStandard.doStaticInserts(InsertCoordinatorStandard.java:194)
	at org.hibernate.persister.entity.mutation.InsertCoordinatorStandard.coordinateInsert(InsertCoordinatorStandard.java:132)
	at org.hibernate.persister.entity.mutation.InsertCoordinatorStandard.insert(InsertCoordinatorStandard.java:95)
	at org.hibernate.action.internal.EntityIdentityInsertAction.execute(EntityIdentityInsertAction.java:85)
	at org.hibernate.engine.spi.ActionQueue.execute(ActionQueue.java:682)
	at org.hibernate.engine.spi.ActionQueue.addResolvedEntityInsertAction(ActionQueue.java:293)
	at org.hibernate.engine.spi.ActionQueue.addInsertAction(ActionQueue.java:274)
	at org.hibernate.engine.spi.ActionQueue.addAction(ActionQueue.java:324)
	at org.hibernate.event.internal.AbstractSaveEventListener.addInsertAction(AbstractSaveEventListener.java:393)
	at org.hibernate.event.internal.AbstractSaveEventListener.performSaveOrReplicate(AbstractSaveEventListener.java:307)
	at org.hibernate.event.internal.AbstractSaveEventListener.performSave(AbstractSaveEventListener.java:223)
	at org.hibernate.event.internal.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:136)
	at org.hibernate.event.internal.DefaultPersistEventListener.entityIsTransient(DefaultPersistEventListener.java:177)
	at org.hibernate.event.internal.DefaultPersistEventListener.persist(DefaultPersistEventListener.java:95)
	at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:79)
	at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:55)
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:127)
	at org.hibernate.internal.SessionImpl.firePersist(SessionImpl.java:761)
	at org.hibernate.internal.SessionImpl.persist(SessionImpl.java:745)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:364)
	at jdk.proxy4/jdk.proxy4.$Proxy146.persist(Unknown Source)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:320)
	at jdk.proxy4/jdk.proxy4.$Proxy146.persist(Unknown Source)
	at org.springframework.data.jpa.repository.support.SimpleJpaRepository.save(SimpleJpaRepository.java:636)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:277)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
	at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:515)
	at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:284)
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:731)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:174)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	... 131 more
Caused by: org.postgresql.util.PSQLException: ERROR: duplicate key value violates unique constraint "order_status_history_pkey"
  Detail: Key (id)=(18) already exists.
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2733)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2420)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:372)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:517)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:434)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:194)
	at org.postgresql.jdbc.PgPreparedStatement.executeUpdate(PgPreparedStatement.java:155)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java)
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:194)
	... 181 more
2025-05-26 18:17:31 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHP
2025-05-26 18:17:31 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHP
2025-05-26 18:17:31 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:17:31 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:17:31 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:17:31 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:17:31 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:17:31 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:17:31 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:17:31 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHP
2025-05-26 18:17:31 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:17:31 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:17:31 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:17:31 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:17:31 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:17:31 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:17:31 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:17:31 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:17:31 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:17:31 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:17:31 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:17:31 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:17:31 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:17:31 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:17:31 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:17:31 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:17:31 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:18:03 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHP
2025-05-26 18:23:48 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHP
2025-05-26 18:23:48 ERROR AuthTokenFilter:101 - Cannot set user authentication: JDBC exception executing SQL [select u1_0.id,u1_0.created_by,u1_0.created_date,u1_0.deleted,u1_0.enabled,u1_0.password_encrypted,u1_0.updated_by,u1_0.updated_date,u1_0.username,u1_1.role_id from users u1_0 left join roles_users u1_1 on u1_0.id=u1_1.user_id where u1_0.username=?] [ERROR: relation "users" does not exist
  Position: 166] [n/a]; SQL [n/a]
org.springframework.dao.InvalidDataAccessResourceUsageException: JDBC exception executing SQL [select u1_0.id,u1_0.created_by,u1_0.created_date,u1_0.deleted,u1_0.enabled,u1_0.password_encrypted,u1_0.updated_by,u1_0.updated_date,u1_0.username,u1_1.role_id from users u1_0 left join roles_users u1_1 on u1_0.id=u1_1.user_id where u1_0.username=?] [ERROR: relation "users" does not exist
  Position: 166] [n/a]; SQL [n/a]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:281)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:256)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:241)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560)
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:136)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy4/jdk.proxy4.$Proxy150.findByUsername(Unknown Source)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.UserDetailsServiceImpl.loadUserByUsername(UserDetailsServiceImpl.java:20)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.UserDetailsServiceImpl$$SpringCGLIB$$0.loadUserByUsername(<generated>)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.filters.AuthTokenFilter.doFilterInternal(AuthTokenFilter.java:66)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1575)
Caused by: org.hibernate.exception.SQLGrammarException: JDBC exception executing SQL [select u1_0.id,u1_0.created_by,u1_0.created_date,u1_0.deleted,u1_0.enabled,u1_0.password_encrypted,u1_0.updated_by,u1_0.updated_date,u1_0.username,u1_1.role_id from users u1_0 left join roles_users u1_1 on u1_0.id=u1_1.user_id where u1_0.username=?] [ERROR: relation "users" does not exist
  Position: 166] [n/a]
	at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:91)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:58)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:94)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:268)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.getResultSet(DeferredResultSetAccess.java:171)
	at org.hibernate.sql.results.jdbc.internal.JdbcValuesResultSetImpl.<init>(JdbcValuesResultSetImpl.java:74)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.resolveJdbcValuesSource(JdbcSelectExecutorStandardImpl.java:355)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.doExecuteQuery(JdbcSelectExecutorStandardImpl.java:137)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.executeQuery(JdbcSelectExecutorStandardImpl.java:102)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.executeQuery(JdbcSelectExecutor.java:91)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:165)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.lambda$new$1(ConcreteSqmSelectQueryPlan.java:152)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.withCacheableSqmInterpretation(ConcreteSqmSelectQueryPlan.java:442)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.performList(ConcreteSqmSelectQueryPlan.java:362)
	at org.hibernate.query.sqm.internal.QuerySqmImpl.doList(QuerySqmImpl.java:380)
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:143)
	at org.hibernate.query.spi.AbstractSelectionQuery.getSingleResult(AbstractSelectionQuery.java:275)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$SingleEntityExecution.doExecute(JpaQueryExecution.java:224)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:93)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:152)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:140)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:170)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	... 77 more
Caused by: org.postgresql.util.PSQLException: ERROR: relation "users" does not exist
  Position: 166
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2733)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2420)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:372)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:517)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:434)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:194)
	at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:137)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeQuery(ProxyPreparedStatement.java:52)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeQuery(HikariProxyPreparedStatement.java)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:250)
	... 105 more
2025-05-26 18:23:48 ERROR ProductServiceImpl:93 - Error get all products status true
org.springframework.dao.InvalidDataAccessResourceUsageException: JDBC exception executing SQL [select p1_0.id,p1_0.content,p1_0.deleted,p1_0.description,p1_0.img_url,p1_0.name,p1_0.released_by,p1_0.released_date,p1_0.status,p1_0.updated_by,p1_0.updated_date from product p1_0 where p1_0.status and not(p1_0.deleted)] [ERROR: relation "product" does not exist
  Position: 169] [n/a]; SQL [n/a]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:281)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:256)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:241)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560)
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:136)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy4/jdk.proxy4.$Proxy170.findByStatusTrueAndDeletedFalse(Unknown Source)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.ProductServiceImpl.getProductsStatusTrueAndDeleteFalse(ProductServiceImpl.java:91)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:724)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.ProductServiceImpl$$SpringCGLIB$$0.getProductsStatusTrueAndDeleteFalse(<generated>)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.controller.ProductController.getProductsStatusTrue(ProductController.java:25)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:724)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.controller.ProductController$$SpringCGLIB$$0.getProductsStatusTrue(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.filters.AuthTokenFilter.doFilterInternal(AuthTokenFilter.java:103)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1575)
Caused by: org.hibernate.exception.SQLGrammarException: JDBC exception executing SQL [select p1_0.id,p1_0.content,p1_0.deleted,p1_0.description,p1_0.img_url,p1_0.name,p1_0.released_by,p1_0.released_date,p1_0.status,p1_0.updated_by,p1_0.updated_date from product p1_0 where p1_0.status and not(p1_0.deleted)] [ERROR: relation "product" does not exist
  Position: 169] [n/a]
	at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:91)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:58)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:94)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:268)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.getResultSet(DeferredResultSetAccess.java:171)
	at org.hibernate.sql.results.jdbc.internal.JdbcValuesResultSetImpl.<init>(JdbcValuesResultSetImpl.java:74)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.resolveJdbcValuesSource(JdbcSelectExecutorStandardImpl.java:355)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.doExecuteQuery(JdbcSelectExecutorStandardImpl.java:137)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.executeQuery(JdbcSelectExecutorStandardImpl.java:102)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.executeQuery(JdbcSelectExecutor.java:91)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:165)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.lambda$new$1(ConcreteSqmSelectQueryPlan.java:152)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.withCacheableSqmInterpretation(ConcreteSqmSelectQueryPlan.java:442)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.performList(ConcreteSqmSelectQueryPlan.java:362)
	at org.hibernate.query.sqm.internal.QuerySqmImpl.doList(QuerySqmImpl.java:380)
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:143)
	at org.hibernate.query.Query.getResultList(Query.java:120)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$CollectionExecution.doExecute(JpaQueryExecution.java:130)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:93)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:152)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:140)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:170)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	... 118 more
Caused by: org.postgresql.util.PSQLException: ERROR: relation "product" does not exist
  Position: 169
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2733)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2420)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:372)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:517)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:434)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:194)
	at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:137)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeQuery(ProxyPreparedStatement.java:52)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeQuery(HikariProxyPreparedStatement.java)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:250)
	... 146 more
2025-05-26 18:23:48 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHP
2025-05-26 18:23:48 ERROR AuthTokenFilter:101 - Cannot set user authentication: JDBC exception executing SQL [select u1_0.id,u1_0.created_by,u1_0.created_date,u1_0.deleted,u1_0.enabled,u1_0.password_encrypted,u1_0.updated_by,u1_0.updated_date,u1_0.username,u1_1.role_id from users u1_0 left join roles_users u1_1 on u1_0.id=u1_1.user_id where u1_0.username=?] [ERROR: relation "users" does not exist
  Position: 166] [n/a]; SQL [n/a]
org.springframework.dao.InvalidDataAccessResourceUsageException: JDBC exception executing SQL [select u1_0.id,u1_0.created_by,u1_0.created_date,u1_0.deleted,u1_0.enabled,u1_0.password_encrypted,u1_0.updated_by,u1_0.updated_date,u1_0.username,u1_1.role_id from users u1_0 left join roles_users u1_1 on u1_0.id=u1_1.user_id where u1_0.username=?] [ERROR: relation "users" does not exist
  Position: 166] [n/a]; SQL [n/a]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:281)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:256)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:241)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560)
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:136)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy4/jdk.proxy4.$Proxy150.findByUsername(Unknown Source)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.UserDetailsServiceImpl.loadUserByUsername(UserDetailsServiceImpl.java:20)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.UserDetailsServiceImpl$$SpringCGLIB$$0.loadUserByUsername(<generated>)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.filters.AuthTokenFilter.doFilterInternal(AuthTokenFilter.java:66)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1575)
Caused by: org.hibernate.exception.SQLGrammarException: JDBC exception executing SQL [select u1_0.id,u1_0.created_by,u1_0.created_date,u1_0.deleted,u1_0.enabled,u1_0.password_encrypted,u1_0.updated_by,u1_0.updated_date,u1_0.username,u1_1.role_id from users u1_0 left join roles_users u1_1 on u1_0.id=u1_1.user_id where u1_0.username=?] [ERROR: relation "users" does not exist
  Position: 166] [n/a]
	at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:91)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:58)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:94)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:268)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.getResultSet(DeferredResultSetAccess.java:171)
	at org.hibernate.sql.results.jdbc.internal.JdbcValuesResultSetImpl.<init>(JdbcValuesResultSetImpl.java:74)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.resolveJdbcValuesSource(JdbcSelectExecutorStandardImpl.java:355)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.doExecuteQuery(JdbcSelectExecutorStandardImpl.java:137)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.executeQuery(JdbcSelectExecutorStandardImpl.java:102)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.executeQuery(JdbcSelectExecutor.java:91)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:165)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.lambda$new$1(ConcreteSqmSelectQueryPlan.java:152)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.withCacheableSqmInterpretation(ConcreteSqmSelectQueryPlan.java:442)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.performList(ConcreteSqmSelectQueryPlan.java:362)
	at org.hibernate.query.sqm.internal.QuerySqmImpl.doList(QuerySqmImpl.java:380)
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:143)
	at org.hibernate.query.spi.AbstractSelectionQuery.getSingleResult(AbstractSelectionQuery.java:275)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$SingleEntityExecution.doExecute(JpaQueryExecution.java:224)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:93)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:152)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:140)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:170)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	... 77 more
Caused by: org.postgresql.util.PSQLException: ERROR: relation "users" does not exist
  Position: 166
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2733)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2420)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:372)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:517)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:434)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:194)
	at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:137)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeQuery(ProxyPreparedStatement.java:52)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeQuery(HikariProxyPreparedStatement.java)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:250)
	... 105 more
2025-05-26 18:23:48 ERROR ProductServiceImpl:93 - Error get all products status true
org.springframework.dao.InvalidDataAccessResourceUsageException: JDBC exception executing SQL [select p1_0.id,p1_0.content,p1_0.deleted,p1_0.description,p1_0.img_url,p1_0.name,p1_0.released_by,p1_0.released_date,p1_0.status,p1_0.updated_by,p1_0.updated_date from product p1_0 where p1_0.status and not(p1_0.deleted)] [ERROR: relation "product" does not exist
  Position: 169] [n/a]; SQL [n/a]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:281)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:256)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:241)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560)
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:136)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy4/jdk.proxy4.$Proxy170.findByStatusTrueAndDeletedFalse(Unknown Source)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.ProductServiceImpl.getProductsStatusTrueAndDeleteFalse(ProductServiceImpl.java:91)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:724)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.ProductServiceImpl$$SpringCGLIB$$0.getProductsStatusTrueAndDeleteFalse(<generated>)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.controller.ProductController.getProductsStatusTrue(ProductController.java:25)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:724)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.controller.ProductController$$SpringCGLIB$$0.getProductsStatusTrue(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.filters.AuthTokenFilter.doFilterInternal(AuthTokenFilter.java:103)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1575)
Caused by: org.hibernate.exception.SQLGrammarException: JDBC exception executing SQL [select p1_0.id,p1_0.content,p1_0.deleted,p1_0.description,p1_0.img_url,p1_0.name,p1_0.released_by,p1_0.released_date,p1_0.status,p1_0.updated_by,p1_0.updated_date from product p1_0 where p1_0.status and not(p1_0.deleted)] [ERROR: relation "product" does not exist
  Position: 169] [n/a]
	at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:91)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:58)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:94)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:268)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.getResultSet(DeferredResultSetAccess.java:171)
	at org.hibernate.sql.results.jdbc.internal.JdbcValuesResultSetImpl.<init>(JdbcValuesResultSetImpl.java:74)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.resolveJdbcValuesSource(JdbcSelectExecutorStandardImpl.java:355)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.doExecuteQuery(JdbcSelectExecutorStandardImpl.java:137)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.executeQuery(JdbcSelectExecutorStandardImpl.java:102)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.executeQuery(JdbcSelectExecutor.java:91)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:165)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.lambda$new$1(ConcreteSqmSelectQueryPlan.java:152)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.withCacheableSqmInterpretation(ConcreteSqmSelectQueryPlan.java:442)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.performList(ConcreteSqmSelectQueryPlan.java:362)
	at org.hibernate.query.sqm.internal.QuerySqmImpl.doList(QuerySqmImpl.java:380)
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:143)
	at org.hibernate.query.Query.getResultList(Query.java:120)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$CollectionExecution.doExecute(JpaQueryExecution.java:130)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:93)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:152)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:140)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:170)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	... 118 more
Caused by: org.postgresql.util.PSQLException: ERROR: relation "product" does not exist
  Position: 169
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2733)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2420)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:372)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:517)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:434)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:194)
	at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:137)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeQuery(ProxyPreparedStatement.java:52)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeQuery(HikariProxyPreparedStatement.java)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:250)
	... 146 more
2025-05-26 18:23:48 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHP
2025-05-26 18:23:48 ERROR AuthTokenFilter:101 - Cannot set user authentication: JDBC exception executing SQL [select u1_0.id,u1_0.created_by,u1_0.created_date,u1_0.deleted,u1_0.enabled,u1_0.password_encrypted,u1_0.updated_by,u1_0.updated_date,u1_0.username,u1_1.role_id from users u1_0 left join roles_users u1_1 on u1_0.id=u1_1.user_id where u1_0.username=?] [ERROR: relation "users" does not exist
  Position: 166] [n/a]; SQL [n/a]
org.springframework.dao.InvalidDataAccessResourceUsageException: JDBC exception executing SQL [select u1_0.id,u1_0.created_by,u1_0.created_date,u1_0.deleted,u1_0.enabled,u1_0.password_encrypted,u1_0.updated_by,u1_0.updated_date,u1_0.username,u1_1.role_id from users u1_0 left join roles_users u1_1 on u1_0.id=u1_1.user_id where u1_0.username=?] [ERROR: relation "users" does not exist
  Position: 166] [n/a]; SQL [n/a]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:281)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:256)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:241)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560)
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:136)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy4/jdk.proxy4.$Proxy150.findByUsername(Unknown Source)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.UserDetailsServiceImpl.loadUserByUsername(UserDetailsServiceImpl.java:20)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.UserDetailsServiceImpl$$SpringCGLIB$$0.loadUserByUsername(<generated>)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.filters.AuthTokenFilter.doFilterInternal(AuthTokenFilter.java:66)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1575)
Caused by: org.hibernate.exception.SQLGrammarException: JDBC exception executing SQL [select u1_0.id,u1_0.created_by,u1_0.created_date,u1_0.deleted,u1_0.enabled,u1_0.password_encrypted,u1_0.updated_by,u1_0.updated_date,u1_0.username,u1_1.role_id from users u1_0 left join roles_users u1_1 on u1_0.id=u1_1.user_id where u1_0.username=?] [ERROR: relation "users" does not exist
  Position: 166] [n/a]
	at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:91)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:58)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:94)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:268)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.getResultSet(DeferredResultSetAccess.java:171)
	at org.hibernate.sql.results.jdbc.internal.JdbcValuesResultSetImpl.<init>(JdbcValuesResultSetImpl.java:74)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.resolveJdbcValuesSource(JdbcSelectExecutorStandardImpl.java:355)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.doExecuteQuery(JdbcSelectExecutorStandardImpl.java:137)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.executeQuery(JdbcSelectExecutorStandardImpl.java:102)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.executeQuery(JdbcSelectExecutor.java:91)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:165)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.lambda$new$1(ConcreteSqmSelectQueryPlan.java:152)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.withCacheableSqmInterpretation(ConcreteSqmSelectQueryPlan.java:442)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.performList(ConcreteSqmSelectQueryPlan.java:362)
	at org.hibernate.query.sqm.internal.QuerySqmImpl.doList(QuerySqmImpl.java:380)
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:143)
	at org.hibernate.query.spi.AbstractSelectionQuery.getSingleResult(AbstractSelectionQuery.java:275)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$SingleEntityExecution.doExecute(JpaQueryExecution.java:224)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:93)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:152)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:140)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:170)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	... 77 more
Caused by: org.postgresql.util.PSQLException: ERROR: relation "users" does not exist
  Position: 166
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2733)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2420)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:372)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:517)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:434)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:194)
	at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:137)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeQuery(ProxyPreparedStatement.java:52)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeQuery(HikariProxyPreparedStatement.java)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:250)
	... 105 more
2025-05-26 18:23:48 ERROR ProductServiceImpl:93 - Error get all products status true
org.springframework.dao.InvalidDataAccessResourceUsageException: JDBC exception executing SQL [select p1_0.id,p1_0.content,p1_0.deleted,p1_0.description,p1_0.img_url,p1_0.name,p1_0.released_by,p1_0.released_date,p1_0.status,p1_0.updated_by,p1_0.updated_date from product p1_0 where p1_0.status and not(p1_0.deleted)] [ERROR: relation "product" does not exist
  Position: 169] [n/a]; SQL [n/a]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:281)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:256)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:241)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560)
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:136)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy4/jdk.proxy4.$Proxy170.findByStatusTrueAndDeletedFalse(Unknown Source)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.ProductServiceImpl.getProductsStatusTrueAndDeleteFalse(ProductServiceImpl.java:91)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:724)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.ProductServiceImpl$$SpringCGLIB$$0.getProductsStatusTrueAndDeleteFalse(<generated>)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.controller.ProductController.getProductsStatusTrue(ProductController.java:25)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:724)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.controller.ProductController$$SpringCGLIB$$0.getProductsStatusTrue(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.filters.AuthTokenFilter.doFilterInternal(AuthTokenFilter.java:103)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1575)
Caused by: org.hibernate.exception.SQLGrammarException: JDBC exception executing SQL [select p1_0.id,p1_0.content,p1_0.deleted,p1_0.description,p1_0.img_url,p1_0.name,p1_0.released_by,p1_0.released_date,p1_0.status,p1_0.updated_by,p1_0.updated_date from product p1_0 where p1_0.status and not(p1_0.deleted)] [ERROR: relation "product" does not exist
  Position: 169] [n/a]
	at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:91)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:58)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:94)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:268)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.getResultSet(DeferredResultSetAccess.java:171)
	at org.hibernate.sql.results.jdbc.internal.JdbcValuesResultSetImpl.<init>(JdbcValuesResultSetImpl.java:74)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.resolveJdbcValuesSource(JdbcSelectExecutorStandardImpl.java:355)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.doExecuteQuery(JdbcSelectExecutorStandardImpl.java:137)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.executeQuery(JdbcSelectExecutorStandardImpl.java:102)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.executeQuery(JdbcSelectExecutor.java:91)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:165)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.lambda$new$1(ConcreteSqmSelectQueryPlan.java:152)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.withCacheableSqmInterpretation(ConcreteSqmSelectQueryPlan.java:442)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.performList(ConcreteSqmSelectQueryPlan.java:362)
	at org.hibernate.query.sqm.internal.QuerySqmImpl.doList(QuerySqmImpl.java:380)
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:143)
	at org.hibernate.query.Query.getResultList(Query.java:120)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$CollectionExecution.doExecute(JpaQueryExecution.java:130)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:93)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:152)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:140)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:170)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	... 118 more
Caused by: org.postgresql.util.PSQLException: ERROR: relation "product" does not exist
  Position: 169
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2733)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2420)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:372)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:517)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:434)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:194)
	at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:137)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeQuery(ProxyPreparedStatement.java:52)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeQuery(HikariProxyPreparedStatement.java)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:250)
	... 146 more
2025-05-26 18:23:49 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHP
2025-05-26 18:23:49 ERROR AuthTokenFilter:101 - Cannot set user authentication: JDBC exception executing SQL [select u1_0.id,u1_0.created_by,u1_0.created_date,u1_0.deleted,u1_0.enabled,u1_0.password_encrypted,u1_0.updated_by,u1_0.updated_date,u1_0.username,u1_1.role_id from users u1_0 left join roles_users u1_1 on u1_0.id=u1_1.user_id where u1_0.username=?] [ERROR: relation "users" does not exist
  Position: 166] [n/a]; SQL [n/a]
org.springframework.dao.InvalidDataAccessResourceUsageException: JDBC exception executing SQL [select u1_0.id,u1_0.created_by,u1_0.created_date,u1_0.deleted,u1_0.enabled,u1_0.password_encrypted,u1_0.updated_by,u1_0.updated_date,u1_0.username,u1_1.role_id from users u1_0 left join roles_users u1_1 on u1_0.id=u1_1.user_id where u1_0.username=?] [ERROR: relation "users" does not exist
  Position: 166] [n/a]; SQL [n/a]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:281)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:256)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:241)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560)
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:136)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy4/jdk.proxy4.$Proxy150.findByUsername(Unknown Source)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.UserDetailsServiceImpl.loadUserByUsername(UserDetailsServiceImpl.java:20)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.UserDetailsServiceImpl$$SpringCGLIB$$0.loadUserByUsername(<generated>)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.filters.AuthTokenFilter.doFilterInternal(AuthTokenFilter.java:66)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1575)
Caused by: org.hibernate.exception.SQLGrammarException: JDBC exception executing SQL [select u1_0.id,u1_0.created_by,u1_0.created_date,u1_0.deleted,u1_0.enabled,u1_0.password_encrypted,u1_0.updated_by,u1_0.updated_date,u1_0.username,u1_1.role_id from users u1_0 left join roles_users u1_1 on u1_0.id=u1_1.user_id where u1_0.username=?] [ERROR: relation "users" does not exist
  Position: 166] [n/a]
	at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:91)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:58)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:94)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:268)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.getResultSet(DeferredResultSetAccess.java:171)
	at org.hibernate.sql.results.jdbc.internal.JdbcValuesResultSetImpl.<init>(JdbcValuesResultSetImpl.java:74)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.resolveJdbcValuesSource(JdbcSelectExecutorStandardImpl.java:355)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.doExecuteQuery(JdbcSelectExecutorStandardImpl.java:137)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.executeQuery(JdbcSelectExecutorStandardImpl.java:102)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.executeQuery(JdbcSelectExecutor.java:91)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:165)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.lambda$new$1(ConcreteSqmSelectQueryPlan.java:152)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.withCacheableSqmInterpretation(ConcreteSqmSelectQueryPlan.java:442)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.performList(ConcreteSqmSelectQueryPlan.java:362)
	at org.hibernate.query.sqm.internal.QuerySqmImpl.doList(QuerySqmImpl.java:380)
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:143)
	at org.hibernate.query.spi.AbstractSelectionQuery.getSingleResult(AbstractSelectionQuery.java:275)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$SingleEntityExecution.doExecute(JpaQueryExecution.java:224)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:93)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:152)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:140)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:170)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	... 77 more
Caused by: org.postgresql.util.PSQLException: ERROR: relation "users" does not exist
  Position: 166
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2733)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2420)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:372)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:517)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:434)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:194)
	at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:137)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeQuery(ProxyPreparedStatement.java:52)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeQuery(HikariProxyPreparedStatement.java)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:250)
	... 105 more
2025-05-26 18:23:49 ERROR ProductServiceImpl:93 - Error get all products status true
org.springframework.dao.InvalidDataAccessResourceUsageException: JDBC exception executing SQL [select p1_0.id,p1_0.content,p1_0.deleted,p1_0.description,p1_0.img_url,p1_0.name,p1_0.released_by,p1_0.released_date,p1_0.status,p1_0.updated_by,p1_0.updated_date from product p1_0 where p1_0.status and not(p1_0.deleted)] [ERROR: relation "product" does not exist
  Position: 169] [n/a]; SQL [n/a]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:281)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:256)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:241)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560)
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:136)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy4/jdk.proxy4.$Proxy170.findByStatusTrueAndDeletedFalse(Unknown Source)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.ProductServiceImpl.getProductsStatusTrueAndDeleteFalse(ProductServiceImpl.java:91)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:724)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.ProductServiceImpl$$SpringCGLIB$$0.getProductsStatusTrueAndDeleteFalse(<generated>)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.controller.ProductController.getProductsStatusTrue(ProductController.java:25)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:724)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.controller.ProductController$$SpringCGLIB$$0.getProductsStatusTrue(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.filters.AuthTokenFilter.doFilterInternal(AuthTokenFilter.java:103)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1575)
Caused by: org.hibernate.exception.SQLGrammarException: JDBC exception executing SQL [select p1_0.id,p1_0.content,p1_0.deleted,p1_0.description,p1_0.img_url,p1_0.name,p1_0.released_by,p1_0.released_date,p1_0.status,p1_0.updated_by,p1_0.updated_date from product p1_0 where p1_0.status and not(p1_0.deleted)] [ERROR: relation "product" does not exist
  Position: 169] [n/a]
	at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:91)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:58)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:94)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:268)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.getResultSet(DeferredResultSetAccess.java:171)
	at org.hibernate.sql.results.jdbc.internal.JdbcValuesResultSetImpl.<init>(JdbcValuesResultSetImpl.java:74)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.resolveJdbcValuesSource(JdbcSelectExecutorStandardImpl.java:355)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.doExecuteQuery(JdbcSelectExecutorStandardImpl.java:137)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.executeQuery(JdbcSelectExecutorStandardImpl.java:102)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.executeQuery(JdbcSelectExecutor.java:91)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:165)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.lambda$new$1(ConcreteSqmSelectQueryPlan.java:152)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.withCacheableSqmInterpretation(ConcreteSqmSelectQueryPlan.java:442)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.performList(ConcreteSqmSelectQueryPlan.java:362)
	at org.hibernate.query.sqm.internal.QuerySqmImpl.doList(QuerySqmImpl.java:380)
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:143)
	at org.hibernate.query.Query.getResultList(Query.java:120)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$CollectionExecution.doExecute(JpaQueryExecution.java:130)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:93)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:152)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:140)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:170)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	... 118 more
Caused by: org.postgresql.util.PSQLException: ERROR: relation "product" does not exist
  Position: 169
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2733)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2420)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:372)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:517)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:434)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:194)
	at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:137)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeQuery(ProxyPreparedStatement.java:52)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeQuery(HikariProxyPreparedStatement.java)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:250)
	... 146 more
2025-05-26 18:23:49 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHP
2025-05-26 18:23:49 ERROR AuthTokenFilter:101 - Cannot set user authentication: JDBC exception executing SQL [select u1_0.id,u1_0.created_by,u1_0.created_date,u1_0.deleted,u1_0.enabled,u1_0.password_encrypted,u1_0.updated_by,u1_0.updated_date,u1_0.username,u1_1.role_id from users u1_0 left join roles_users u1_1 on u1_0.id=u1_1.user_id where u1_0.username=?] [ERROR: relation "users" does not exist
  Position: 166] [n/a]; SQL [n/a]
org.springframework.dao.InvalidDataAccessResourceUsageException: JDBC exception executing SQL [select u1_0.id,u1_0.created_by,u1_0.created_date,u1_0.deleted,u1_0.enabled,u1_0.password_encrypted,u1_0.updated_by,u1_0.updated_date,u1_0.username,u1_1.role_id from users u1_0 left join roles_users u1_1 on u1_0.id=u1_1.user_id where u1_0.username=?] [ERROR: relation "users" does not exist
  Position: 166] [n/a]; SQL [n/a]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:281)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:256)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:241)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560)
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:136)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy4/jdk.proxy4.$Proxy150.findByUsername(Unknown Source)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.UserDetailsServiceImpl.loadUserByUsername(UserDetailsServiceImpl.java:20)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.UserDetailsServiceImpl$$SpringCGLIB$$0.loadUserByUsername(<generated>)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.filters.AuthTokenFilter.doFilterInternal(AuthTokenFilter.java:66)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1575)
Caused by: org.hibernate.exception.SQLGrammarException: JDBC exception executing SQL [select u1_0.id,u1_0.created_by,u1_0.created_date,u1_0.deleted,u1_0.enabled,u1_0.password_encrypted,u1_0.updated_by,u1_0.updated_date,u1_0.username,u1_1.role_id from users u1_0 left join roles_users u1_1 on u1_0.id=u1_1.user_id where u1_0.username=?] [ERROR: relation "users" does not exist
  Position: 166] [n/a]
	at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:91)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:58)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:94)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:268)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.getResultSet(DeferredResultSetAccess.java:171)
	at org.hibernate.sql.results.jdbc.internal.JdbcValuesResultSetImpl.<init>(JdbcValuesResultSetImpl.java:74)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.resolveJdbcValuesSource(JdbcSelectExecutorStandardImpl.java:355)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.doExecuteQuery(JdbcSelectExecutorStandardImpl.java:137)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.executeQuery(JdbcSelectExecutorStandardImpl.java:102)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.executeQuery(JdbcSelectExecutor.java:91)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:165)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.lambda$new$1(ConcreteSqmSelectQueryPlan.java:152)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.withCacheableSqmInterpretation(ConcreteSqmSelectQueryPlan.java:442)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.performList(ConcreteSqmSelectQueryPlan.java:362)
	at org.hibernate.query.sqm.internal.QuerySqmImpl.doList(QuerySqmImpl.java:380)
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:143)
	at org.hibernate.query.spi.AbstractSelectionQuery.getSingleResult(AbstractSelectionQuery.java:275)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$SingleEntityExecution.doExecute(JpaQueryExecution.java:224)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:93)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:152)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:140)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:170)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	... 77 more
Caused by: org.postgresql.util.PSQLException: ERROR: relation "users" does not exist
  Position: 166
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2733)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2420)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:372)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:517)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:434)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:194)
	at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:137)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeQuery(ProxyPreparedStatement.java:52)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeQuery(HikariProxyPreparedStatement.java)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:250)
	... 105 more
2025-05-26 18:23:49 ERROR ProductServiceImpl:93 - Error get all products status true
org.springframework.dao.InvalidDataAccessResourceUsageException: JDBC exception executing SQL [select p1_0.id,p1_0.content,p1_0.deleted,p1_0.description,p1_0.img_url,p1_0.name,p1_0.released_by,p1_0.released_date,p1_0.status,p1_0.updated_by,p1_0.updated_date from product p1_0 where p1_0.status and not(p1_0.deleted)] [ERROR: relation "product" does not exist
  Position: 169] [n/a]; SQL [n/a]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:281)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:256)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:241)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560)
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:136)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy4/jdk.proxy4.$Proxy170.findByStatusTrueAndDeletedFalse(Unknown Source)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.ProductServiceImpl.getProductsStatusTrueAndDeleteFalse(ProductServiceImpl.java:91)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:724)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.ProductServiceImpl$$SpringCGLIB$$0.getProductsStatusTrueAndDeleteFalse(<generated>)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.controller.ProductController.getProductsStatusTrue(ProductController.java:25)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:724)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.controller.ProductController$$SpringCGLIB$$0.getProductsStatusTrue(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.filters.AuthTokenFilter.doFilterInternal(AuthTokenFilter.java:103)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1575)
Caused by: org.hibernate.exception.SQLGrammarException: JDBC exception executing SQL [select p1_0.id,p1_0.content,p1_0.deleted,p1_0.description,p1_0.img_url,p1_0.name,p1_0.released_by,p1_0.released_date,p1_0.status,p1_0.updated_by,p1_0.updated_date from product p1_0 where p1_0.status and not(p1_0.deleted)] [ERROR: relation "product" does not exist
  Position: 169] [n/a]
	at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:91)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:58)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:94)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:268)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.getResultSet(DeferredResultSetAccess.java:171)
	at org.hibernate.sql.results.jdbc.internal.JdbcValuesResultSetImpl.<init>(JdbcValuesResultSetImpl.java:74)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.resolveJdbcValuesSource(JdbcSelectExecutorStandardImpl.java:355)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.doExecuteQuery(JdbcSelectExecutorStandardImpl.java:137)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.executeQuery(JdbcSelectExecutorStandardImpl.java:102)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.executeQuery(JdbcSelectExecutor.java:91)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:165)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.lambda$new$1(ConcreteSqmSelectQueryPlan.java:152)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.withCacheableSqmInterpretation(ConcreteSqmSelectQueryPlan.java:442)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.performList(ConcreteSqmSelectQueryPlan.java:362)
	at org.hibernate.query.sqm.internal.QuerySqmImpl.doList(QuerySqmImpl.java:380)
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:143)
	at org.hibernate.query.Query.getResultList(Query.java:120)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$CollectionExecution.doExecute(JpaQueryExecution.java:130)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:93)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:152)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:140)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:170)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	... 118 more
Caused by: org.postgresql.util.PSQLException: ERROR: relation "product" does not exist
  Position: 169
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2733)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2420)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:372)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:517)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:434)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:194)
	at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:137)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeQuery(ProxyPreparedStatement.java:52)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeQuery(HikariProxyPreparedStatement.java)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:250)
	... 146 more
2025-05-26 18:23:49 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHP
2025-05-26 18:23:49 ERROR AuthTokenFilter:101 - Cannot set user authentication: JDBC exception executing SQL [select u1_0.id,u1_0.created_by,u1_0.created_date,u1_0.deleted,u1_0.enabled,u1_0.password_encrypted,u1_0.updated_by,u1_0.updated_date,u1_0.username,u1_1.role_id from users u1_0 left join roles_users u1_1 on u1_0.id=u1_1.user_id where u1_0.username=?] [ERROR: relation "users" does not exist
  Position: 166] [n/a]; SQL [n/a]
org.springframework.dao.InvalidDataAccessResourceUsageException: JDBC exception executing SQL [select u1_0.id,u1_0.created_by,u1_0.created_date,u1_0.deleted,u1_0.enabled,u1_0.password_encrypted,u1_0.updated_by,u1_0.updated_date,u1_0.username,u1_1.role_id from users u1_0 left join roles_users u1_1 on u1_0.id=u1_1.user_id where u1_0.username=?] [ERROR: relation "users" does not exist
  Position: 166] [n/a]; SQL [n/a]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:281)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:256)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:241)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560)
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:136)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy4/jdk.proxy4.$Proxy150.findByUsername(Unknown Source)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.UserDetailsServiceImpl.loadUserByUsername(UserDetailsServiceImpl.java:20)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.UserDetailsServiceImpl$$SpringCGLIB$$0.loadUserByUsername(<generated>)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.filters.AuthTokenFilter.doFilterInternal(AuthTokenFilter.java:66)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1575)
Caused by: org.hibernate.exception.SQLGrammarException: JDBC exception executing SQL [select u1_0.id,u1_0.created_by,u1_0.created_date,u1_0.deleted,u1_0.enabled,u1_0.password_encrypted,u1_0.updated_by,u1_0.updated_date,u1_0.username,u1_1.role_id from users u1_0 left join roles_users u1_1 on u1_0.id=u1_1.user_id where u1_0.username=?] [ERROR: relation "users" does not exist
  Position: 166] [n/a]
	at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:91)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:58)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:94)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:268)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.getResultSet(DeferredResultSetAccess.java:171)
	at org.hibernate.sql.results.jdbc.internal.JdbcValuesResultSetImpl.<init>(JdbcValuesResultSetImpl.java:74)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.resolveJdbcValuesSource(JdbcSelectExecutorStandardImpl.java:355)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.doExecuteQuery(JdbcSelectExecutorStandardImpl.java:137)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.executeQuery(JdbcSelectExecutorStandardImpl.java:102)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.executeQuery(JdbcSelectExecutor.java:91)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:165)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.lambda$new$1(ConcreteSqmSelectQueryPlan.java:152)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.withCacheableSqmInterpretation(ConcreteSqmSelectQueryPlan.java:442)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.performList(ConcreteSqmSelectQueryPlan.java:362)
	at org.hibernate.query.sqm.internal.QuerySqmImpl.doList(QuerySqmImpl.java:380)
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:143)
	at org.hibernate.query.spi.AbstractSelectionQuery.getSingleResult(AbstractSelectionQuery.java:275)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$SingleEntityExecution.doExecute(JpaQueryExecution.java:224)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:93)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:152)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:140)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:170)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	... 77 more
Caused by: org.postgresql.util.PSQLException: ERROR: relation "users" does not exist
  Position: 166
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2733)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2420)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:372)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:517)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:434)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:194)
	at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:137)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeQuery(ProxyPreparedStatement.java:52)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeQuery(HikariProxyPreparedStatement.java)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:250)
	... 105 more
2025-05-26 18:23:49 ERROR ProductServiceImpl:93 - Error get all products status true
org.springframework.dao.InvalidDataAccessResourceUsageException: JDBC exception executing SQL [select p1_0.id,p1_0.content,p1_0.deleted,p1_0.description,p1_0.img_url,p1_0.name,p1_0.released_by,p1_0.released_date,p1_0.status,p1_0.updated_by,p1_0.updated_date from product p1_0 where p1_0.status and not(p1_0.deleted)] [ERROR: relation "product" does not exist
  Position: 169] [n/a]; SQL [n/a]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:281)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:256)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:241)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560)
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:136)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy4/jdk.proxy4.$Proxy170.findByStatusTrueAndDeletedFalse(Unknown Source)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.ProductServiceImpl.getProductsStatusTrueAndDeleteFalse(ProductServiceImpl.java:91)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:724)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.ProductServiceImpl$$SpringCGLIB$$0.getProductsStatusTrueAndDeleteFalse(<generated>)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.controller.ProductController.getProductsStatusTrue(ProductController.java:25)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:724)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.controller.ProductController$$SpringCGLIB$$0.getProductsStatusTrue(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.filters.AuthTokenFilter.doFilterInternal(AuthTokenFilter.java:103)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1575)
Caused by: org.hibernate.exception.SQLGrammarException: JDBC exception executing SQL [select p1_0.id,p1_0.content,p1_0.deleted,p1_0.description,p1_0.img_url,p1_0.name,p1_0.released_by,p1_0.released_date,p1_0.status,p1_0.updated_by,p1_0.updated_date from product p1_0 where p1_0.status and not(p1_0.deleted)] [ERROR: relation "product" does not exist
  Position: 169] [n/a]
	at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:91)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:58)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:94)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:268)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.getResultSet(DeferredResultSetAccess.java:171)
	at org.hibernate.sql.results.jdbc.internal.JdbcValuesResultSetImpl.<init>(JdbcValuesResultSetImpl.java:74)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.resolveJdbcValuesSource(JdbcSelectExecutorStandardImpl.java:355)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.doExecuteQuery(JdbcSelectExecutorStandardImpl.java:137)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.executeQuery(JdbcSelectExecutorStandardImpl.java:102)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.executeQuery(JdbcSelectExecutor.java:91)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:165)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.lambda$new$1(ConcreteSqmSelectQueryPlan.java:152)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.withCacheableSqmInterpretation(ConcreteSqmSelectQueryPlan.java:442)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.performList(ConcreteSqmSelectQueryPlan.java:362)
	at org.hibernate.query.sqm.internal.QuerySqmImpl.doList(QuerySqmImpl.java:380)
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:143)
	at org.hibernate.query.Query.getResultList(Query.java:120)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$CollectionExecution.doExecute(JpaQueryExecution.java:130)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:93)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:152)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:140)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:170)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	... 118 more
Caused by: org.postgresql.util.PSQLException: ERROR: relation "product" does not exist
  Position: 169
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2733)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2420)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:372)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:517)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:434)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:194)
	at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:137)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeQuery(ProxyPreparedStatement.java:52)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeQuery(HikariProxyPreparedStatement.java)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:250)
	... 146 more
2025-05-26 18:23:49 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHP
2025-05-26 18:23:49 ERROR AuthTokenFilter:101 - Cannot set user authentication: JDBC exception executing SQL [select u1_0.id,u1_0.created_by,u1_0.created_date,u1_0.deleted,u1_0.enabled,u1_0.password_encrypted,u1_0.updated_by,u1_0.updated_date,u1_0.username,u1_1.role_id from users u1_0 left join roles_users u1_1 on u1_0.id=u1_1.user_id where u1_0.username=?] [ERROR: relation "users" does not exist
  Position: 166] [n/a]; SQL [n/a]
org.springframework.dao.InvalidDataAccessResourceUsageException: JDBC exception executing SQL [select u1_0.id,u1_0.created_by,u1_0.created_date,u1_0.deleted,u1_0.enabled,u1_0.password_encrypted,u1_0.updated_by,u1_0.updated_date,u1_0.username,u1_1.role_id from users u1_0 left join roles_users u1_1 on u1_0.id=u1_1.user_id where u1_0.username=?] [ERROR: relation "users" does not exist
  Position: 166] [n/a]; SQL [n/a]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:281)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:256)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:241)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560)
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:136)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy4/jdk.proxy4.$Proxy150.findByUsername(Unknown Source)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.UserDetailsServiceImpl.loadUserByUsername(UserDetailsServiceImpl.java:20)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.UserDetailsServiceImpl$$SpringCGLIB$$0.loadUserByUsername(<generated>)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.filters.AuthTokenFilter.doFilterInternal(AuthTokenFilter.java:66)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1575)
Caused by: org.hibernate.exception.SQLGrammarException: JDBC exception executing SQL [select u1_0.id,u1_0.created_by,u1_0.created_date,u1_0.deleted,u1_0.enabled,u1_0.password_encrypted,u1_0.updated_by,u1_0.updated_date,u1_0.username,u1_1.role_id from users u1_0 left join roles_users u1_1 on u1_0.id=u1_1.user_id where u1_0.username=?] [ERROR: relation "users" does not exist
  Position: 166] [n/a]
	at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:91)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:58)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:94)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:268)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.getResultSet(DeferredResultSetAccess.java:171)
	at org.hibernate.sql.results.jdbc.internal.JdbcValuesResultSetImpl.<init>(JdbcValuesResultSetImpl.java:74)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.resolveJdbcValuesSource(JdbcSelectExecutorStandardImpl.java:355)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.doExecuteQuery(JdbcSelectExecutorStandardImpl.java:137)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.executeQuery(JdbcSelectExecutorStandardImpl.java:102)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.executeQuery(JdbcSelectExecutor.java:91)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:165)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.lambda$new$1(ConcreteSqmSelectQueryPlan.java:152)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.withCacheableSqmInterpretation(ConcreteSqmSelectQueryPlan.java:442)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.performList(ConcreteSqmSelectQueryPlan.java:362)
	at org.hibernate.query.sqm.internal.QuerySqmImpl.doList(QuerySqmImpl.java:380)
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:143)
	at org.hibernate.query.spi.AbstractSelectionQuery.getSingleResult(AbstractSelectionQuery.java:275)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$SingleEntityExecution.doExecute(JpaQueryExecution.java:224)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:93)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:152)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:140)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:170)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	... 77 more
Caused by: org.postgresql.util.PSQLException: ERROR: relation "users" does not exist
  Position: 166
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2733)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2420)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:372)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:517)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:434)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:194)
	at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:137)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeQuery(ProxyPreparedStatement.java:52)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeQuery(HikariProxyPreparedStatement.java)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:250)
	... 105 more
2025-05-26 18:23:49 ERROR ProductServiceImpl:93 - Error get all products status true
org.springframework.dao.InvalidDataAccessResourceUsageException: JDBC exception executing SQL [select p1_0.id,p1_0.content,p1_0.deleted,p1_0.description,p1_0.img_url,p1_0.name,p1_0.released_by,p1_0.released_date,p1_0.status,p1_0.updated_by,p1_0.updated_date from product p1_0 where p1_0.status and not(p1_0.deleted)] [ERROR: relation "product" does not exist
  Position: 169] [n/a]; SQL [n/a]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:281)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:256)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:241)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560)
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:136)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy4/jdk.proxy4.$Proxy170.findByStatusTrueAndDeletedFalse(Unknown Source)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.ProductServiceImpl.getProductsStatusTrueAndDeleteFalse(ProductServiceImpl.java:91)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:724)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.ProductServiceImpl$$SpringCGLIB$$0.getProductsStatusTrueAndDeleteFalse(<generated>)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.controller.ProductController.getProductsStatusTrue(ProductController.java:25)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:724)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.controller.ProductController$$SpringCGLIB$$0.getProductsStatusTrue(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.filters.AuthTokenFilter.doFilterInternal(AuthTokenFilter.java:103)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1575)
Caused by: org.hibernate.exception.SQLGrammarException: JDBC exception executing SQL [select p1_0.id,p1_0.content,p1_0.deleted,p1_0.description,p1_0.img_url,p1_0.name,p1_0.released_by,p1_0.released_date,p1_0.status,p1_0.updated_by,p1_0.updated_date from product p1_0 where p1_0.status and not(p1_0.deleted)] [ERROR: relation "product" does not exist
  Position: 169] [n/a]
	at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:91)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:58)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:94)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:268)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.getResultSet(DeferredResultSetAccess.java:171)
	at org.hibernate.sql.results.jdbc.internal.JdbcValuesResultSetImpl.<init>(JdbcValuesResultSetImpl.java:74)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.resolveJdbcValuesSource(JdbcSelectExecutorStandardImpl.java:355)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.doExecuteQuery(JdbcSelectExecutorStandardImpl.java:137)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.executeQuery(JdbcSelectExecutorStandardImpl.java:102)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.executeQuery(JdbcSelectExecutor.java:91)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:165)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.lambda$new$1(ConcreteSqmSelectQueryPlan.java:152)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.withCacheableSqmInterpretation(ConcreteSqmSelectQueryPlan.java:442)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.performList(ConcreteSqmSelectQueryPlan.java:362)
	at org.hibernate.query.sqm.internal.QuerySqmImpl.doList(QuerySqmImpl.java:380)
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:143)
	at org.hibernate.query.Query.getResultList(Query.java:120)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$CollectionExecution.doExecute(JpaQueryExecution.java:130)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:93)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:152)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:140)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:170)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	... 118 more
Caused by: org.postgresql.util.PSQLException: ERROR: relation "product" does not exist
  Position: 169
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2733)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2420)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:372)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:517)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:434)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:194)
	at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:137)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeQuery(ProxyPreparedStatement.java:52)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeQuery(HikariProxyPreparedStatement.java)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:250)
	... 146 more
2025-05-26 18:23:49 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHP
2025-05-26 18:23:49 ERROR AuthTokenFilter:101 - Cannot set user authentication: JDBC exception executing SQL [select u1_0.id,u1_0.created_by,u1_0.created_date,u1_0.deleted,u1_0.enabled,u1_0.password_encrypted,u1_0.updated_by,u1_0.updated_date,u1_0.username,u1_1.role_id from users u1_0 left join roles_users u1_1 on u1_0.id=u1_1.user_id where u1_0.username=?] [ERROR: relation "users" does not exist
  Position: 166] [n/a]; SQL [n/a]
org.springframework.dao.InvalidDataAccessResourceUsageException: JDBC exception executing SQL [select u1_0.id,u1_0.created_by,u1_0.created_date,u1_0.deleted,u1_0.enabled,u1_0.password_encrypted,u1_0.updated_by,u1_0.updated_date,u1_0.username,u1_1.role_id from users u1_0 left join roles_users u1_1 on u1_0.id=u1_1.user_id where u1_0.username=?] [ERROR: relation "users" does not exist
  Position: 166] [n/a]; SQL [n/a]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:281)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:256)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:241)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560)
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:136)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy4/jdk.proxy4.$Proxy150.findByUsername(Unknown Source)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.UserDetailsServiceImpl.loadUserByUsername(UserDetailsServiceImpl.java:20)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.UserDetailsServiceImpl$$SpringCGLIB$$0.loadUserByUsername(<generated>)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.filters.AuthTokenFilter.doFilterInternal(AuthTokenFilter.java:66)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1575)
Caused by: org.hibernate.exception.SQLGrammarException: JDBC exception executing SQL [select u1_0.id,u1_0.created_by,u1_0.created_date,u1_0.deleted,u1_0.enabled,u1_0.password_encrypted,u1_0.updated_by,u1_0.updated_date,u1_0.username,u1_1.role_id from users u1_0 left join roles_users u1_1 on u1_0.id=u1_1.user_id where u1_0.username=?] [ERROR: relation "users" does not exist
  Position: 166] [n/a]
	at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:91)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:58)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:94)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:268)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.getResultSet(DeferredResultSetAccess.java:171)
	at org.hibernate.sql.results.jdbc.internal.JdbcValuesResultSetImpl.<init>(JdbcValuesResultSetImpl.java:74)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.resolveJdbcValuesSource(JdbcSelectExecutorStandardImpl.java:355)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.doExecuteQuery(JdbcSelectExecutorStandardImpl.java:137)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.executeQuery(JdbcSelectExecutorStandardImpl.java:102)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.executeQuery(JdbcSelectExecutor.java:91)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:165)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.lambda$new$1(ConcreteSqmSelectQueryPlan.java:152)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.withCacheableSqmInterpretation(ConcreteSqmSelectQueryPlan.java:442)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.performList(ConcreteSqmSelectQueryPlan.java:362)
	at org.hibernate.query.sqm.internal.QuerySqmImpl.doList(QuerySqmImpl.java:380)
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:143)
	at org.hibernate.query.spi.AbstractSelectionQuery.getSingleResult(AbstractSelectionQuery.java:275)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$SingleEntityExecution.doExecute(JpaQueryExecution.java:224)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:93)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:152)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:140)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:170)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	... 77 more
Caused by: org.postgresql.util.PSQLException: ERROR: relation "users" does not exist
  Position: 166
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2733)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2420)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:372)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:517)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:434)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:194)
	at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:137)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeQuery(ProxyPreparedStatement.java:52)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeQuery(HikariProxyPreparedStatement.java)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:250)
	... 105 more
2025-05-26 18:23:49 ERROR ProductServiceImpl:93 - Error get all products status true
org.springframework.dao.InvalidDataAccessResourceUsageException: JDBC exception executing SQL [select p1_0.id,p1_0.content,p1_0.deleted,p1_0.description,p1_0.img_url,p1_0.name,p1_0.released_by,p1_0.released_date,p1_0.status,p1_0.updated_by,p1_0.updated_date from product p1_0 where p1_0.status and not(p1_0.deleted)] [ERROR: relation "product" does not exist
  Position: 169] [n/a]; SQL [n/a]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:281)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:256)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:241)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560)
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:136)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy4/jdk.proxy4.$Proxy170.findByStatusTrueAndDeletedFalse(Unknown Source)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.ProductServiceImpl.getProductsStatusTrueAndDeleteFalse(ProductServiceImpl.java:91)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:724)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.ProductServiceImpl$$SpringCGLIB$$0.getProductsStatusTrueAndDeleteFalse(<generated>)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.controller.ProductController.getProductsStatusTrue(ProductController.java:25)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:724)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.controller.ProductController$$SpringCGLIB$$0.getProductsStatusTrue(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.filters.AuthTokenFilter.doFilterInternal(AuthTokenFilter.java:103)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1575)
Caused by: org.hibernate.exception.SQLGrammarException: JDBC exception executing SQL [select p1_0.id,p1_0.content,p1_0.deleted,p1_0.description,p1_0.img_url,p1_0.name,p1_0.released_by,p1_0.released_date,p1_0.status,p1_0.updated_by,p1_0.updated_date from product p1_0 where p1_0.status and not(p1_0.deleted)] [ERROR: relation "product" does not exist
  Position: 169] [n/a]
	at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:91)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:58)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:94)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:268)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.getResultSet(DeferredResultSetAccess.java:171)
	at org.hibernate.sql.results.jdbc.internal.JdbcValuesResultSetImpl.<init>(JdbcValuesResultSetImpl.java:74)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.resolveJdbcValuesSource(JdbcSelectExecutorStandardImpl.java:355)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.doExecuteQuery(JdbcSelectExecutorStandardImpl.java:137)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.executeQuery(JdbcSelectExecutorStandardImpl.java:102)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.executeQuery(JdbcSelectExecutor.java:91)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:165)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.lambda$new$1(ConcreteSqmSelectQueryPlan.java:152)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.withCacheableSqmInterpretation(ConcreteSqmSelectQueryPlan.java:442)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.performList(ConcreteSqmSelectQueryPlan.java:362)
	at org.hibernate.query.sqm.internal.QuerySqmImpl.doList(QuerySqmImpl.java:380)
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:143)
	at org.hibernate.query.Query.getResultList(Query.java:120)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$CollectionExecution.doExecute(JpaQueryExecution.java:130)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:93)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:152)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:140)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:170)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	... 118 more
Caused by: org.postgresql.util.PSQLException: ERROR: relation "product" does not exist
  Position: 169
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2733)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2420)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:372)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:517)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:434)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:194)
	at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:137)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeQuery(ProxyPreparedStatement.java:52)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeQuery(HikariProxyPreparedStatement.java)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:250)
	... 146 more
2025-05-26 18:23:49 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHP
2025-05-26 18:23:49 ERROR AuthTokenFilter:101 - Cannot set user authentication: JDBC exception executing SQL [select u1_0.id,u1_0.created_by,u1_0.created_date,u1_0.deleted,u1_0.enabled,u1_0.password_encrypted,u1_0.updated_by,u1_0.updated_date,u1_0.username,u1_1.role_id from users u1_0 left join roles_users u1_1 on u1_0.id=u1_1.user_id where u1_0.username=?] [ERROR: relation "users" does not exist
  Position: 166] [n/a]; SQL [n/a]
org.springframework.dao.InvalidDataAccessResourceUsageException: JDBC exception executing SQL [select u1_0.id,u1_0.created_by,u1_0.created_date,u1_0.deleted,u1_0.enabled,u1_0.password_encrypted,u1_0.updated_by,u1_0.updated_date,u1_0.username,u1_1.role_id from users u1_0 left join roles_users u1_1 on u1_0.id=u1_1.user_id where u1_0.username=?] [ERROR: relation "users" does not exist
  Position: 166] [n/a]; SQL [n/a]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:281)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:256)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:241)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560)
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:136)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy4/jdk.proxy4.$Proxy150.findByUsername(Unknown Source)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.UserDetailsServiceImpl.loadUserByUsername(UserDetailsServiceImpl.java:20)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.UserDetailsServiceImpl$$SpringCGLIB$$0.loadUserByUsername(<generated>)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.filters.AuthTokenFilter.doFilterInternal(AuthTokenFilter.java:66)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1575)
Caused by: org.hibernate.exception.SQLGrammarException: JDBC exception executing SQL [select u1_0.id,u1_0.created_by,u1_0.created_date,u1_0.deleted,u1_0.enabled,u1_0.password_encrypted,u1_0.updated_by,u1_0.updated_date,u1_0.username,u1_1.role_id from users u1_0 left join roles_users u1_1 on u1_0.id=u1_1.user_id where u1_0.username=?] [ERROR: relation "users" does not exist
  Position: 166] [n/a]
	at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:91)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:58)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:94)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:268)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.getResultSet(DeferredResultSetAccess.java:171)
	at org.hibernate.sql.results.jdbc.internal.JdbcValuesResultSetImpl.<init>(JdbcValuesResultSetImpl.java:74)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.resolveJdbcValuesSource(JdbcSelectExecutorStandardImpl.java:355)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.doExecuteQuery(JdbcSelectExecutorStandardImpl.java:137)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.executeQuery(JdbcSelectExecutorStandardImpl.java:102)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.executeQuery(JdbcSelectExecutor.java:91)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:165)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.lambda$new$1(ConcreteSqmSelectQueryPlan.java:152)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.withCacheableSqmInterpretation(ConcreteSqmSelectQueryPlan.java:442)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.performList(ConcreteSqmSelectQueryPlan.java:362)
	at org.hibernate.query.sqm.internal.QuerySqmImpl.doList(QuerySqmImpl.java:380)
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:143)
	at org.hibernate.query.spi.AbstractSelectionQuery.getSingleResult(AbstractSelectionQuery.java:275)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$SingleEntityExecution.doExecute(JpaQueryExecution.java:224)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:93)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:152)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:140)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:170)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	... 77 more
Caused by: org.postgresql.util.PSQLException: ERROR: relation "users" does not exist
  Position: 166
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2733)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2420)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:372)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:517)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:434)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:194)
	at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:137)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeQuery(ProxyPreparedStatement.java:52)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeQuery(HikariProxyPreparedStatement.java)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:250)
	... 105 more
2025-05-26 18:23:49 ERROR ProductServiceImpl:93 - Error get all products status true
org.springframework.dao.InvalidDataAccessResourceUsageException: JDBC exception executing SQL [select p1_0.id,p1_0.content,p1_0.deleted,p1_0.description,p1_0.img_url,p1_0.name,p1_0.released_by,p1_0.released_date,p1_0.status,p1_0.updated_by,p1_0.updated_date from product p1_0 where p1_0.status and not(p1_0.deleted)] [ERROR: relation "product" does not exist
  Position: 169] [n/a]; SQL [n/a]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:281)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:256)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:241)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560)
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:136)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy4/jdk.proxy4.$Proxy170.findByStatusTrueAndDeletedFalse(Unknown Source)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.ProductServiceImpl.getProductsStatusTrueAndDeleteFalse(ProductServiceImpl.java:91)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:724)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.ProductServiceImpl$$SpringCGLIB$$0.getProductsStatusTrueAndDeleteFalse(<generated>)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.controller.ProductController.getProductsStatusTrue(ProductController.java:25)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:724)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.controller.ProductController$$SpringCGLIB$$0.getProductsStatusTrue(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.filters.AuthTokenFilter.doFilterInternal(AuthTokenFilter.java:103)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1575)
Caused by: org.hibernate.exception.SQLGrammarException: JDBC exception executing SQL [select p1_0.id,p1_0.content,p1_0.deleted,p1_0.description,p1_0.img_url,p1_0.name,p1_0.released_by,p1_0.released_date,p1_0.status,p1_0.updated_by,p1_0.updated_date from product p1_0 where p1_0.status and not(p1_0.deleted)] [ERROR: relation "product" does not exist
  Position: 169] [n/a]
	at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:91)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:58)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:94)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:268)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.getResultSet(DeferredResultSetAccess.java:171)
	at org.hibernate.sql.results.jdbc.internal.JdbcValuesResultSetImpl.<init>(JdbcValuesResultSetImpl.java:74)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.resolveJdbcValuesSource(JdbcSelectExecutorStandardImpl.java:355)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.doExecuteQuery(JdbcSelectExecutorStandardImpl.java:137)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.executeQuery(JdbcSelectExecutorStandardImpl.java:102)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.executeQuery(JdbcSelectExecutor.java:91)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:165)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.lambda$new$1(ConcreteSqmSelectQueryPlan.java:152)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.withCacheableSqmInterpretation(ConcreteSqmSelectQueryPlan.java:442)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.performList(ConcreteSqmSelectQueryPlan.java:362)
	at org.hibernate.query.sqm.internal.QuerySqmImpl.doList(QuerySqmImpl.java:380)
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:143)
	at org.hibernate.query.Query.getResultList(Query.java:120)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$CollectionExecution.doExecute(JpaQueryExecution.java:130)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:93)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:152)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:140)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:170)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	... 118 more
Caused by: org.postgresql.util.PSQLException: ERROR: relation "product" does not exist
  Position: 169
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2733)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2420)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:372)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:517)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:434)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:194)
	at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:137)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeQuery(ProxyPreparedStatement.java:52)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeQuery(HikariProxyPreparedStatement.java)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:250)
	... 146 more
2025-05-26 18:23:50 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHP
2025-05-26 18:23:50 ERROR AuthTokenFilter:101 - Cannot set user authentication: JDBC exception executing SQL [select u1_0.id,u1_0.created_by,u1_0.created_date,u1_0.deleted,u1_0.enabled,u1_0.password_encrypted,u1_0.updated_by,u1_0.updated_date,u1_0.username,u1_1.role_id from users u1_0 left join roles_users u1_1 on u1_0.id=u1_1.user_id where u1_0.username=?] [ERROR: relation "users" does not exist
  Position: 166] [n/a]; SQL [n/a]
org.springframework.dao.InvalidDataAccessResourceUsageException: JDBC exception executing SQL [select u1_0.id,u1_0.created_by,u1_0.created_date,u1_0.deleted,u1_0.enabled,u1_0.password_encrypted,u1_0.updated_by,u1_0.updated_date,u1_0.username,u1_1.role_id from users u1_0 left join roles_users u1_1 on u1_0.id=u1_1.user_id where u1_0.username=?] [ERROR: relation "users" does not exist
  Position: 166] [n/a]; SQL [n/a]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:281)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:256)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:241)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560)
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:136)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy4/jdk.proxy4.$Proxy150.findByUsername(Unknown Source)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.UserDetailsServiceImpl.loadUserByUsername(UserDetailsServiceImpl.java:20)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.UserDetailsServiceImpl$$SpringCGLIB$$0.loadUserByUsername(<generated>)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.filters.AuthTokenFilter.doFilterInternal(AuthTokenFilter.java:66)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1575)
Caused by: org.hibernate.exception.SQLGrammarException: JDBC exception executing SQL [select u1_0.id,u1_0.created_by,u1_0.created_date,u1_0.deleted,u1_0.enabled,u1_0.password_encrypted,u1_0.updated_by,u1_0.updated_date,u1_0.username,u1_1.role_id from users u1_0 left join roles_users u1_1 on u1_0.id=u1_1.user_id where u1_0.username=?] [ERROR: relation "users" does not exist
  Position: 166] [n/a]
	at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:91)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:58)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:94)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:268)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.getResultSet(DeferredResultSetAccess.java:171)
	at org.hibernate.sql.results.jdbc.internal.JdbcValuesResultSetImpl.<init>(JdbcValuesResultSetImpl.java:74)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.resolveJdbcValuesSource(JdbcSelectExecutorStandardImpl.java:355)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.doExecuteQuery(JdbcSelectExecutorStandardImpl.java:137)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.executeQuery(JdbcSelectExecutorStandardImpl.java:102)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.executeQuery(JdbcSelectExecutor.java:91)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:165)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.lambda$new$1(ConcreteSqmSelectQueryPlan.java:152)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.withCacheableSqmInterpretation(ConcreteSqmSelectQueryPlan.java:442)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.performList(ConcreteSqmSelectQueryPlan.java:362)
	at org.hibernate.query.sqm.internal.QuerySqmImpl.doList(QuerySqmImpl.java:380)
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:143)
	at org.hibernate.query.spi.AbstractSelectionQuery.getSingleResult(AbstractSelectionQuery.java:275)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$SingleEntityExecution.doExecute(JpaQueryExecution.java:224)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:93)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:152)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:140)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:170)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	... 77 more
Caused by: org.postgresql.util.PSQLException: ERROR: relation "users" does not exist
  Position: 166
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2733)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2420)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:372)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:517)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:434)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:194)
	at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:137)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeQuery(ProxyPreparedStatement.java:52)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeQuery(HikariProxyPreparedStatement.java)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:250)
	... 105 more
2025-05-26 18:23:50 ERROR ProductServiceImpl:93 - Error get all products status true
org.springframework.dao.InvalidDataAccessResourceUsageException: JDBC exception executing SQL [select p1_0.id,p1_0.content,p1_0.deleted,p1_0.description,p1_0.img_url,p1_0.name,p1_0.released_by,p1_0.released_date,p1_0.status,p1_0.updated_by,p1_0.updated_date from product p1_0 where p1_0.status and not(p1_0.deleted)] [ERROR: relation "product" does not exist
  Position: 169] [n/a]; SQL [n/a]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:281)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:256)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:241)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560)
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:136)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy4/jdk.proxy4.$Proxy170.findByStatusTrueAndDeletedFalse(Unknown Source)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.ProductServiceImpl.getProductsStatusTrueAndDeleteFalse(ProductServiceImpl.java:91)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:724)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.ProductServiceImpl$$SpringCGLIB$$0.getProductsStatusTrueAndDeleteFalse(<generated>)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.controller.ProductController.getProductsStatusTrue(ProductController.java:25)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:724)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.controller.ProductController$$SpringCGLIB$$0.getProductsStatusTrue(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.filters.AuthTokenFilter.doFilterInternal(AuthTokenFilter.java:103)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1575)
Caused by: org.hibernate.exception.SQLGrammarException: JDBC exception executing SQL [select p1_0.id,p1_0.content,p1_0.deleted,p1_0.description,p1_0.img_url,p1_0.name,p1_0.released_by,p1_0.released_date,p1_0.status,p1_0.updated_by,p1_0.updated_date from product p1_0 where p1_0.status and not(p1_0.deleted)] [ERROR: relation "product" does not exist
  Position: 169] [n/a]
	at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:91)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:58)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:94)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:268)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.getResultSet(DeferredResultSetAccess.java:171)
	at org.hibernate.sql.results.jdbc.internal.JdbcValuesResultSetImpl.<init>(JdbcValuesResultSetImpl.java:74)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.resolveJdbcValuesSource(JdbcSelectExecutorStandardImpl.java:355)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.doExecuteQuery(JdbcSelectExecutorStandardImpl.java:137)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.executeQuery(JdbcSelectExecutorStandardImpl.java:102)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.executeQuery(JdbcSelectExecutor.java:91)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:165)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.lambda$new$1(ConcreteSqmSelectQueryPlan.java:152)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.withCacheableSqmInterpretation(ConcreteSqmSelectQueryPlan.java:442)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.performList(ConcreteSqmSelectQueryPlan.java:362)
	at org.hibernate.query.sqm.internal.QuerySqmImpl.doList(QuerySqmImpl.java:380)
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:143)
	at org.hibernate.query.Query.getResultList(Query.java:120)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$CollectionExecution.doExecute(JpaQueryExecution.java:130)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:93)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:152)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:140)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:170)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	... 118 more
Caused by: org.postgresql.util.PSQLException: ERROR: relation "product" does not exist
  Position: 169
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2733)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2420)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:372)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:517)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:434)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:194)
	at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:137)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeQuery(ProxyPreparedStatement.java:52)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeQuery(HikariProxyPreparedStatement.java)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:250)
	... 146 more
2025-05-26 18:23:50 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHP
2025-05-26 18:23:50 ERROR AuthTokenFilter:101 - Cannot set user authentication: JDBC exception executing SQL [select u1_0.id,u1_0.created_by,u1_0.created_date,u1_0.deleted,u1_0.enabled,u1_0.password_encrypted,u1_0.updated_by,u1_0.updated_date,u1_0.username,u1_1.role_id from users u1_0 left join roles_users u1_1 on u1_0.id=u1_1.user_id where u1_0.username=?] [ERROR: relation "users" does not exist
  Position: 166] [n/a]; SQL [n/a]
org.springframework.dao.InvalidDataAccessResourceUsageException: JDBC exception executing SQL [select u1_0.id,u1_0.created_by,u1_0.created_date,u1_0.deleted,u1_0.enabled,u1_0.password_encrypted,u1_0.updated_by,u1_0.updated_date,u1_0.username,u1_1.role_id from users u1_0 left join roles_users u1_1 on u1_0.id=u1_1.user_id where u1_0.username=?] [ERROR: relation "users" does not exist
  Position: 166] [n/a]; SQL [n/a]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:281)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:256)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:241)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560)
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:136)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy4/jdk.proxy4.$Proxy150.findByUsername(Unknown Source)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.UserDetailsServiceImpl.loadUserByUsername(UserDetailsServiceImpl.java:20)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.UserDetailsServiceImpl$$SpringCGLIB$$0.loadUserByUsername(<generated>)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.filters.AuthTokenFilter.doFilterInternal(AuthTokenFilter.java:66)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1575)
Caused by: org.hibernate.exception.SQLGrammarException: JDBC exception executing SQL [select u1_0.id,u1_0.created_by,u1_0.created_date,u1_0.deleted,u1_0.enabled,u1_0.password_encrypted,u1_0.updated_by,u1_0.updated_date,u1_0.username,u1_1.role_id from users u1_0 left join roles_users u1_1 on u1_0.id=u1_1.user_id where u1_0.username=?] [ERROR: relation "users" does not exist
  Position: 166] [n/a]
	at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:91)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:58)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:94)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:268)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.getResultSet(DeferredResultSetAccess.java:171)
	at org.hibernate.sql.results.jdbc.internal.JdbcValuesResultSetImpl.<init>(JdbcValuesResultSetImpl.java:74)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.resolveJdbcValuesSource(JdbcSelectExecutorStandardImpl.java:355)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.doExecuteQuery(JdbcSelectExecutorStandardImpl.java:137)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.executeQuery(JdbcSelectExecutorStandardImpl.java:102)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.executeQuery(JdbcSelectExecutor.java:91)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:165)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.lambda$new$1(ConcreteSqmSelectQueryPlan.java:152)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.withCacheableSqmInterpretation(ConcreteSqmSelectQueryPlan.java:442)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.performList(ConcreteSqmSelectQueryPlan.java:362)
	at org.hibernate.query.sqm.internal.QuerySqmImpl.doList(QuerySqmImpl.java:380)
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:143)
	at org.hibernate.query.spi.AbstractSelectionQuery.getSingleResult(AbstractSelectionQuery.java:275)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$SingleEntityExecution.doExecute(JpaQueryExecution.java:224)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:93)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:152)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:140)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:170)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	... 77 more
Caused by: org.postgresql.util.PSQLException: ERROR: relation "users" does not exist
  Position: 166
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2733)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2420)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:372)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:517)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:434)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:194)
	at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:137)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeQuery(ProxyPreparedStatement.java:52)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeQuery(HikariProxyPreparedStatement.java)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:250)
	... 105 more
2025-05-26 18:23:50 ERROR ProductServiceImpl:93 - Error get all products status true
org.springframework.dao.InvalidDataAccessResourceUsageException: JDBC exception executing SQL [select p1_0.id,p1_0.content,p1_0.deleted,p1_0.description,p1_0.img_url,p1_0.name,p1_0.released_by,p1_0.released_date,p1_0.status,p1_0.updated_by,p1_0.updated_date from product p1_0 where p1_0.status and not(p1_0.deleted)] [ERROR: relation "product" does not exist
  Position: 169] [n/a]; SQL [n/a]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:281)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:256)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:241)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560)
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:136)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy4/jdk.proxy4.$Proxy170.findByStatusTrueAndDeletedFalse(Unknown Source)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.ProductServiceImpl.getProductsStatusTrueAndDeleteFalse(ProductServiceImpl.java:91)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:724)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.ProductServiceImpl$$SpringCGLIB$$0.getProductsStatusTrueAndDeleteFalse(<generated>)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.controller.ProductController.getProductsStatusTrue(ProductController.java:25)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:724)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.controller.ProductController$$SpringCGLIB$$0.getProductsStatusTrue(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.filters.AuthTokenFilter.doFilterInternal(AuthTokenFilter.java:103)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1575)
Caused by: org.hibernate.exception.SQLGrammarException: JDBC exception executing SQL [select p1_0.id,p1_0.content,p1_0.deleted,p1_0.description,p1_0.img_url,p1_0.name,p1_0.released_by,p1_0.released_date,p1_0.status,p1_0.updated_by,p1_0.updated_date from product p1_0 where p1_0.status and not(p1_0.deleted)] [ERROR: relation "product" does not exist
  Position: 169] [n/a]
	at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:91)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:58)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:94)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:268)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.getResultSet(DeferredResultSetAccess.java:171)
	at org.hibernate.sql.results.jdbc.internal.JdbcValuesResultSetImpl.<init>(JdbcValuesResultSetImpl.java:74)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.resolveJdbcValuesSource(JdbcSelectExecutorStandardImpl.java:355)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.doExecuteQuery(JdbcSelectExecutorStandardImpl.java:137)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.executeQuery(JdbcSelectExecutorStandardImpl.java:102)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.executeQuery(JdbcSelectExecutor.java:91)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:165)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.lambda$new$1(ConcreteSqmSelectQueryPlan.java:152)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.withCacheableSqmInterpretation(ConcreteSqmSelectQueryPlan.java:442)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.performList(ConcreteSqmSelectQueryPlan.java:362)
	at org.hibernate.query.sqm.internal.QuerySqmImpl.doList(QuerySqmImpl.java:380)
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:143)
	at org.hibernate.query.Query.getResultList(Query.java:120)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$CollectionExecution.doExecute(JpaQueryExecution.java:130)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:93)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:152)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:140)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:170)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	... 118 more
Caused by: org.postgresql.util.PSQLException: ERROR: relation "product" does not exist
  Position: 169
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2733)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2420)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:372)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:517)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:434)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:194)
	at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:137)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeQuery(ProxyPreparedStatement.java:52)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeQuery(HikariProxyPreparedStatement.java)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:250)
	... 146 more
2025-05-26 18:23:50 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHP
2025-05-26 18:23:50 ERROR AuthTokenFilter:101 - Cannot set user authentication: JDBC exception executing SQL [select u1_0.id,u1_0.created_by,u1_0.created_date,u1_0.deleted,u1_0.enabled,u1_0.password_encrypted,u1_0.updated_by,u1_0.updated_date,u1_0.username,u1_1.role_id from users u1_0 left join roles_users u1_1 on u1_0.id=u1_1.user_id where u1_0.username=?] [ERROR: relation "users" does not exist
  Position: 166] [n/a]; SQL [n/a]
org.springframework.dao.InvalidDataAccessResourceUsageException: JDBC exception executing SQL [select u1_0.id,u1_0.created_by,u1_0.created_date,u1_0.deleted,u1_0.enabled,u1_0.password_encrypted,u1_0.updated_by,u1_0.updated_date,u1_0.username,u1_1.role_id from users u1_0 left join roles_users u1_1 on u1_0.id=u1_1.user_id where u1_0.username=?] [ERROR: relation "users" does not exist
  Position: 166] [n/a]; SQL [n/a]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:281)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:256)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:241)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560)
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:136)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy4/jdk.proxy4.$Proxy150.findByUsername(Unknown Source)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.UserDetailsServiceImpl.loadUserByUsername(UserDetailsServiceImpl.java:20)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.UserDetailsServiceImpl$$SpringCGLIB$$0.loadUserByUsername(<generated>)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.filters.AuthTokenFilter.doFilterInternal(AuthTokenFilter.java:66)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1575)
Caused by: org.hibernate.exception.SQLGrammarException: JDBC exception executing SQL [select u1_0.id,u1_0.created_by,u1_0.created_date,u1_0.deleted,u1_0.enabled,u1_0.password_encrypted,u1_0.updated_by,u1_0.updated_date,u1_0.username,u1_1.role_id from users u1_0 left join roles_users u1_1 on u1_0.id=u1_1.user_id where u1_0.username=?] [ERROR: relation "users" does not exist
  Position: 166] [n/a]
	at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:91)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:58)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:94)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:268)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.getResultSet(DeferredResultSetAccess.java:171)
	at org.hibernate.sql.results.jdbc.internal.JdbcValuesResultSetImpl.<init>(JdbcValuesResultSetImpl.java:74)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.resolveJdbcValuesSource(JdbcSelectExecutorStandardImpl.java:355)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.doExecuteQuery(JdbcSelectExecutorStandardImpl.java:137)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.executeQuery(JdbcSelectExecutorStandardImpl.java:102)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.executeQuery(JdbcSelectExecutor.java:91)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:165)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.lambda$new$1(ConcreteSqmSelectQueryPlan.java:152)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.withCacheableSqmInterpretation(ConcreteSqmSelectQueryPlan.java:442)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.performList(ConcreteSqmSelectQueryPlan.java:362)
	at org.hibernate.query.sqm.internal.QuerySqmImpl.doList(QuerySqmImpl.java:380)
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:143)
	at org.hibernate.query.spi.AbstractSelectionQuery.getSingleResult(AbstractSelectionQuery.java:275)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$SingleEntityExecution.doExecute(JpaQueryExecution.java:224)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:93)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:152)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:140)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:170)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	... 77 more
Caused by: org.postgresql.util.PSQLException: ERROR: relation "users" does not exist
  Position: 166
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2733)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2420)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:372)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:517)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:434)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:194)
	at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:137)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeQuery(ProxyPreparedStatement.java:52)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeQuery(HikariProxyPreparedStatement.java)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:250)
	... 105 more
2025-05-26 18:23:50 ERROR ProductServiceImpl:93 - Error get all products status true
org.springframework.dao.InvalidDataAccessResourceUsageException: JDBC exception executing SQL [select p1_0.id,p1_0.content,p1_0.deleted,p1_0.description,p1_0.img_url,p1_0.name,p1_0.released_by,p1_0.released_date,p1_0.status,p1_0.updated_by,p1_0.updated_date from product p1_0 where p1_0.status and not(p1_0.deleted)] [ERROR: relation "product" does not exist
  Position: 169] [n/a]; SQL [n/a]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:281)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:256)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:241)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560)
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:136)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy4/jdk.proxy4.$Proxy170.findByStatusTrueAndDeletedFalse(Unknown Source)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.ProductServiceImpl.getProductsStatusTrueAndDeleteFalse(ProductServiceImpl.java:91)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:724)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.ProductServiceImpl$$SpringCGLIB$$0.getProductsStatusTrueAndDeleteFalse(<generated>)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.controller.ProductController.getProductsStatusTrue(ProductController.java:25)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:724)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.controller.ProductController$$SpringCGLIB$$0.getProductsStatusTrue(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.filters.AuthTokenFilter.doFilterInternal(AuthTokenFilter.java:103)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1575)
Caused by: org.hibernate.exception.SQLGrammarException: JDBC exception executing SQL [select p1_0.id,p1_0.content,p1_0.deleted,p1_0.description,p1_0.img_url,p1_0.name,p1_0.released_by,p1_0.released_date,p1_0.status,p1_0.updated_by,p1_0.updated_date from product p1_0 where p1_0.status and not(p1_0.deleted)] [ERROR: relation "product" does not exist
  Position: 169] [n/a]
	at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:91)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:58)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:94)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:268)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.getResultSet(DeferredResultSetAccess.java:171)
	at org.hibernate.sql.results.jdbc.internal.JdbcValuesResultSetImpl.<init>(JdbcValuesResultSetImpl.java:74)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.resolveJdbcValuesSource(JdbcSelectExecutorStandardImpl.java:355)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.doExecuteQuery(JdbcSelectExecutorStandardImpl.java:137)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.executeQuery(JdbcSelectExecutorStandardImpl.java:102)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.executeQuery(JdbcSelectExecutor.java:91)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:165)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.lambda$new$1(ConcreteSqmSelectQueryPlan.java:152)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.withCacheableSqmInterpretation(ConcreteSqmSelectQueryPlan.java:442)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.performList(ConcreteSqmSelectQueryPlan.java:362)
	at org.hibernate.query.sqm.internal.QuerySqmImpl.doList(QuerySqmImpl.java:380)
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:143)
	at org.hibernate.query.Query.getResultList(Query.java:120)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$CollectionExecution.doExecute(JpaQueryExecution.java:130)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:93)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:152)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:140)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:170)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	... 118 more
Caused by: org.postgresql.util.PSQLException: ERROR: relation "product" does not exist
  Position: 169
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2733)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2420)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:372)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:517)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:434)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:194)
	at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:137)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeQuery(ProxyPreparedStatement.java:52)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeQuery(HikariProxyPreparedStatement.java)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:250)
	... 146 more
2025-05-26 18:23:50 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHP
2025-05-26 18:23:50 ERROR AuthTokenFilter:101 - Cannot set user authentication: JDBC exception executing SQL [select u1_0.id,u1_0.created_by,u1_0.created_date,u1_0.deleted,u1_0.enabled,u1_0.password_encrypted,u1_0.updated_by,u1_0.updated_date,u1_0.username,u1_1.role_id from users u1_0 left join roles_users u1_1 on u1_0.id=u1_1.user_id where u1_0.username=?] [ERROR: relation "users" does not exist
  Position: 166] [n/a]; SQL [n/a]
org.springframework.dao.InvalidDataAccessResourceUsageException: JDBC exception executing SQL [select u1_0.id,u1_0.created_by,u1_0.created_date,u1_0.deleted,u1_0.enabled,u1_0.password_encrypted,u1_0.updated_by,u1_0.updated_date,u1_0.username,u1_1.role_id from users u1_0 left join roles_users u1_1 on u1_0.id=u1_1.user_id where u1_0.username=?] [ERROR: relation "users" does not exist
  Position: 166] [n/a]; SQL [n/a]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:281)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:256)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:241)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560)
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:136)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy4/jdk.proxy4.$Proxy150.findByUsername(Unknown Source)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.UserDetailsServiceImpl.loadUserByUsername(UserDetailsServiceImpl.java:20)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.UserDetailsServiceImpl$$SpringCGLIB$$0.loadUserByUsername(<generated>)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.filters.AuthTokenFilter.doFilterInternal(AuthTokenFilter.java:66)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1575)
Caused by: org.hibernate.exception.SQLGrammarException: JDBC exception executing SQL [select u1_0.id,u1_0.created_by,u1_0.created_date,u1_0.deleted,u1_0.enabled,u1_0.password_encrypted,u1_0.updated_by,u1_0.updated_date,u1_0.username,u1_1.role_id from users u1_0 left join roles_users u1_1 on u1_0.id=u1_1.user_id where u1_0.username=?] [ERROR: relation "users" does not exist
  Position: 166] [n/a]
	at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:91)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:58)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:94)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:268)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.getResultSet(DeferredResultSetAccess.java:171)
	at org.hibernate.sql.results.jdbc.internal.JdbcValuesResultSetImpl.<init>(JdbcValuesResultSetImpl.java:74)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.resolveJdbcValuesSource(JdbcSelectExecutorStandardImpl.java:355)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.doExecuteQuery(JdbcSelectExecutorStandardImpl.java:137)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.executeQuery(JdbcSelectExecutorStandardImpl.java:102)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.executeQuery(JdbcSelectExecutor.java:91)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:165)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.lambda$new$1(ConcreteSqmSelectQueryPlan.java:152)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.withCacheableSqmInterpretation(ConcreteSqmSelectQueryPlan.java:442)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.performList(ConcreteSqmSelectQueryPlan.java:362)
	at org.hibernate.query.sqm.internal.QuerySqmImpl.doList(QuerySqmImpl.java:380)
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:143)
	at org.hibernate.query.spi.AbstractSelectionQuery.getSingleResult(AbstractSelectionQuery.java:275)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$SingleEntityExecution.doExecute(JpaQueryExecution.java:224)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:93)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:152)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:140)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:170)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	... 77 more
Caused by: org.postgresql.util.PSQLException: ERROR: relation "users" does not exist
  Position: 166
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2733)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2420)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:372)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:517)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:434)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:194)
	at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:137)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeQuery(ProxyPreparedStatement.java:52)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeQuery(HikariProxyPreparedStatement.java)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:250)
	... 105 more
2025-05-26 18:23:50 ERROR ProductServiceImpl:93 - Error get all products status true
org.springframework.dao.InvalidDataAccessResourceUsageException: JDBC exception executing SQL [select p1_0.id,p1_0.content,p1_0.deleted,p1_0.description,p1_0.img_url,p1_0.name,p1_0.released_by,p1_0.released_date,p1_0.status,p1_0.updated_by,p1_0.updated_date from product p1_0 where p1_0.status and not(p1_0.deleted)] [ERROR: relation "product" does not exist
  Position: 169] [n/a]; SQL [n/a]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:281)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:256)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:241)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560)
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:136)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy4/jdk.proxy4.$Proxy170.findByStatusTrueAndDeletedFalse(Unknown Source)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.ProductServiceImpl.getProductsStatusTrueAndDeleteFalse(ProductServiceImpl.java:91)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:724)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.ProductServiceImpl$$SpringCGLIB$$0.getProductsStatusTrueAndDeleteFalse(<generated>)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.controller.ProductController.getProductsStatusTrue(ProductController.java:25)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:724)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.controller.ProductController$$SpringCGLIB$$0.getProductsStatusTrue(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.filters.AuthTokenFilter.doFilterInternal(AuthTokenFilter.java:103)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1575)
Caused by: org.hibernate.exception.SQLGrammarException: JDBC exception executing SQL [select p1_0.id,p1_0.content,p1_0.deleted,p1_0.description,p1_0.img_url,p1_0.name,p1_0.released_by,p1_0.released_date,p1_0.status,p1_0.updated_by,p1_0.updated_date from product p1_0 where p1_0.status and not(p1_0.deleted)] [ERROR: relation "product" does not exist
  Position: 169] [n/a]
	at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:91)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:58)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:94)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:268)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.getResultSet(DeferredResultSetAccess.java:171)
	at org.hibernate.sql.results.jdbc.internal.JdbcValuesResultSetImpl.<init>(JdbcValuesResultSetImpl.java:74)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.resolveJdbcValuesSource(JdbcSelectExecutorStandardImpl.java:355)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.doExecuteQuery(JdbcSelectExecutorStandardImpl.java:137)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.executeQuery(JdbcSelectExecutorStandardImpl.java:102)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.executeQuery(JdbcSelectExecutor.java:91)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:165)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.lambda$new$1(ConcreteSqmSelectQueryPlan.java:152)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.withCacheableSqmInterpretation(ConcreteSqmSelectQueryPlan.java:442)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.performList(ConcreteSqmSelectQueryPlan.java:362)
	at org.hibernate.query.sqm.internal.QuerySqmImpl.doList(QuerySqmImpl.java:380)
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:143)
	at org.hibernate.query.Query.getResultList(Query.java:120)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$CollectionExecution.doExecute(JpaQueryExecution.java:130)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:93)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:152)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:140)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:170)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	... 118 more
Caused by: org.postgresql.util.PSQLException: ERROR: relation "product" does not exist
  Position: 169
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2733)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2420)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:372)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:517)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:434)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:194)
	at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:137)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeQuery(ProxyPreparedStatement.java:52)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeQuery(HikariProxyPreparedStatement.java)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:250)
	... 146 more
2025-05-26 18:23:50 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHP
2025-05-26 18:23:50 ERROR AuthTokenFilter:101 - Cannot set user authentication: JDBC exception executing SQL [select u1_0.id,u1_0.created_by,u1_0.created_date,u1_0.deleted,u1_0.enabled,u1_0.password_encrypted,u1_0.updated_by,u1_0.updated_date,u1_0.username,u1_1.role_id from users u1_0 left join roles_users u1_1 on u1_0.id=u1_1.user_id where u1_0.username=?] [ERROR: relation "users" does not exist
  Position: 166] [n/a]; SQL [n/a]
org.springframework.dao.InvalidDataAccessResourceUsageException: JDBC exception executing SQL [select u1_0.id,u1_0.created_by,u1_0.created_date,u1_0.deleted,u1_0.enabled,u1_0.password_encrypted,u1_0.updated_by,u1_0.updated_date,u1_0.username,u1_1.role_id from users u1_0 left join roles_users u1_1 on u1_0.id=u1_1.user_id where u1_0.username=?] [ERROR: relation "users" does not exist
  Position: 166] [n/a]; SQL [n/a]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:281)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:256)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:241)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560)
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:136)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy4/jdk.proxy4.$Proxy150.findByUsername(Unknown Source)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.UserDetailsServiceImpl.loadUserByUsername(UserDetailsServiceImpl.java:20)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.UserDetailsServiceImpl$$SpringCGLIB$$0.loadUserByUsername(<generated>)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.filters.AuthTokenFilter.doFilterInternal(AuthTokenFilter.java:66)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1575)
Caused by: org.hibernate.exception.SQLGrammarException: JDBC exception executing SQL [select u1_0.id,u1_0.created_by,u1_0.created_date,u1_0.deleted,u1_0.enabled,u1_0.password_encrypted,u1_0.updated_by,u1_0.updated_date,u1_0.username,u1_1.role_id from users u1_0 left join roles_users u1_1 on u1_0.id=u1_1.user_id where u1_0.username=?] [ERROR: relation "users" does not exist
  Position: 166] [n/a]
	at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:91)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:58)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:94)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:268)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.getResultSet(DeferredResultSetAccess.java:171)
	at org.hibernate.sql.results.jdbc.internal.JdbcValuesResultSetImpl.<init>(JdbcValuesResultSetImpl.java:74)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.resolveJdbcValuesSource(JdbcSelectExecutorStandardImpl.java:355)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.doExecuteQuery(JdbcSelectExecutorStandardImpl.java:137)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.executeQuery(JdbcSelectExecutorStandardImpl.java:102)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.executeQuery(JdbcSelectExecutor.java:91)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:165)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.lambda$new$1(ConcreteSqmSelectQueryPlan.java:152)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.withCacheableSqmInterpretation(ConcreteSqmSelectQueryPlan.java:442)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.performList(ConcreteSqmSelectQueryPlan.java:362)
	at org.hibernate.query.sqm.internal.QuerySqmImpl.doList(QuerySqmImpl.java:380)
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:143)
	at org.hibernate.query.spi.AbstractSelectionQuery.getSingleResult(AbstractSelectionQuery.java:275)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$SingleEntityExecution.doExecute(JpaQueryExecution.java:224)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:93)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:152)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:140)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:170)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	... 77 more
Caused by: org.postgresql.util.PSQLException: ERROR: relation "users" does not exist
  Position: 166
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2733)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2420)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:372)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:517)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:434)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:194)
	at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:137)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeQuery(ProxyPreparedStatement.java:52)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeQuery(HikariProxyPreparedStatement.java)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:250)
	... 105 more
2025-05-26 18:23:50 ERROR ProductServiceImpl:93 - Error get all products status true
org.springframework.dao.InvalidDataAccessResourceUsageException: JDBC exception executing SQL [select p1_0.id,p1_0.content,p1_0.deleted,p1_0.description,p1_0.img_url,p1_0.name,p1_0.released_by,p1_0.released_date,p1_0.status,p1_0.updated_by,p1_0.updated_date from product p1_0 where p1_0.status and not(p1_0.deleted)] [ERROR: relation "product" does not exist
  Position: 169] [n/a]; SQL [n/a]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:281)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:256)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:241)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560)
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:136)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy4/jdk.proxy4.$Proxy170.findByStatusTrueAndDeletedFalse(Unknown Source)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.ProductServiceImpl.getProductsStatusTrueAndDeleteFalse(ProductServiceImpl.java:91)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:724)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.ProductServiceImpl$$SpringCGLIB$$0.getProductsStatusTrueAndDeleteFalse(<generated>)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.controller.ProductController.getProductsStatusTrue(ProductController.java:25)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:724)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.controller.ProductController$$SpringCGLIB$$0.getProductsStatusTrue(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.filters.AuthTokenFilter.doFilterInternal(AuthTokenFilter.java:103)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1575)
Caused by: org.hibernate.exception.SQLGrammarException: JDBC exception executing SQL [select p1_0.id,p1_0.content,p1_0.deleted,p1_0.description,p1_0.img_url,p1_0.name,p1_0.released_by,p1_0.released_date,p1_0.status,p1_0.updated_by,p1_0.updated_date from product p1_0 where p1_0.status and not(p1_0.deleted)] [ERROR: relation "product" does not exist
  Position: 169] [n/a]
	at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:91)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:58)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:94)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:268)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.getResultSet(DeferredResultSetAccess.java:171)
	at org.hibernate.sql.results.jdbc.internal.JdbcValuesResultSetImpl.<init>(JdbcValuesResultSetImpl.java:74)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.resolveJdbcValuesSource(JdbcSelectExecutorStandardImpl.java:355)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.doExecuteQuery(JdbcSelectExecutorStandardImpl.java:137)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.executeQuery(JdbcSelectExecutorStandardImpl.java:102)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.executeQuery(JdbcSelectExecutor.java:91)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:165)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.lambda$new$1(ConcreteSqmSelectQueryPlan.java:152)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.withCacheableSqmInterpretation(ConcreteSqmSelectQueryPlan.java:442)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.performList(ConcreteSqmSelectQueryPlan.java:362)
	at org.hibernate.query.sqm.internal.QuerySqmImpl.doList(QuerySqmImpl.java:380)
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:143)
	at org.hibernate.query.Query.getResultList(Query.java:120)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$CollectionExecution.doExecute(JpaQueryExecution.java:130)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:93)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:152)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:140)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:170)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	... 118 more
Caused by: org.postgresql.util.PSQLException: ERROR: relation "product" does not exist
  Position: 169
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2733)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2420)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:372)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:517)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:434)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:194)
	at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:137)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeQuery(ProxyPreparedStatement.java:52)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeQuery(HikariProxyPreparedStatement.java)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:250)
	... 146 more
2025-05-26 18:23:50 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHP
2025-05-26 18:23:50 ERROR AuthTokenFilter:101 - Cannot set user authentication: JDBC exception executing SQL [select u1_0.id,u1_0.created_by,u1_0.created_date,u1_0.deleted,u1_0.enabled,u1_0.password_encrypted,u1_0.updated_by,u1_0.updated_date,u1_0.username,u1_1.role_id from users u1_0 left join roles_users u1_1 on u1_0.id=u1_1.user_id where u1_0.username=?] [ERROR: relation "users" does not exist
  Position: 166] [n/a]; SQL [n/a]
org.springframework.dao.InvalidDataAccessResourceUsageException: JDBC exception executing SQL [select u1_0.id,u1_0.created_by,u1_0.created_date,u1_0.deleted,u1_0.enabled,u1_0.password_encrypted,u1_0.updated_by,u1_0.updated_date,u1_0.username,u1_1.role_id from users u1_0 left join roles_users u1_1 on u1_0.id=u1_1.user_id where u1_0.username=?] [ERROR: relation "users" does not exist
  Position: 166] [n/a]; SQL [n/a]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:281)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:256)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:241)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560)
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:136)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy4/jdk.proxy4.$Proxy150.findByUsername(Unknown Source)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.UserDetailsServiceImpl.loadUserByUsername(UserDetailsServiceImpl.java:20)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.UserDetailsServiceImpl$$SpringCGLIB$$0.loadUserByUsername(<generated>)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.filters.AuthTokenFilter.doFilterInternal(AuthTokenFilter.java:66)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1575)
Caused by: org.hibernate.exception.SQLGrammarException: JDBC exception executing SQL [select u1_0.id,u1_0.created_by,u1_0.created_date,u1_0.deleted,u1_0.enabled,u1_0.password_encrypted,u1_0.updated_by,u1_0.updated_date,u1_0.username,u1_1.role_id from users u1_0 left join roles_users u1_1 on u1_0.id=u1_1.user_id where u1_0.username=?] [ERROR: relation "users" does not exist
  Position: 166] [n/a]
	at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:91)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:58)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:94)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:268)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.getResultSet(DeferredResultSetAccess.java:171)
	at org.hibernate.sql.results.jdbc.internal.JdbcValuesResultSetImpl.<init>(JdbcValuesResultSetImpl.java:74)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.resolveJdbcValuesSource(JdbcSelectExecutorStandardImpl.java:355)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.doExecuteQuery(JdbcSelectExecutorStandardImpl.java:137)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.executeQuery(JdbcSelectExecutorStandardImpl.java:102)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.executeQuery(JdbcSelectExecutor.java:91)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:165)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.lambda$new$1(ConcreteSqmSelectQueryPlan.java:152)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.withCacheableSqmInterpretation(ConcreteSqmSelectQueryPlan.java:442)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.performList(ConcreteSqmSelectQueryPlan.java:362)
	at org.hibernate.query.sqm.internal.QuerySqmImpl.doList(QuerySqmImpl.java:380)
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:143)
	at org.hibernate.query.spi.AbstractSelectionQuery.getSingleResult(AbstractSelectionQuery.java:275)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$SingleEntityExecution.doExecute(JpaQueryExecution.java:224)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:93)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:152)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:140)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:170)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	... 77 more
Caused by: org.postgresql.util.PSQLException: ERROR: relation "users" does not exist
  Position: 166
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2733)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2420)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:372)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:517)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:434)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:194)
	at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:137)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeQuery(ProxyPreparedStatement.java:52)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeQuery(HikariProxyPreparedStatement.java)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:250)
	... 105 more
2025-05-26 18:23:50 ERROR ProductServiceImpl:93 - Error get all products status true
org.springframework.dao.InvalidDataAccessResourceUsageException: JDBC exception executing SQL [select p1_0.id,p1_0.content,p1_0.deleted,p1_0.description,p1_0.img_url,p1_0.name,p1_0.released_by,p1_0.released_date,p1_0.status,p1_0.updated_by,p1_0.updated_date from product p1_0 where p1_0.status and not(p1_0.deleted)] [ERROR: relation "product" does not exist
  Position: 169] [n/a]; SQL [n/a]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:281)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:256)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:241)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560)
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:136)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy4/jdk.proxy4.$Proxy170.findByStatusTrueAndDeletedFalse(Unknown Source)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.ProductServiceImpl.getProductsStatusTrueAndDeleteFalse(ProductServiceImpl.java:91)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:724)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.ProductServiceImpl$$SpringCGLIB$$0.getProductsStatusTrueAndDeleteFalse(<generated>)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.controller.ProductController.getProductsStatusTrue(ProductController.java:25)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:724)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.controller.ProductController$$SpringCGLIB$$0.getProductsStatusTrue(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.filters.AuthTokenFilter.doFilterInternal(AuthTokenFilter.java:103)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1575)
Caused by: org.hibernate.exception.SQLGrammarException: JDBC exception executing SQL [select p1_0.id,p1_0.content,p1_0.deleted,p1_0.description,p1_0.img_url,p1_0.name,p1_0.released_by,p1_0.released_date,p1_0.status,p1_0.updated_by,p1_0.updated_date from product p1_0 where p1_0.status and not(p1_0.deleted)] [ERROR: relation "product" does not exist
  Position: 169] [n/a]
	at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:91)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:58)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:94)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:268)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.getResultSet(DeferredResultSetAccess.java:171)
	at org.hibernate.sql.results.jdbc.internal.JdbcValuesResultSetImpl.<init>(JdbcValuesResultSetImpl.java:74)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.resolveJdbcValuesSource(JdbcSelectExecutorStandardImpl.java:355)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.doExecuteQuery(JdbcSelectExecutorStandardImpl.java:137)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.executeQuery(JdbcSelectExecutorStandardImpl.java:102)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.executeQuery(JdbcSelectExecutor.java:91)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:165)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.lambda$new$1(ConcreteSqmSelectQueryPlan.java:152)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.withCacheableSqmInterpretation(ConcreteSqmSelectQueryPlan.java:442)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.performList(ConcreteSqmSelectQueryPlan.java:362)
	at org.hibernate.query.sqm.internal.QuerySqmImpl.doList(QuerySqmImpl.java:380)
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:143)
	at org.hibernate.query.Query.getResultList(Query.java:120)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$CollectionExecution.doExecute(JpaQueryExecution.java:130)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:93)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:152)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:140)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:170)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	... 118 more
Caused by: org.postgresql.util.PSQLException: ERROR: relation "product" does not exist
  Position: 169
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2733)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2420)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:372)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:517)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:434)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:194)
	at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:137)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeQuery(ProxyPreparedStatement.java:52)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeQuery(HikariProxyPreparedStatement.java)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:250)
	... 146 more
2025-05-26 18:23:51 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHP
2025-05-26 18:23:51 ERROR AuthTokenFilter:101 - Cannot set user authentication: JDBC exception executing SQL [select u1_0.id,u1_0.created_by,u1_0.created_date,u1_0.deleted,u1_0.enabled,u1_0.password_encrypted,u1_0.updated_by,u1_0.updated_date,u1_0.username,u1_1.role_id from users u1_0 left join roles_users u1_1 on u1_0.id=u1_1.user_id where u1_0.username=?] [ERROR: relation "users" does not exist
  Position: 166] [n/a]; SQL [n/a]
org.springframework.dao.InvalidDataAccessResourceUsageException: JDBC exception executing SQL [select u1_0.id,u1_0.created_by,u1_0.created_date,u1_0.deleted,u1_0.enabled,u1_0.password_encrypted,u1_0.updated_by,u1_0.updated_date,u1_0.username,u1_1.role_id from users u1_0 left join roles_users u1_1 on u1_0.id=u1_1.user_id where u1_0.username=?] [ERROR: relation "users" does not exist
  Position: 166] [n/a]; SQL [n/a]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:281)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:256)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:241)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560)
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:136)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy4/jdk.proxy4.$Proxy150.findByUsername(Unknown Source)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.UserDetailsServiceImpl.loadUserByUsername(UserDetailsServiceImpl.java:20)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.UserDetailsServiceImpl$$SpringCGLIB$$0.loadUserByUsername(<generated>)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.filters.AuthTokenFilter.doFilterInternal(AuthTokenFilter.java:66)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1575)
Caused by: org.hibernate.exception.SQLGrammarException: JDBC exception executing SQL [select u1_0.id,u1_0.created_by,u1_0.created_date,u1_0.deleted,u1_0.enabled,u1_0.password_encrypted,u1_0.updated_by,u1_0.updated_date,u1_0.username,u1_1.role_id from users u1_0 left join roles_users u1_1 on u1_0.id=u1_1.user_id where u1_0.username=?] [ERROR: relation "users" does not exist
  Position: 166] [n/a]
	at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:91)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:58)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:94)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:268)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.getResultSet(DeferredResultSetAccess.java:171)
	at org.hibernate.sql.results.jdbc.internal.JdbcValuesResultSetImpl.<init>(JdbcValuesResultSetImpl.java:74)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.resolveJdbcValuesSource(JdbcSelectExecutorStandardImpl.java:355)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.doExecuteQuery(JdbcSelectExecutorStandardImpl.java:137)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.executeQuery(JdbcSelectExecutorStandardImpl.java:102)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.executeQuery(JdbcSelectExecutor.java:91)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:165)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.lambda$new$1(ConcreteSqmSelectQueryPlan.java:152)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.withCacheableSqmInterpretation(ConcreteSqmSelectQueryPlan.java:442)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.performList(ConcreteSqmSelectQueryPlan.java:362)
	at org.hibernate.query.sqm.internal.QuerySqmImpl.doList(QuerySqmImpl.java:380)
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:143)
	at org.hibernate.query.spi.AbstractSelectionQuery.getSingleResult(AbstractSelectionQuery.java:275)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$SingleEntityExecution.doExecute(JpaQueryExecution.java:224)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:93)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:152)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:140)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:170)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	... 77 more
Caused by: org.postgresql.util.PSQLException: ERROR: relation "users" does not exist
  Position: 166
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2733)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2420)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:372)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:517)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:434)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:194)
	at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:137)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeQuery(ProxyPreparedStatement.java:52)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeQuery(HikariProxyPreparedStatement.java)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:250)
	... 105 more
2025-05-26 18:23:51 ERROR ProductServiceImpl:93 - Error get all products status true
org.springframework.dao.InvalidDataAccessResourceUsageException: JDBC exception executing SQL [select p1_0.id,p1_0.content,p1_0.deleted,p1_0.description,p1_0.img_url,p1_0.name,p1_0.released_by,p1_0.released_date,p1_0.status,p1_0.updated_by,p1_0.updated_date from product p1_0 where p1_0.status and not(p1_0.deleted)] [ERROR: relation "product" does not exist
  Position: 169] [n/a]; SQL [n/a]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:281)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:256)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:241)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560)
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:136)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy4/jdk.proxy4.$Proxy170.findByStatusTrueAndDeletedFalse(Unknown Source)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.ProductServiceImpl.getProductsStatusTrueAndDeleteFalse(ProductServiceImpl.java:91)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:724)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.ProductServiceImpl$$SpringCGLIB$$0.getProductsStatusTrueAndDeleteFalse(<generated>)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.controller.ProductController.getProductsStatusTrue(ProductController.java:25)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:724)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.controller.ProductController$$SpringCGLIB$$0.getProductsStatusTrue(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.filters.AuthTokenFilter.doFilterInternal(AuthTokenFilter.java:103)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1575)
Caused by: org.hibernate.exception.SQLGrammarException: JDBC exception executing SQL [select p1_0.id,p1_0.content,p1_0.deleted,p1_0.description,p1_0.img_url,p1_0.name,p1_0.released_by,p1_0.released_date,p1_0.status,p1_0.updated_by,p1_0.updated_date from product p1_0 where p1_0.status and not(p1_0.deleted)] [ERROR: relation "product" does not exist
  Position: 169] [n/a]
	at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:91)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:58)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:94)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:268)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.getResultSet(DeferredResultSetAccess.java:171)
	at org.hibernate.sql.results.jdbc.internal.JdbcValuesResultSetImpl.<init>(JdbcValuesResultSetImpl.java:74)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.resolveJdbcValuesSource(JdbcSelectExecutorStandardImpl.java:355)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.doExecuteQuery(JdbcSelectExecutorStandardImpl.java:137)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.executeQuery(JdbcSelectExecutorStandardImpl.java:102)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.executeQuery(JdbcSelectExecutor.java:91)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:165)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.lambda$new$1(ConcreteSqmSelectQueryPlan.java:152)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.withCacheableSqmInterpretation(ConcreteSqmSelectQueryPlan.java:442)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.performList(ConcreteSqmSelectQueryPlan.java:362)
	at org.hibernate.query.sqm.internal.QuerySqmImpl.doList(QuerySqmImpl.java:380)
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:143)
	at org.hibernate.query.Query.getResultList(Query.java:120)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$CollectionExecution.doExecute(JpaQueryExecution.java:130)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:93)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:152)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:140)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:170)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	... 118 more
Caused by: org.postgresql.util.PSQLException: ERROR: relation "product" does not exist
  Position: 169
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2733)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2420)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:372)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:517)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:434)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:194)
	at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:137)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeQuery(ProxyPreparedStatement.java:52)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeQuery(HikariProxyPreparedStatement.java)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:250)
	... 146 more
2025-05-26 18:23:51 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHP
2025-05-26 18:23:51 ERROR AuthTokenFilter:101 - Cannot set user authentication: JDBC exception executing SQL [select u1_0.id,u1_0.created_by,u1_0.created_date,u1_0.deleted,u1_0.enabled,u1_0.password_encrypted,u1_0.updated_by,u1_0.updated_date,u1_0.username,u1_1.role_id from users u1_0 left join roles_users u1_1 on u1_0.id=u1_1.user_id where u1_0.username=?] [ERROR: relation "users" does not exist
  Position: 166] [n/a]; SQL [n/a]
org.springframework.dao.InvalidDataAccessResourceUsageException: JDBC exception executing SQL [select u1_0.id,u1_0.created_by,u1_0.created_date,u1_0.deleted,u1_0.enabled,u1_0.password_encrypted,u1_0.updated_by,u1_0.updated_date,u1_0.username,u1_1.role_id from users u1_0 left join roles_users u1_1 on u1_0.id=u1_1.user_id where u1_0.username=?] [ERROR: relation "users" does not exist
  Position: 166] [n/a]; SQL [n/a]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:281)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:256)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:241)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560)
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:136)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy4/jdk.proxy4.$Proxy150.findByUsername(Unknown Source)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.UserDetailsServiceImpl.loadUserByUsername(UserDetailsServiceImpl.java:20)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.UserDetailsServiceImpl$$SpringCGLIB$$0.loadUserByUsername(<generated>)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.filters.AuthTokenFilter.doFilterInternal(AuthTokenFilter.java:66)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1575)
Caused by: org.hibernate.exception.SQLGrammarException: JDBC exception executing SQL [select u1_0.id,u1_0.created_by,u1_0.created_date,u1_0.deleted,u1_0.enabled,u1_0.password_encrypted,u1_0.updated_by,u1_0.updated_date,u1_0.username,u1_1.role_id from users u1_0 left join roles_users u1_1 on u1_0.id=u1_1.user_id where u1_0.username=?] [ERROR: relation "users" does not exist
  Position: 166] [n/a]
	at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:91)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:58)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:94)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:268)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.getResultSet(DeferredResultSetAccess.java:171)
	at org.hibernate.sql.results.jdbc.internal.JdbcValuesResultSetImpl.<init>(JdbcValuesResultSetImpl.java:74)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.resolveJdbcValuesSource(JdbcSelectExecutorStandardImpl.java:355)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.doExecuteQuery(JdbcSelectExecutorStandardImpl.java:137)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.executeQuery(JdbcSelectExecutorStandardImpl.java:102)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.executeQuery(JdbcSelectExecutor.java:91)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:165)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.lambda$new$1(ConcreteSqmSelectQueryPlan.java:152)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.withCacheableSqmInterpretation(ConcreteSqmSelectQueryPlan.java:442)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.performList(ConcreteSqmSelectQueryPlan.java:362)
	at org.hibernate.query.sqm.internal.QuerySqmImpl.doList(QuerySqmImpl.java:380)
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:143)
	at org.hibernate.query.spi.AbstractSelectionQuery.getSingleResult(AbstractSelectionQuery.java:275)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$SingleEntityExecution.doExecute(JpaQueryExecution.java:224)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:93)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:152)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:140)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:170)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	... 77 more
Caused by: org.postgresql.util.PSQLException: ERROR: relation "users" does not exist
  Position: 166
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2733)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2420)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:372)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:517)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:434)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:194)
	at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:137)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeQuery(ProxyPreparedStatement.java:52)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeQuery(HikariProxyPreparedStatement.java)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:250)
	... 105 more
2025-05-26 18:23:51 ERROR ProductServiceImpl:93 - Error get all products status true
org.springframework.dao.InvalidDataAccessResourceUsageException: JDBC exception executing SQL [select p1_0.id,p1_0.content,p1_0.deleted,p1_0.description,p1_0.img_url,p1_0.name,p1_0.released_by,p1_0.released_date,p1_0.status,p1_0.updated_by,p1_0.updated_date from product p1_0 where p1_0.status and not(p1_0.deleted)] [ERROR: relation "product" does not exist
  Position: 169] [n/a]; SQL [n/a]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:281)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:256)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:241)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560)
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:136)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy4/jdk.proxy4.$Proxy170.findByStatusTrueAndDeletedFalse(Unknown Source)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.ProductServiceImpl.getProductsStatusTrueAndDeleteFalse(ProductServiceImpl.java:91)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:724)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.ProductServiceImpl$$SpringCGLIB$$0.getProductsStatusTrueAndDeleteFalse(<generated>)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.controller.ProductController.getProductsStatusTrue(ProductController.java:25)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:724)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.controller.ProductController$$SpringCGLIB$$0.getProductsStatusTrue(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.filters.AuthTokenFilter.doFilterInternal(AuthTokenFilter.java:103)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1575)
Caused by: org.hibernate.exception.SQLGrammarException: JDBC exception executing SQL [select p1_0.id,p1_0.content,p1_0.deleted,p1_0.description,p1_0.img_url,p1_0.name,p1_0.released_by,p1_0.released_date,p1_0.status,p1_0.updated_by,p1_0.updated_date from product p1_0 where p1_0.status and not(p1_0.deleted)] [ERROR: relation "product" does not exist
  Position: 169] [n/a]
	at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:91)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:58)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:94)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:268)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.getResultSet(DeferredResultSetAccess.java:171)
	at org.hibernate.sql.results.jdbc.internal.JdbcValuesResultSetImpl.<init>(JdbcValuesResultSetImpl.java:74)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.resolveJdbcValuesSource(JdbcSelectExecutorStandardImpl.java:355)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.doExecuteQuery(JdbcSelectExecutorStandardImpl.java:137)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.executeQuery(JdbcSelectExecutorStandardImpl.java:102)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.executeQuery(JdbcSelectExecutor.java:91)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:165)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.lambda$new$1(ConcreteSqmSelectQueryPlan.java:152)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.withCacheableSqmInterpretation(ConcreteSqmSelectQueryPlan.java:442)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.performList(ConcreteSqmSelectQueryPlan.java:362)
	at org.hibernate.query.sqm.internal.QuerySqmImpl.doList(QuerySqmImpl.java:380)
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:143)
	at org.hibernate.query.Query.getResultList(Query.java:120)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$CollectionExecution.doExecute(JpaQueryExecution.java:130)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:93)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:152)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:140)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:170)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	... 118 more
Caused by: org.postgresql.util.PSQLException: ERROR: relation "product" does not exist
  Position: 169
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2733)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2420)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:372)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:517)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:434)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:194)
	at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:137)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeQuery(ProxyPreparedStatement.java:52)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeQuery(HikariProxyPreparedStatement.java)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:250)
	... 146 more
2025-05-26 18:23:51 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHP
2025-05-26 18:23:51 ERROR AuthTokenFilter:101 - Cannot set user authentication: JDBC exception executing SQL [select u1_0.id,u1_0.created_by,u1_0.created_date,u1_0.deleted,u1_0.enabled,u1_0.password_encrypted,u1_0.updated_by,u1_0.updated_date,u1_0.username,u1_1.role_id from users u1_0 left join roles_users u1_1 on u1_0.id=u1_1.user_id where u1_0.username=?] [ERROR: relation "users" does not exist
  Position: 166] [n/a]; SQL [n/a]
org.springframework.dao.InvalidDataAccessResourceUsageException: JDBC exception executing SQL [select u1_0.id,u1_0.created_by,u1_0.created_date,u1_0.deleted,u1_0.enabled,u1_0.password_encrypted,u1_0.updated_by,u1_0.updated_date,u1_0.username,u1_1.role_id from users u1_0 left join roles_users u1_1 on u1_0.id=u1_1.user_id where u1_0.username=?] [ERROR: relation "users" does not exist
  Position: 166] [n/a]; SQL [n/a]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:281)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:256)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:241)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560)
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:136)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy4/jdk.proxy4.$Proxy150.findByUsername(Unknown Source)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.UserDetailsServiceImpl.loadUserByUsername(UserDetailsServiceImpl.java:20)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.UserDetailsServiceImpl$$SpringCGLIB$$0.loadUserByUsername(<generated>)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.filters.AuthTokenFilter.doFilterInternal(AuthTokenFilter.java:66)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1575)
Caused by: org.hibernate.exception.SQLGrammarException: JDBC exception executing SQL [select u1_0.id,u1_0.created_by,u1_0.created_date,u1_0.deleted,u1_0.enabled,u1_0.password_encrypted,u1_0.updated_by,u1_0.updated_date,u1_0.username,u1_1.role_id from users u1_0 left join roles_users u1_1 on u1_0.id=u1_1.user_id where u1_0.username=?] [ERROR: relation "users" does not exist
  Position: 166] [n/a]
	at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:91)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:58)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:94)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:268)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.getResultSet(DeferredResultSetAccess.java:171)
	at org.hibernate.sql.results.jdbc.internal.JdbcValuesResultSetImpl.<init>(JdbcValuesResultSetImpl.java:74)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.resolveJdbcValuesSource(JdbcSelectExecutorStandardImpl.java:355)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.doExecuteQuery(JdbcSelectExecutorStandardImpl.java:137)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.executeQuery(JdbcSelectExecutorStandardImpl.java:102)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.executeQuery(JdbcSelectExecutor.java:91)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:165)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.lambda$new$1(ConcreteSqmSelectQueryPlan.java:152)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.withCacheableSqmInterpretation(ConcreteSqmSelectQueryPlan.java:442)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.performList(ConcreteSqmSelectQueryPlan.java:362)
	at org.hibernate.query.sqm.internal.QuerySqmImpl.doList(QuerySqmImpl.java:380)
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:143)
	at org.hibernate.query.spi.AbstractSelectionQuery.getSingleResult(AbstractSelectionQuery.java:275)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$SingleEntityExecution.doExecute(JpaQueryExecution.java:224)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:93)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:152)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:140)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:170)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	... 77 more
Caused by: org.postgresql.util.PSQLException: ERROR: relation "users" does not exist
  Position: 166
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2733)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2420)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:372)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:517)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:434)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:194)
	at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:137)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeQuery(ProxyPreparedStatement.java:52)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeQuery(HikariProxyPreparedStatement.java)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:250)
	... 105 more
2025-05-26 18:23:51 ERROR ProductServiceImpl:93 - Error get all products status true
org.springframework.dao.InvalidDataAccessResourceUsageException: JDBC exception executing SQL [select p1_0.id,p1_0.content,p1_0.deleted,p1_0.description,p1_0.img_url,p1_0.name,p1_0.released_by,p1_0.released_date,p1_0.status,p1_0.updated_by,p1_0.updated_date from product p1_0 where p1_0.status and not(p1_0.deleted)] [ERROR: relation "product" does not exist
  Position: 169] [n/a]; SQL [n/a]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:281)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:256)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:241)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560)
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:136)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy4/jdk.proxy4.$Proxy170.findByStatusTrueAndDeletedFalse(Unknown Source)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.ProductServiceImpl.getProductsStatusTrueAndDeleteFalse(ProductServiceImpl.java:91)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:724)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.ProductServiceImpl$$SpringCGLIB$$0.getProductsStatusTrueAndDeleteFalse(<generated>)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.controller.ProductController.getProductsStatusTrue(ProductController.java:25)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:724)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.controller.ProductController$$SpringCGLIB$$0.getProductsStatusTrue(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.filters.AuthTokenFilter.doFilterInternal(AuthTokenFilter.java:103)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1575)
Caused by: org.hibernate.exception.SQLGrammarException: JDBC exception executing SQL [select p1_0.id,p1_0.content,p1_0.deleted,p1_0.description,p1_0.img_url,p1_0.name,p1_0.released_by,p1_0.released_date,p1_0.status,p1_0.updated_by,p1_0.updated_date from product p1_0 where p1_0.status and not(p1_0.deleted)] [ERROR: relation "product" does not exist
  Position: 169] [n/a]
	at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:91)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:58)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:94)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:268)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.getResultSet(DeferredResultSetAccess.java:171)
	at org.hibernate.sql.results.jdbc.internal.JdbcValuesResultSetImpl.<init>(JdbcValuesResultSetImpl.java:74)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.resolveJdbcValuesSource(JdbcSelectExecutorStandardImpl.java:355)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.doExecuteQuery(JdbcSelectExecutorStandardImpl.java:137)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.executeQuery(JdbcSelectExecutorStandardImpl.java:102)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.executeQuery(JdbcSelectExecutor.java:91)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:165)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.lambda$new$1(ConcreteSqmSelectQueryPlan.java:152)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.withCacheableSqmInterpretation(ConcreteSqmSelectQueryPlan.java:442)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.performList(ConcreteSqmSelectQueryPlan.java:362)
	at org.hibernate.query.sqm.internal.QuerySqmImpl.doList(QuerySqmImpl.java:380)
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:143)
	at org.hibernate.query.Query.getResultList(Query.java:120)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$CollectionExecution.doExecute(JpaQueryExecution.java:130)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:93)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:152)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:140)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:170)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	... 118 more
Caused by: org.postgresql.util.PSQLException: ERROR: relation "product" does not exist
  Position: 169
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2733)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2420)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:372)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:517)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:434)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:194)
	at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:137)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeQuery(ProxyPreparedStatement.java:52)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeQuery(HikariProxyPreparedStatement.java)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:250)
	... 146 more
2025-05-26 18:23:51 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHP
2025-05-26 18:23:51 ERROR AuthTokenFilter:101 - Cannot set user authentication: JDBC exception executing SQL [select u1_0.id,u1_0.created_by,u1_0.created_date,u1_0.deleted,u1_0.enabled,u1_0.password_encrypted,u1_0.updated_by,u1_0.updated_date,u1_0.username,u1_1.role_id from users u1_0 left join roles_users u1_1 on u1_0.id=u1_1.user_id where u1_0.username=?] [ERROR: relation "users" does not exist
  Position: 166] [n/a]; SQL [n/a]
org.springframework.dao.InvalidDataAccessResourceUsageException: JDBC exception executing SQL [select u1_0.id,u1_0.created_by,u1_0.created_date,u1_0.deleted,u1_0.enabled,u1_0.password_encrypted,u1_0.updated_by,u1_0.updated_date,u1_0.username,u1_1.role_id from users u1_0 left join roles_users u1_1 on u1_0.id=u1_1.user_id where u1_0.username=?] [ERROR: relation "users" does not exist
  Position: 166] [n/a]; SQL [n/a]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:281)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:256)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:241)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560)
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:136)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy4/jdk.proxy4.$Proxy150.findByUsername(Unknown Source)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.UserDetailsServiceImpl.loadUserByUsername(UserDetailsServiceImpl.java:20)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.UserDetailsServiceImpl$$SpringCGLIB$$0.loadUserByUsername(<generated>)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.filters.AuthTokenFilter.doFilterInternal(AuthTokenFilter.java:66)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1575)
Caused by: org.hibernate.exception.SQLGrammarException: JDBC exception executing SQL [select u1_0.id,u1_0.created_by,u1_0.created_date,u1_0.deleted,u1_0.enabled,u1_0.password_encrypted,u1_0.updated_by,u1_0.updated_date,u1_0.username,u1_1.role_id from users u1_0 left join roles_users u1_1 on u1_0.id=u1_1.user_id where u1_0.username=?] [ERROR: relation "users" does not exist
  Position: 166] [n/a]
	at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:91)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:58)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:94)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:268)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.getResultSet(DeferredResultSetAccess.java:171)
	at org.hibernate.sql.results.jdbc.internal.JdbcValuesResultSetImpl.<init>(JdbcValuesResultSetImpl.java:74)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.resolveJdbcValuesSource(JdbcSelectExecutorStandardImpl.java:355)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.doExecuteQuery(JdbcSelectExecutorStandardImpl.java:137)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.executeQuery(JdbcSelectExecutorStandardImpl.java:102)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.executeQuery(JdbcSelectExecutor.java:91)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:165)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.lambda$new$1(ConcreteSqmSelectQueryPlan.java:152)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.withCacheableSqmInterpretation(ConcreteSqmSelectQueryPlan.java:442)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.performList(ConcreteSqmSelectQueryPlan.java:362)
	at org.hibernate.query.sqm.internal.QuerySqmImpl.doList(QuerySqmImpl.java:380)
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:143)
	at org.hibernate.query.spi.AbstractSelectionQuery.getSingleResult(AbstractSelectionQuery.java:275)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$SingleEntityExecution.doExecute(JpaQueryExecution.java:224)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:93)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:152)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:140)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:170)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	... 77 more
Caused by: org.postgresql.util.PSQLException: ERROR: relation "users" does not exist
  Position: 166
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2733)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2420)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:372)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:517)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:434)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:194)
	at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:137)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeQuery(ProxyPreparedStatement.java:52)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeQuery(HikariProxyPreparedStatement.java)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:250)
	... 105 more
2025-05-26 18:23:51 ERROR ProductServiceImpl:93 - Error get all products status true
org.springframework.dao.InvalidDataAccessResourceUsageException: JDBC exception executing SQL [select p1_0.id,p1_0.content,p1_0.deleted,p1_0.description,p1_0.img_url,p1_0.name,p1_0.released_by,p1_0.released_date,p1_0.status,p1_0.updated_by,p1_0.updated_date from product p1_0 where p1_0.status and not(p1_0.deleted)] [ERROR: relation "product" does not exist
  Position: 169] [n/a]; SQL [n/a]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:281)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:256)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:241)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560)
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:136)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy4/jdk.proxy4.$Proxy170.findByStatusTrueAndDeletedFalse(Unknown Source)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.ProductServiceImpl.getProductsStatusTrueAndDeleteFalse(ProductServiceImpl.java:91)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:724)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.ProductServiceImpl$$SpringCGLIB$$0.getProductsStatusTrueAndDeleteFalse(<generated>)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.controller.ProductController.getProductsStatusTrue(ProductController.java:25)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:724)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.controller.ProductController$$SpringCGLIB$$0.getProductsStatusTrue(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.filters.AuthTokenFilter.doFilterInternal(AuthTokenFilter.java:103)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1575)
Caused by: org.hibernate.exception.SQLGrammarException: JDBC exception executing SQL [select p1_0.id,p1_0.content,p1_0.deleted,p1_0.description,p1_0.img_url,p1_0.name,p1_0.released_by,p1_0.released_date,p1_0.status,p1_0.updated_by,p1_0.updated_date from product p1_0 where p1_0.status and not(p1_0.deleted)] [ERROR: relation "product" does not exist
  Position: 169] [n/a]
	at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:91)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:58)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:94)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:268)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.getResultSet(DeferredResultSetAccess.java:171)
	at org.hibernate.sql.results.jdbc.internal.JdbcValuesResultSetImpl.<init>(JdbcValuesResultSetImpl.java:74)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.resolveJdbcValuesSource(JdbcSelectExecutorStandardImpl.java:355)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.doExecuteQuery(JdbcSelectExecutorStandardImpl.java:137)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.executeQuery(JdbcSelectExecutorStandardImpl.java:102)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.executeQuery(JdbcSelectExecutor.java:91)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:165)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.lambda$new$1(ConcreteSqmSelectQueryPlan.java:152)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.withCacheableSqmInterpretation(ConcreteSqmSelectQueryPlan.java:442)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.performList(ConcreteSqmSelectQueryPlan.java:362)
	at org.hibernate.query.sqm.internal.QuerySqmImpl.doList(QuerySqmImpl.java:380)
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:143)
	at org.hibernate.query.Query.getResultList(Query.java:120)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$CollectionExecution.doExecute(JpaQueryExecution.java:130)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:93)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:152)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:140)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:170)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	... 118 more
Caused by: org.postgresql.util.PSQLException: ERROR: relation "product" does not exist
  Position: 169
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2733)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2420)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:372)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:517)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:434)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:194)
	at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:137)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeQuery(ProxyPreparedStatement.java:52)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeQuery(HikariProxyPreparedStatement.java)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:250)
	... 146 more
2025-05-26 18:23:51 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHP
2025-05-26 18:23:51 ERROR AuthTokenFilter:101 - Cannot set user authentication: JDBC exception executing SQL [select u1_0.id,u1_0.created_by,u1_0.created_date,u1_0.deleted,u1_0.enabled,u1_0.password_encrypted,u1_0.updated_by,u1_0.updated_date,u1_0.username,u1_1.role_id from users u1_0 left join roles_users u1_1 on u1_0.id=u1_1.user_id where u1_0.username=?] [ERROR: relation "users" does not exist
  Position: 166] [n/a]; SQL [n/a]
org.springframework.dao.InvalidDataAccessResourceUsageException: JDBC exception executing SQL [select u1_0.id,u1_0.created_by,u1_0.created_date,u1_0.deleted,u1_0.enabled,u1_0.password_encrypted,u1_0.updated_by,u1_0.updated_date,u1_0.username,u1_1.role_id from users u1_0 left join roles_users u1_1 on u1_0.id=u1_1.user_id where u1_0.username=?] [ERROR: relation "users" does not exist
  Position: 166] [n/a]; SQL [n/a]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:281)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:256)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:241)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560)
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:136)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy4/jdk.proxy4.$Proxy150.findByUsername(Unknown Source)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.UserDetailsServiceImpl.loadUserByUsername(UserDetailsServiceImpl.java:20)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.UserDetailsServiceImpl$$SpringCGLIB$$0.loadUserByUsername(<generated>)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.filters.AuthTokenFilter.doFilterInternal(AuthTokenFilter.java:66)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1575)
Caused by: org.hibernate.exception.SQLGrammarException: JDBC exception executing SQL [select u1_0.id,u1_0.created_by,u1_0.created_date,u1_0.deleted,u1_0.enabled,u1_0.password_encrypted,u1_0.updated_by,u1_0.updated_date,u1_0.username,u1_1.role_id from users u1_0 left join roles_users u1_1 on u1_0.id=u1_1.user_id where u1_0.username=?] [ERROR: relation "users" does not exist
  Position: 166] [n/a]
	at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:91)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:58)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:94)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:268)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.getResultSet(DeferredResultSetAccess.java:171)
	at org.hibernate.sql.results.jdbc.internal.JdbcValuesResultSetImpl.<init>(JdbcValuesResultSetImpl.java:74)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.resolveJdbcValuesSource(JdbcSelectExecutorStandardImpl.java:355)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.doExecuteQuery(JdbcSelectExecutorStandardImpl.java:137)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.executeQuery(JdbcSelectExecutorStandardImpl.java:102)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.executeQuery(JdbcSelectExecutor.java:91)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:165)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.lambda$new$1(ConcreteSqmSelectQueryPlan.java:152)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.withCacheableSqmInterpretation(ConcreteSqmSelectQueryPlan.java:442)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.performList(ConcreteSqmSelectQueryPlan.java:362)
	at org.hibernate.query.sqm.internal.QuerySqmImpl.doList(QuerySqmImpl.java:380)
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:143)
	at org.hibernate.query.spi.AbstractSelectionQuery.getSingleResult(AbstractSelectionQuery.java:275)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$SingleEntityExecution.doExecute(JpaQueryExecution.java:224)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:93)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:152)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:140)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:170)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	... 77 more
Caused by: org.postgresql.util.PSQLException: ERROR: relation "users" does not exist
  Position: 166
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2733)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2420)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:372)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:517)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:434)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:194)
	at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:137)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeQuery(ProxyPreparedStatement.java:52)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeQuery(HikariProxyPreparedStatement.java)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:250)
	... 105 more
2025-05-26 18:23:51 ERROR ProductServiceImpl:93 - Error get all products status true
org.springframework.dao.InvalidDataAccessResourceUsageException: JDBC exception executing SQL [select p1_0.id,p1_0.content,p1_0.deleted,p1_0.description,p1_0.img_url,p1_0.name,p1_0.released_by,p1_0.released_date,p1_0.status,p1_0.updated_by,p1_0.updated_date from product p1_0 where p1_0.status and not(p1_0.deleted)] [ERROR: relation "product" does not exist
  Position: 169] [n/a]; SQL [n/a]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:281)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:256)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:241)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560)
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:136)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy4/jdk.proxy4.$Proxy170.findByStatusTrueAndDeletedFalse(Unknown Source)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.ProductServiceImpl.getProductsStatusTrueAndDeleteFalse(ProductServiceImpl.java:91)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:724)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.ProductServiceImpl$$SpringCGLIB$$0.getProductsStatusTrueAndDeleteFalse(<generated>)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.controller.ProductController.getProductsStatusTrue(ProductController.java:25)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:724)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.controller.ProductController$$SpringCGLIB$$0.getProductsStatusTrue(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.filters.AuthTokenFilter.doFilterInternal(AuthTokenFilter.java:103)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1575)
Caused by: org.hibernate.exception.SQLGrammarException: JDBC exception executing SQL [select p1_0.id,p1_0.content,p1_0.deleted,p1_0.description,p1_0.img_url,p1_0.name,p1_0.released_by,p1_0.released_date,p1_0.status,p1_0.updated_by,p1_0.updated_date from product p1_0 where p1_0.status and not(p1_0.deleted)] [ERROR: relation "product" does not exist
  Position: 169] [n/a]
	at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:91)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:58)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:94)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:268)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.getResultSet(DeferredResultSetAccess.java:171)
	at org.hibernate.sql.results.jdbc.internal.JdbcValuesResultSetImpl.<init>(JdbcValuesResultSetImpl.java:74)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.resolveJdbcValuesSource(JdbcSelectExecutorStandardImpl.java:355)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.doExecuteQuery(JdbcSelectExecutorStandardImpl.java:137)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.executeQuery(JdbcSelectExecutorStandardImpl.java:102)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.executeQuery(JdbcSelectExecutor.java:91)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:165)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.lambda$new$1(ConcreteSqmSelectQueryPlan.java:152)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.withCacheableSqmInterpretation(ConcreteSqmSelectQueryPlan.java:442)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.performList(ConcreteSqmSelectQueryPlan.java:362)
	at org.hibernate.query.sqm.internal.QuerySqmImpl.doList(QuerySqmImpl.java:380)
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:143)
	at org.hibernate.query.Query.getResultList(Query.java:120)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$CollectionExecution.doExecute(JpaQueryExecution.java:130)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:93)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:152)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:140)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:170)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	... 118 more
Caused by: org.postgresql.util.PSQLException: ERROR: relation "product" does not exist
  Position: 169
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2733)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2420)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:372)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:517)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:434)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:194)
	at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:137)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeQuery(ProxyPreparedStatement.java:52)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeQuery(HikariProxyPreparedStatement.java)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:250)
	... 146 more
2025-05-26 18:23:51 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHP
2025-05-26 18:23:51 ERROR AuthTokenFilter:101 - Cannot set user authentication: JDBC exception executing SQL [select u1_0.id,u1_0.created_by,u1_0.created_date,u1_0.deleted,u1_0.enabled,u1_0.password_encrypted,u1_0.updated_by,u1_0.updated_date,u1_0.username,u1_1.role_id from users u1_0 left join roles_users u1_1 on u1_0.id=u1_1.user_id where u1_0.username=?] [ERROR: relation "users" does not exist
  Position: 166] [n/a]; SQL [n/a]
org.springframework.dao.InvalidDataAccessResourceUsageException: JDBC exception executing SQL [select u1_0.id,u1_0.created_by,u1_0.created_date,u1_0.deleted,u1_0.enabled,u1_0.password_encrypted,u1_0.updated_by,u1_0.updated_date,u1_0.username,u1_1.role_id from users u1_0 left join roles_users u1_1 on u1_0.id=u1_1.user_id where u1_0.username=?] [ERROR: relation "users" does not exist
  Position: 166] [n/a]; SQL [n/a]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:281)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:256)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:241)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560)
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:136)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy4/jdk.proxy4.$Proxy150.findByUsername(Unknown Source)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.UserDetailsServiceImpl.loadUserByUsername(UserDetailsServiceImpl.java:20)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.UserDetailsServiceImpl$$SpringCGLIB$$0.loadUserByUsername(<generated>)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.filters.AuthTokenFilter.doFilterInternal(AuthTokenFilter.java:66)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1575)
Caused by: org.hibernate.exception.SQLGrammarException: JDBC exception executing SQL [select u1_0.id,u1_0.created_by,u1_0.created_date,u1_0.deleted,u1_0.enabled,u1_0.password_encrypted,u1_0.updated_by,u1_0.updated_date,u1_0.username,u1_1.role_id from users u1_0 left join roles_users u1_1 on u1_0.id=u1_1.user_id where u1_0.username=?] [ERROR: relation "users" does not exist
  Position: 166] [n/a]
	at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:91)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:58)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:94)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:268)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.getResultSet(DeferredResultSetAccess.java:171)
	at org.hibernate.sql.results.jdbc.internal.JdbcValuesResultSetImpl.<init>(JdbcValuesResultSetImpl.java:74)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.resolveJdbcValuesSource(JdbcSelectExecutorStandardImpl.java:355)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.doExecuteQuery(JdbcSelectExecutorStandardImpl.java:137)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.executeQuery(JdbcSelectExecutorStandardImpl.java:102)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.executeQuery(JdbcSelectExecutor.java:91)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:165)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.lambda$new$1(ConcreteSqmSelectQueryPlan.java:152)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.withCacheableSqmInterpretation(ConcreteSqmSelectQueryPlan.java:442)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.performList(ConcreteSqmSelectQueryPlan.java:362)
	at org.hibernate.query.sqm.internal.QuerySqmImpl.doList(QuerySqmImpl.java:380)
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:143)
	at org.hibernate.query.spi.AbstractSelectionQuery.getSingleResult(AbstractSelectionQuery.java:275)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$SingleEntityExecution.doExecute(JpaQueryExecution.java:224)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:93)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:152)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:140)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:170)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	... 77 more
Caused by: org.postgresql.util.PSQLException: ERROR: relation "users" does not exist
  Position: 166
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2733)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2420)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:372)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:517)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:434)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:194)
	at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:137)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeQuery(ProxyPreparedStatement.java:52)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeQuery(HikariProxyPreparedStatement.java)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:250)
	... 105 more
2025-05-26 18:23:51 ERROR ProductServiceImpl:93 - Error get all products status true
org.springframework.dao.InvalidDataAccessResourceUsageException: JDBC exception executing SQL [select p1_0.id,p1_0.content,p1_0.deleted,p1_0.description,p1_0.img_url,p1_0.name,p1_0.released_by,p1_0.released_date,p1_0.status,p1_0.updated_by,p1_0.updated_date from product p1_0 where p1_0.status and not(p1_0.deleted)] [ERROR: relation "product" does not exist
  Position: 169] [n/a]; SQL [n/a]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:281)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:256)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:241)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560)
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:136)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy4/jdk.proxy4.$Proxy170.findByStatusTrueAndDeletedFalse(Unknown Source)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.ProductServiceImpl.getProductsStatusTrueAndDeleteFalse(ProductServiceImpl.java:91)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:724)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.ProductServiceImpl$$SpringCGLIB$$0.getProductsStatusTrueAndDeleteFalse(<generated>)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.controller.ProductController.getProductsStatusTrue(ProductController.java:25)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:724)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.controller.ProductController$$SpringCGLIB$$0.getProductsStatusTrue(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.filters.AuthTokenFilter.doFilterInternal(AuthTokenFilter.java:103)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1575)
Caused by: org.hibernate.exception.SQLGrammarException: JDBC exception executing SQL [select p1_0.id,p1_0.content,p1_0.deleted,p1_0.description,p1_0.img_url,p1_0.name,p1_0.released_by,p1_0.released_date,p1_0.status,p1_0.updated_by,p1_0.updated_date from product p1_0 where p1_0.status and not(p1_0.deleted)] [ERROR: relation "product" does not exist
  Position: 169] [n/a]
	at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:91)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:58)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:94)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:268)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.getResultSet(DeferredResultSetAccess.java:171)
	at org.hibernate.sql.results.jdbc.internal.JdbcValuesResultSetImpl.<init>(JdbcValuesResultSetImpl.java:74)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.resolveJdbcValuesSource(JdbcSelectExecutorStandardImpl.java:355)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.doExecuteQuery(JdbcSelectExecutorStandardImpl.java:137)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.executeQuery(JdbcSelectExecutorStandardImpl.java:102)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.executeQuery(JdbcSelectExecutor.java:91)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:165)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.lambda$new$1(ConcreteSqmSelectQueryPlan.java:152)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.withCacheableSqmInterpretation(ConcreteSqmSelectQueryPlan.java:442)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.performList(ConcreteSqmSelectQueryPlan.java:362)
	at org.hibernate.query.sqm.internal.QuerySqmImpl.doList(QuerySqmImpl.java:380)
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:143)
	at org.hibernate.query.Query.getResultList(Query.java:120)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$CollectionExecution.doExecute(JpaQueryExecution.java:130)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:93)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:152)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:140)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:170)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	... 118 more
Caused by: org.postgresql.util.PSQLException: ERROR: relation "product" does not exist
  Position: 169
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2733)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2420)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:372)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:517)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:434)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:194)
	at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:137)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeQuery(ProxyPreparedStatement.java:52)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeQuery(HikariProxyPreparedStatement.java)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:250)
	... 146 more
2025-05-26 18:23:52 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHP
2025-05-26 18:23:52 ERROR AuthTokenFilter:101 - Cannot set user authentication: JDBC exception executing SQL [select u1_0.id,u1_0.created_by,u1_0.created_date,u1_0.deleted,u1_0.enabled,u1_0.password_encrypted,u1_0.updated_by,u1_0.updated_date,u1_0.username,u1_1.role_id from users u1_0 left join roles_users u1_1 on u1_0.id=u1_1.user_id where u1_0.username=?] [ERROR: relation "users" does not exist
  Position: 166] [n/a]; SQL [n/a]
org.springframework.dao.InvalidDataAccessResourceUsageException: JDBC exception executing SQL [select u1_0.id,u1_0.created_by,u1_0.created_date,u1_0.deleted,u1_0.enabled,u1_0.password_encrypted,u1_0.updated_by,u1_0.updated_date,u1_0.username,u1_1.role_id from users u1_0 left join roles_users u1_1 on u1_0.id=u1_1.user_id where u1_0.username=?] [ERROR: relation "users" does not exist
  Position: 166] [n/a]; SQL [n/a]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:281)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:256)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:241)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560)
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:136)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy4/jdk.proxy4.$Proxy150.findByUsername(Unknown Source)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.UserDetailsServiceImpl.loadUserByUsername(UserDetailsServiceImpl.java:20)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.UserDetailsServiceImpl$$SpringCGLIB$$0.loadUserByUsername(<generated>)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.filters.AuthTokenFilter.doFilterInternal(AuthTokenFilter.java:66)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1575)
Caused by: org.hibernate.exception.SQLGrammarException: JDBC exception executing SQL [select u1_0.id,u1_0.created_by,u1_0.created_date,u1_0.deleted,u1_0.enabled,u1_0.password_encrypted,u1_0.updated_by,u1_0.updated_date,u1_0.username,u1_1.role_id from users u1_0 left join roles_users u1_1 on u1_0.id=u1_1.user_id where u1_0.username=?] [ERROR: relation "users" does not exist
  Position: 166] [n/a]
	at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:91)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:58)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:94)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:268)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.getResultSet(DeferredResultSetAccess.java:171)
	at org.hibernate.sql.results.jdbc.internal.JdbcValuesResultSetImpl.<init>(JdbcValuesResultSetImpl.java:74)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.resolveJdbcValuesSource(JdbcSelectExecutorStandardImpl.java:355)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.doExecuteQuery(JdbcSelectExecutorStandardImpl.java:137)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.executeQuery(JdbcSelectExecutorStandardImpl.java:102)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.executeQuery(JdbcSelectExecutor.java:91)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:165)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.lambda$new$1(ConcreteSqmSelectQueryPlan.java:152)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.withCacheableSqmInterpretation(ConcreteSqmSelectQueryPlan.java:442)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.performList(ConcreteSqmSelectQueryPlan.java:362)
	at org.hibernate.query.sqm.internal.QuerySqmImpl.doList(QuerySqmImpl.java:380)
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:143)
	at org.hibernate.query.spi.AbstractSelectionQuery.getSingleResult(AbstractSelectionQuery.java:275)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$SingleEntityExecution.doExecute(JpaQueryExecution.java:224)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:93)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:152)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:140)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:170)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	... 77 more
Caused by: org.postgresql.util.PSQLException: ERROR: relation "users" does not exist
  Position: 166
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2733)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2420)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:372)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:517)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:434)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:194)
	at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:137)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeQuery(ProxyPreparedStatement.java:52)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeQuery(HikariProxyPreparedStatement.java)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:250)
	... 105 more
2025-05-26 18:23:52 ERROR ProductServiceImpl:93 - Error get all products status true
org.springframework.dao.InvalidDataAccessResourceUsageException: JDBC exception executing SQL [select p1_0.id,p1_0.content,p1_0.deleted,p1_0.description,p1_0.img_url,p1_0.name,p1_0.released_by,p1_0.released_date,p1_0.status,p1_0.updated_by,p1_0.updated_date from product p1_0 where p1_0.status and not(p1_0.deleted)] [ERROR: relation "product" does not exist
  Position: 169] [n/a]; SQL [n/a]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:281)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:256)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:241)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560)
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:136)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy4/jdk.proxy4.$Proxy170.findByStatusTrueAndDeletedFalse(Unknown Source)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.ProductServiceImpl.getProductsStatusTrueAndDeleteFalse(ProductServiceImpl.java:91)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:724)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.ProductServiceImpl$$SpringCGLIB$$0.getProductsStatusTrueAndDeleteFalse(<generated>)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.controller.ProductController.getProductsStatusTrue(ProductController.java:25)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:724)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.controller.ProductController$$SpringCGLIB$$0.getProductsStatusTrue(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.filters.AuthTokenFilter.doFilterInternal(AuthTokenFilter.java:103)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1575)
Caused by: org.hibernate.exception.SQLGrammarException: JDBC exception executing SQL [select p1_0.id,p1_0.content,p1_0.deleted,p1_0.description,p1_0.img_url,p1_0.name,p1_0.released_by,p1_0.released_date,p1_0.status,p1_0.updated_by,p1_0.updated_date from product p1_0 where p1_0.status and not(p1_0.deleted)] [ERROR: relation "product" does not exist
  Position: 169] [n/a]
	at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:91)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:58)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:94)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:268)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.getResultSet(DeferredResultSetAccess.java:171)
	at org.hibernate.sql.results.jdbc.internal.JdbcValuesResultSetImpl.<init>(JdbcValuesResultSetImpl.java:74)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.resolveJdbcValuesSource(JdbcSelectExecutorStandardImpl.java:355)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.doExecuteQuery(JdbcSelectExecutorStandardImpl.java:137)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.executeQuery(JdbcSelectExecutorStandardImpl.java:102)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.executeQuery(JdbcSelectExecutor.java:91)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:165)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.lambda$new$1(ConcreteSqmSelectQueryPlan.java:152)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.withCacheableSqmInterpretation(ConcreteSqmSelectQueryPlan.java:442)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.performList(ConcreteSqmSelectQueryPlan.java:362)
	at org.hibernate.query.sqm.internal.QuerySqmImpl.doList(QuerySqmImpl.java:380)
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:143)
	at org.hibernate.query.Query.getResultList(Query.java:120)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$CollectionExecution.doExecute(JpaQueryExecution.java:130)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:93)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:152)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:140)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:170)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	... 118 more
Caused by: org.postgresql.util.PSQLException: ERROR: relation "product" does not exist
  Position: 169
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2733)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2420)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:372)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:517)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:434)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:194)
	at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:137)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeQuery(ProxyPreparedStatement.java:52)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeQuery(HikariProxyPreparedStatement.java)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:250)
	... 146 more
2025-05-26 18:23:52 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHP
2025-05-26 18:23:52 ERROR AuthTokenFilter:101 - Cannot set user authentication: JDBC exception executing SQL [select u1_0.id,u1_0.created_by,u1_0.created_date,u1_0.deleted,u1_0.enabled,u1_0.password_encrypted,u1_0.updated_by,u1_0.updated_date,u1_0.username,u1_1.role_id from users u1_0 left join roles_users u1_1 on u1_0.id=u1_1.user_id where u1_0.username=?] [ERROR: relation "users" does not exist
  Position: 166] [n/a]; SQL [n/a]
org.springframework.dao.InvalidDataAccessResourceUsageException: JDBC exception executing SQL [select u1_0.id,u1_0.created_by,u1_0.created_date,u1_0.deleted,u1_0.enabled,u1_0.password_encrypted,u1_0.updated_by,u1_0.updated_date,u1_0.username,u1_1.role_id from users u1_0 left join roles_users u1_1 on u1_0.id=u1_1.user_id where u1_0.username=?] [ERROR: relation "users" does not exist
  Position: 166] [n/a]; SQL [n/a]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:281)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:256)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:241)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560)
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:136)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy4/jdk.proxy4.$Proxy150.findByUsername(Unknown Source)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.UserDetailsServiceImpl.loadUserByUsername(UserDetailsServiceImpl.java:20)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.UserDetailsServiceImpl$$SpringCGLIB$$0.loadUserByUsername(<generated>)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.filters.AuthTokenFilter.doFilterInternal(AuthTokenFilter.java:66)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1575)
Caused by: org.hibernate.exception.SQLGrammarException: JDBC exception executing SQL [select u1_0.id,u1_0.created_by,u1_0.created_date,u1_0.deleted,u1_0.enabled,u1_0.password_encrypted,u1_0.updated_by,u1_0.updated_date,u1_0.username,u1_1.role_id from users u1_0 left join roles_users u1_1 on u1_0.id=u1_1.user_id where u1_0.username=?] [ERROR: relation "users" does not exist
  Position: 166] [n/a]
	at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:91)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:58)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:94)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:268)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.getResultSet(DeferredResultSetAccess.java:171)
	at org.hibernate.sql.results.jdbc.internal.JdbcValuesResultSetImpl.<init>(JdbcValuesResultSetImpl.java:74)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.resolveJdbcValuesSource(JdbcSelectExecutorStandardImpl.java:355)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.doExecuteQuery(JdbcSelectExecutorStandardImpl.java:137)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.executeQuery(JdbcSelectExecutorStandardImpl.java:102)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.executeQuery(JdbcSelectExecutor.java:91)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:165)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.lambda$new$1(ConcreteSqmSelectQueryPlan.java:152)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.withCacheableSqmInterpretation(ConcreteSqmSelectQueryPlan.java:442)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.performList(ConcreteSqmSelectQueryPlan.java:362)
	at org.hibernate.query.sqm.internal.QuerySqmImpl.doList(QuerySqmImpl.java:380)
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:143)
	at org.hibernate.query.spi.AbstractSelectionQuery.getSingleResult(AbstractSelectionQuery.java:275)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$SingleEntityExecution.doExecute(JpaQueryExecution.java:224)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:93)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:152)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:140)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:170)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	... 77 more
Caused by: org.postgresql.util.PSQLException: ERROR: relation "users" does not exist
  Position: 166
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2733)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2420)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:372)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:517)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:434)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:194)
	at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:137)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeQuery(ProxyPreparedStatement.java:52)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeQuery(HikariProxyPreparedStatement.java)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:250)
	... 105 more
2025-05-26 18:23:52 ERROR ProductServiceImpl:93 - Error get all products status true
org.springframework.dao.InvalidDataAccessResourceUsageException: JDBC exception executing SQL [select p1_0.id,p1_0.content,p1_0.deleted,p1_0.description,p1_0.img_url,p1_0.name,p1_0.released_by,p1_0.released_date,p1_0.status,p1_0.updated_by,p1_0.updated_date from product p1_0 where p1_0.status and not(p1_0.deleted)] [ERROR: relation "product" does not exist
  Position: 169] [n/a]; SQL [n/a]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:281)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:256)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:241)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560)
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:136)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy4/jdk.proxy4.$Proxy170.findByStatusTrueAndDeletedFalse(Unknown Source)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.ProductServiceImpl.getProductsStatusTrueAndDeleteFalse(ProductServiceImpl.java:91)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:724)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.ProductServiceImpl$$SpringCGLIB$$0.getProductsStatusTrueAndDeleteFalse(<generated>)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.controller.ProductController.getProductsStatusTrue(ProductController.java:25)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:724)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.controller.ProductController$$SpringCGLIB$$0.getProductsStatusTrue(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.filters.AuthTokenFilter.doFilterInternal(AuthTokenFilter.java:103)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1575)
Caused by: org.hibernate.exception.SQLGrammarException: JDBC exception executing SQL [select p1_0.id,p1_0.content,p1_0.deleted,p1_0.description,p1_0.img_url,p1_0.name,p1_0.released_by,p1_0.released_date,p1_0.status,p1_0.updated_by,p1_0.updated_date from product p1_0 where p1_0.status and not(p1_0.deleted)] [ERROR: relation "product" does not exist
  Position: 169] [n/a]
	at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:91)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:58)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:94)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:268)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.getResultSet(DeferredResultSetAccess.java:171)
	at org.hibernate.sql.results.jdbc.internal.JdbcValuesResultSetImpl.<init>(JdbcValuesResultSetImpl.java:74)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.resolveJdbcValuesSource(JdbcSelectExecutorStandardImpl.java:355)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.doExecuteQuery(JdbcSelectExecutorStandardImpl.java:137)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.executeQuery(JdbcSelectExecutorStandardImpl.java:102)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.executeQuery(JdbcSelectExecutor.java:91)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:165)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.lambda$new$1(ConcreteSqmSelectQueryPlan.java:152)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.withCacheableSqmInterpretation(ConcreteSqmSelectQueryPlan.java:442)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.performList(ConcreteSqmSelectQueryPlan.java:362)
	at org.hibernate.query.sqm.internal.QuerySqmImpl.doList(QuerySqmImpl.java:380)
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:143)
	at org.hibernate.query.Query.getResultList(Query.java:120)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$CollectionExecution.doExecute(JpaQueryExecution.java:130)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:93)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:152)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:140)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:170)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	... 118 more
Caused by: org.postgresql.util.PSQLException: ERROR: relation "product" does not exist
  Position: 169
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2733)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2420)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:372)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:517)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:434)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:194)
	at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:137)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeQuery(ProxyPreparedStatement.java:52)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeQuery(HikariProxyPreparedStatement.java)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:250)
	... 146 more
2025-05-26 18:23:52 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHP
2025-05-26 18:23:52 ERROR AuthTokenFilter:101 - Cannot set user authentication: JDBC exception executing SQL [select u1_0.id,u1_0.created_by,u1_0.created_date,u1_0.deleted,u1_0.enabled,u1_0.password_encrypted,u1_0.updated_by,u1_0.updated_date,u1_0.username,u1_1.role_id from users u1_0 left join roles_users u1_1 on u1_0.id=u1_1.user_id where u1_0.username=?] [ERROR: relation "users" does not exist
  Position: 166] [n/a]; SQL [n/a]
org.springframework.dao.InvalidDataAccessResourceUsageException: JDBC exception executing SQL [select u1_0.id,u1_0.created_by,u1_0.created_date,u1_0.deleted,u1_0.enabled,u1_0.password_encrypted,u1_0.updated_by,u1_0.updated_date,u1_0.username,u1_1.role_id from users u1_0 left join roles_users u1_1 on u1_0.id=u1_1.user_id where u1_0.username=?] [ERROR: relation "users" does not exist
  Position: 166] [n/a]; SQL [n/a]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:281)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:256)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:241)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560)
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:136)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy4/jdk.proxy4.$Proxy150.findByUsername(Unknown Source)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.UserDetailsServiceImpl.loadUserByUsername(UserDetailsServiceImpl.java:20)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.UserDetailsServiceImpl$$SpringCGLIB$$0.loadUserByUsername(<generated>)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.filters.AuthTokenFilter.doFilterInternal(AuthTokenFilter.java:66)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1575)
Caused by: org.hibernate.exception.SQLGrammarException: JDBC exception executing SQL [select u1_0.id,u1_0.created_by,u1_0.created_date,u1_0.deleted,u1_0.enabled,u1_0.password_encrypted,u1_0.updated_by,u1_0.updated_date,u1_0.username,u1_1.role_id from users u1_0 left join roles_users u1_1 on u1_0.id=u1_1.user_id where u1_0.username=?] [ERROR: relation "users" does not exist
  Position: 166] [n/a]
	at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:91)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:58)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:94)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:268)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.getResultSet(DeferredResultSetAccess.java:171)
	at org.hibernate.sql.results.jdbc.internal.JdbcValuesResultSetImpl.<init>(JdbcValuesResultSetImpl.java:74)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.resolveJdbcValuesSource(JdbcSelectExecutorStandardImpl.java:355)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.doExecuteQuery(JdbcSelectExecutorStandardImpl.java:137)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.executeQuery(JdbcSelectExecutorStandardImpl.java:102)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.executeQuery(JdbcSelectExecutor.java:91)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:165)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.lambda$new$1(ConcreteSqmSelectQueryPlan.java:152)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.withCacheableSqmInterpretation(ConcreteSqmSelectQueryPlan.java:442)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.performList(ConcreteSqmSelectQueryPlan.java:362)
	at org.hibernate.query.sqm.internal.QuerySqmImpl.doList(QuerySqmImpl.java:380)
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:143)
	at org.hibernate.query.spi.AbstractSelectionQuery.getSingleResult(AbstractSelectionQuery.java:275)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$SingleEntityExecution.doExecute(JpaQueryExecution.java:224)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:93)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:152)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:140)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:170)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	... 77 more
Caused by: org.postgresql.util.PSQLException: ERROR: relation "users" does not exist
  Position: 166
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2733)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2420)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:372)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:517)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:434)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:194)
	at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:137)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeQuery(ProxyPreparedStatement.java:52)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeQuery(HikariProxyPreparedStatement.java)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:250)
	... 105 more
2025-05-26 18:23:52 ERROR ProductServiceImpl:93 - Error get all products status true
org.springframework.dao.InvalidDataAccessResourceUsageException: JDBC exception executing SQL [select p1_0.id,p1_0.content,p1_0.deleted,p1_0.description,p1_0.img_url,p1_0.name,p1_0.released_by,p1_0.released_date,p1_0.status,p1_0.updated_by,p1_0.updated_date from product p1_0 where p1_0.status and not(p1_0.deleted)] [ERROR: relation "product" does not exist
  Position: 169] [n/a]; SQL [n/a]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:281)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:256)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:241)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560)
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:136)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy4/jdk.proxy4.$Proxy170.findByStatusTrueAndDeletedFalse(Unknown Source)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.ProductServiceImpl.getProductsStatusTrueAndDeleteFalse(ProductServiceImpl.java:91)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:724)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.ProductServiceImpl$$SpringCGLIB$$0.getProductsStatusTrueAndDeleteFalse(<generated>)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.controller.ProductController.getProductsStatusTrue(ProductController.java:25)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:724)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.controller.ProductController$$SpringCGLIB$$0.getProductsStatusTrue(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.filters.AuthTokenFilter.doFilterInternal(AuthTokenFilter.java:103)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1575)
Caused by: org.hibernate.exception.SQLGrammarException: JDBC exception executing SQL [select p1_0.id,p1_0.content,p1_0.deleted,p1_0.description,p1_0.img_url,p1_0.name,p1_0.released_by,p1_0.released_date,p1_0.status,p1_0.updated_by,p1_0.updated_date from product p1_0 where p1_0.status and not(p1_0.deleted)] [ERROR: relation "product" does not exist
  Position: 169] [n/a]
	at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:91)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:58)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:94)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:268)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.getResultSet(DeferredResultSetAccess.java:171)
	at org.hibernate.sql.results.jdbc.internal.JdbcValuesResultSetImpl.<init>(JdbcValuesResultSetImpl.java:74)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.resolveJdbcValuesSource(JdbcSelectExecutorStandardImpl.java:355)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.doExecuteQuery(JdbcSelectExecutorStandardImpl.java:137)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.executeQuery(JdbcSelectExecutorStandardImpl.java:102)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.executeQuery(JdbcSelectExecutor.java:91)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:165)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.lambda$new$1(ConcreteSqmSelectQueryPlan.java:152)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.withCacheableSqmInterpretation(ConcreteSqmSelectQueryPlan.java:442)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.performList(ConcreteSqmSelectQueryPlan.java:362)
	at org.hibernate.query.sqm.internal.QuerySqmImpl.doList(QuerySqmImpl.java:380)
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:143)
	at org.hibernate.query.Query.getResultList(Query.java:120)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$CollectionExecution.doExecute(JpaQueryExecution.java:130)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:93)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:152)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:140)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:170)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	... 118 more
Caused by: org.postgresql.util.PSQLException: ERROR: relation "product" does not exist
  Position: 169
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2733)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2420)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:372)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:517)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:434)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:194)
	at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:137)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeQuery(ProxyPreparedStatement.java:52)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeQuery(HikariProxyPreparedStatement.java)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:250)
	... 146 more
2025-05-26 18:23:52 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHP
2025-05-26 18:23:52 ERROR AuthTokenFilter:101 - Cannot set user authentication: JDBC exception executing SQL [select u1_0.id,u1_0.created_by,u1_0.created_date,u1_0.deleted,u1_0.enabled,u1_0.password_encrypted,u1_0.updated_by,u1_0.updated_date,u1_0.username,u1_1.role_id from users u1_0 left join roles_users u1_1 on u1_0.id=u1_1.user_id where u1_0.username=?] [ERROR: relation "users" does not exist
  Position: 166] [n/a]; SQL [n/a]
org.springframework.dao.InvalidDataAccessResourceUsageException: JDBC exception executing SQL [select u1_0.id,u1_0.created_by,u1_0.created_date,u1_0.deleted,u1_0.enabled,u1_0.password_encrypted,u1_0.updated_by,u1_0.updated_date,u1_0.username,u1_1.role_id from users u1_0 left join roles_users u1_1 on u1_0.id=u1_1.user_id where u1_0.username=?] [ERROR: relation "users" does not exist
  Position: 166] [n/a]; SQL [n/a]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:281)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:256)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:241)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560)
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:136)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy4/jdk.proxy4.$Proxy150.findByUsername(Unknown Source)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.UserDetailsServiceImpl.loadUserByUsername(UserDetailsServiceImpl.java:20)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.UserDetailsServiceImpl$$SpringCGLIB$$0.loadUserByUsername(<generated>)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.filters.AuthTokenFilter.doFilterInternal(AuthTokenFilter.java:66)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1575)
Caused by: org.hibernate.exception.SQLGrammarException: JDBC exception executing SQL [select u1_0.id,u1_0.created_by,u1_0.created_date,u1_0.deleted,u1_0.enabled,u1_0.password_encrypted,u1_0.updated_by,u1_0.updated_date,u1_0.username,u1_1.role_id from users u1_0 left join roles_users u1_1 on u1_0.id=u1_1.user_id where u1_0.username=?] [ERROR: relation "users" does not exist
  Position: 166] [n/a]
	at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:91)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:58)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:94)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:268)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.getResultSet(DeferredResultSetAccess.java:171)
	at org.hibernate.sql.results.jdbc.internal.JdbcValuesResultSetImpl.<init>(JdbcValuesResultSetImpl.java:74)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.resolveJdbcValuesSource(JdbcSelectExecutorStandardImpl.java:355)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.doExecuteQuery(JdbcSelectExecutorStandardImpl.java:137)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.executeQuery(JdbcSelectExecutorStandardImpl.java:102)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.executeQuery(JdbcSelectExecutor.java:91)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:165)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.lambda$new$1(ConcreteSqmSelectQueryPlan.java:152)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.withCacheableSqmInterpretation(ConcreteSqmSelectQueryPlan.java:442)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.performList(ConcreteSqmSelectQueryPlan.java:362)
	at org.hibernate.query.sqm.internal.QuerySqmImpl.doList(QuerySqmImpl.java:380)
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:143)
	at org.hibernate.query.spi.AbstractSelectionQuery.getSingleResult(AbstractSelectionQuery.java:275)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$SingleEntityExecution.doExecute(JpaQueryExecution.java:224)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:93)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:152)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:140)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:170)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	... 77 more
Caused by: org.postgresql.util.PSQLException: ERROR: relation "users" does not exist
  Position: 166
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2733)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2420)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:372)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:517)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:434)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:194)
	at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:137)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeQuery(ProxyPreparedStatement.java:52)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeQuery(HikariProxyPreparedStatement.java)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:250)
	... 105 more
2025-05-26 18:23:52 ERROR ProductServiceImpl:93 - Error get all products status true
org.springframework.dao.InvalidDataAccessResourceUsageException: JDBC exception executing SQL [select p1_0.id,p1_0.content,p1_0.deleted,p1_0.description,p1_0.img_url,p1_0.name,p1_0.released_by,p1_0.released_date,p1_0.status,p1_0.updated_by,p1_0.updated_date from product p1_0 where p1_0.status and not(p1_0.deleted)] [ERROR: relation "product" does not exist
  Position: 169] [n/a]; SQL [n/a]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:281)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:256)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:241)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560)
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:136)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy4/jdk.proxy4.$Proxy170.findByStatusTrueAndDeletedFalse(Unknown Source)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.ProductServiceImpl.getProductsStatusTrueAndDeleteFalse(ProductServiceImpl.java:91)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:724)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.ProductServiceImpl$$SpringCGLIB$$0.getProductsStatusTrueAndDeleteFalse(<generated>)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.controller.ProductController.getProductsStatusTrue(ProductController.java:25)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:724)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.controller.ProductController$$SpringCGLIB$$0.getProductsStatusTrue(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.filters.AuthTokenFilter.doFilterInternal(AuthTokenFilter.java:103)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1575)
Caused by: org.hibernate.exception.SQLGrammarException: JDBC exception executing SQL [select p1_0.id,p1_0.content,p1_0.deleted,p1_0.description,p1_0.img_url,p1_0.name,p1_0.released_by,p1_0.released_date,p1_0.status,p1_0.updated_by,p1_0.updated_date from product p1_0 where p1_0.status and not(p1_0.deleted)] [ERROR: relation "product" does not exist
  Position: 169] [n/a]
	at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:91)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:58)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:94)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:268)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.getResultSet(DeferredResultSetAccess.java:171)
	at org.hibernate.sql.results.jdbc.internal.JdbcValuesResultSetImpl.<init>(JdbcValuesResultSetImpl.java:74)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.resolveJdbcValuesSource(JdbcSelectExecutorStandardImpl.java:355)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.doExecuteQuery(JdbcSelectExecutorStandardImpl.java:137)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.executeQuery(JdbcSelectExecutorStandardImpl.java:102)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.executeQuery(JdbcSelectExecutor.java:91)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:165)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.lambda$new$1(ConcreteSqmSelectQueryPlan.java:152)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.withCacheableSqmInterpretation(ConcreteSqmSelectQueryPlan.java:442)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.performList(ConcreteSqmSelectQueryPlan.java:362)
	at org.hibernate.query.sqm.internal.QuerySqmImpl.doList(QuerySqmImpl.java:380)
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:143)
	at org.hibernate.query.Query.getResultList(Query.java:120)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$CollectionExecution.doExecute(JpaQueryExecution.java:130)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:93)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:152)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:140)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:170)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	... 118 more
Caused by: org.postgresql.util.PSQLException: ERROR: relation "product" does not exist
  Position: 169
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2733)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2420)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:372)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:517)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:434)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:194)
	at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:137)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeQuery(ProxyPreparedStatement.java:52)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeQuery(HikariProxyPreparedStatement.java)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:250)
	... 146 more
2025-05-26 18:23:52 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHP
2025-05-26 18:23:52 ERROR AuthTokenFilter:101 - Cannot set user authentication: JDBC exception executing SQL [select u1_0.id,u1_0.created_by,u1_0.created_date,u1_0.deleted,u1_0.enabled,u1_0.password_encrypted,u1_0.updated_by,u1_0.updated_date,u1_0.username,u1_1.role_id from users u1_0 left join roles_users u1_1 on u1_0.id=u1_1.user_id where u1_0.username=?] [ERROR: relation "users" does not exist
  Position: 166] [n/a]; SQL [n/a]
org.springframework.dao.InvalidDataAccessResourceUsageException: JDBC exception executing SQL [select u1_0.id,u1_0.created_by,u1_0.created_date,u1_0.deleted,u1_0.enabled,u1_0.password_encrypted,u1_0.updated_by,u1_0.updated_date,u1_0.username,u1_1.role_id from users u1_0 left join roles_users u1_1 on u1_0.id=u1_1.user_id where u1_0.username=?] [ERROR: relation "users" does not exist
  Position: 166] [n/a]; SQL [n/a]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:281)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:256)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:241)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560)
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:136)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy4/jdk.proxy4.$Proxy150.findByUsername(Unknown Source)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.UserDetailsServiceImpl.loadUserByUsername(UserDetailsServiceImpl.java:20)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.UserDetailsServiceImpl$$SpringCGLIB$$0.loadUserByUsername(<generated>)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.filters.AuthTokenFilter.doFilterInternal(AuthTokenFilter.java:66)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1575)
Caused by: org.hibernate.exception.SQLGrammarException: JDBC exception executing SQL [select u1_0.id,u1_0.created_by,u1_0.created_date,u1_0.deleted,u1_0.enabled,u1_0.password_encrypted,u1_0.updated_by,u1_0.updated_date,u1_0.username,u1_1.role_id from users u1_0 left join roles_users u1_1 on u1_0.id=u1_1.user_id where u1_0.username=?] [ERROR: relation "users" does not exist
  Position: 166] [n/a]
	at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:91)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:58)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:94)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:268)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.getResultSet(DeferredResultSetAccess.java:171)
	at org.hibernate.sql.results.jdbc.internal.JdbcValuesResultSetImpl.<init>(JdbcValuesResultSetImpl.java:74)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.resolveJdbcValuesSource(JdbcSelectExecutorStandardImpl.java:355)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.doExecuteQuery(JdbcSelectExecutorStandardImpl.java:137)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.executeQuery(JdbcSelectExecutorStandardImpl.java:102)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.executeQuery(JdbcSelectExecutor.java:91)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:165)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.lambda$new$1(ConcreteSqmSelectQueryPlan.java:152)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.withCacheableSqmInterpretation(ConcreteSqmSelectQueryPlan.java:442)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.performList(ConcreteSqmSelectQueryPlan.java:362)
	at org.hibernate.query.sqm.internal.QuerySqmImpl.doList(QuerySqmImpl.java:380)
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:143)
	at org.hibernate.query.spi.AbstractSelectionQuery.getSingleResult(AbstractSelectionQuery.java:275)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$SingleEntityExecution.doExecute(JpaQueryExecution.java:224)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:93)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:152)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:140)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:170)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	... 77 more
Caused by: org.postgresql.util.PSQLException: ERROR: relation "users" does not exist
  Position: 166
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2733)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2420)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:372)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:517)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:434)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:194)
	at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:137)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeQuery(ProxyPreparedStatement.java:52)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeQuery(HikariProxyPreparedStatement.java)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:250)
	... 105 more
2025-05-26 18:23:52 ERROR ProductServiceImpl:93 - Error get all products status true
org.springframework.dao.InvalidDataAccessResourceUsageException: JDBC exception executing SQL [select p1_0.id,p1_0.content,p1_0.deleted,p1_0.description,p1_0.img_url,p1_0.name,p1_0.released_by,p1_0.released_date,p1_0.status,p1_0.updated_by,p1_0.updated_date from product p1_0 where p1_0.status and not(p1_0.deleted)] [ERROR: relation "product" does not exist
  Position: 169] [n/a]; SQL [n/a]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:281)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:256)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:241)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560)
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:136)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy4/jdk.proxy4.$Proxy170.findByStatusTrueAndDeletedFalse(Unknown Source)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.ProductServiceImpl.getProductsStatusTrueAndDeleteFalse(ProductServiceImpl.java:91)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:724)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.ProductServiceImpl$$SpringCGLIB$$0.getProductsStatusTrueAndDeleteFalse(<generated>)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.controller.ProductController.getProductsStatusTrue(ProductController.java:25)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:724)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.controller.ProductController$$SpringCGLIB$$0.getProductsStatusTrue(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.filters.AuthTokenFilter.doFilterInternal(AuthTokenFilter.java:103)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1575)
Caused by: org.hibernate.exception.SQLGrammarException: JDBC exception executing SQL [select p1_0.id,p1_0.content,p1_0.deleted,p1_0.description,p1_0.img_url,p1_0.name,p1_0.released_by,p1_0.released_date,p1_0.status,p1_0.updated_by,p1_0.updated_date from product p1_0 where p1_0.status and not(p1_0.deleted)] [ERROR: relation "product" does not exist
  Position: 169] [n/a]
	at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:91)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:58)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:94)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:268)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.getResultSet(DeferredResultSetAccess.java:171)
	at org.hibernate.sql.results.jdbc.internal.JdbcValuesResultSetImpl.<init>(JdbcValuesResultSetImpl.java:74)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.resolveJdbcValuesSource(JdbcSelectExecutorStandardImpl.java:355)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.doExecuteQuery(JdbcSelectExecutorStandardImpl.java:137)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.executeQuery(JdbcSelectExecutorStandardImpl.java:102)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.executeQuery(JdbcSelectExecutor.java:91)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:165)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.lambda$new$1(ConcreteSqmSelectQueryPlan.java:152)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.withCacheableSqmInterpretation(ConcreteSqmSelectQueryPlan.java:442)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.performList(ConcreteSqmSelectQueryPlan.java:362)
	at org.hibernate.query.sqm.internal.QuerySqmImpl.doList(QuerySqmImpl.java:380)
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:143)
	at org.hibernate.query.Query.getResultList(Query.java:120)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$CollectionExecution.doExecute(JpaQueryExecution.java:130)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:93)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:152)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:140)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:170)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	... 118 more
Caused by: org.postgresql.util.PSQLException: ERROR: relation "product" does not exist
  Position: 169
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2733)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2420)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:372)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:517)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:434)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:194)
	at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:137)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeQuery(ProxyPreparedStatement.java:52)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeQuery(HikariProxyPreparedStatement.java)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:250)
	... 146 more
2025-05-26 18:23:52 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHP
2025-05-26 18:23:52 ERROR AuthTokenFilter:101 - Cannot set user authentication: JDBC exception executing SQL [select u1_0.id,u1_0.created_by,u1_0.created_date,u1_0.deleted,u1_0.enabled,u1_0.password_encrypted,u1_0.updated_by,u1_0.updated_date,u1_0.username,u1_1.role_id from users u1_0 left join roles_users u1_1 on u1_0.id=u1_1.user_id where u1_0.username=?] [ERROR: relation "users" does not exist
  Position: 166] [n/a]; SQL [n/a]
org.springframework.dao.InvalidDataAccessResourceUsageException: JDBC exception executing SQL [select u1_0.id,u1_0.created_by,u1_0.created_date,u1_0.deleted,u1_0.enabled,u1_0.password_encrypted,u1_0.updated_by,u1_0.updated_date,u1_0.username,u1_1.role_id from users u1_0 left join roles_users u1_1 on u1_0.id=u1_1.user_id where u1_0.username=?] [ERROR: relation "users" does not exist
  Position: 166] [n/a]; SQL [n/a]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:281)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:256)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:241)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560)
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:136)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy4/jdk.proxy4.$Proxy150.findByUsername(Unknown Source)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.UserDetailsServiceImpl.loadUserByUsername(UserDetailsServiceImpl.java:20)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.UserDetailsServiceImpl$$SpringCGLIB$$0.loadUserByUsername(<generated>)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.filters.AuthTokenFilter.doFilterInternal(AuthTokenFilter.java:66)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1575)
Caused by: org.hibernate.exception.SQLGrammarException: JDBC exception executing SQL [select u1_0.id,u1_0.created_by,u1_0.created_date,u1_0.deleted,u1_0.enabled,u1_0.password_encrypted,u1_0.updated_by,u1_0.updated_date,u1_0.username,u1_1.role_id from users u1_0 left join roles_users u1_1 on u1_0.id=u1_1.user_id where u1_0.username=?] [ERROR: relation "users" does not exist
  Position: 166] [n/a]
	at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:91)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:58)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:94)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:268)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.getResultSet(DeferredResultSetAccess.java:171)
	at org.hibernate.sql.results.jdbc.internal.JdbcValuesResultSetImpl.<init>(JdbcValuesResultSetImpl.java:74)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.resolveJdbcValuesSource(JdbcSelectExecutorStandardImpl.java:355)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.doExecuteQuery(JdbcSelectExecutorStandardImpl.java:137)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.executeQuery(JdbcSelectExecutorStandardImpl.java:102)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.executeQuery(JdbcSelectExecutor.java:91)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:165)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.lambda$new$1(ConcreteSqmSelectQueryPlan.java:152)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.withCacheableSqmInterpretation(ConcreteSqmSelectQueryPlan.java:442)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.performList(ConcreteSqmSelectQueryPlan.java:362)
	at org.hibernate.query.sqm.internal.QuerySqmImpl.doList(QuerySqmImpl.java:380)
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:143)
	at org.hibernate.query.spi.AbstractSelectionQuery.getSingleResult(AbstractSelectionQuery.java:275)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$SingleEntityExecution.doExecute(JpaQueryExecution.java:224)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:93)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:152)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:140)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:170)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	... 77 more
Caused by: org.postgresql.util.PSQLException: ERROR: relation "users" does not exist
  Position: 166
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2733)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2420)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:372)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:517)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:434)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:194)
	at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:137)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeQuery(ProxyPreparedStatement.java:52)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeQuery(HikariProxyPreparedStatement.java)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:250)
	... 105 more
2025-05-26 18:23:52 ERROR ProductServiceImpl:93 - Error get all products status true
org.springframework.dao.InvalidDataAccessResourceUsageException: JDBC exception executing SQL [select p1_0.id,p1_0.content,p1_0.deleted,p1_0.description,p1_0.img_url,p1_0.name,p1_0.released_by,p1_0.released_date,p1_0.status,p1_0.updated_by,p1_0.updated_date from product p1_0 where p1_0.status and not(p1_0.deleted)] [ERROR: relation "product" does not exist
  Position: 169] [n/a]; SQL [n/a]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:281)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:256)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:241)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560)
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:136)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy4/jdk.proxy4.$Proxy170.findByStatusTrueAndDeletedFalse(Unknown Source)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.ProductServiceImpl.getProductsStatusTrueAndDeleteFalse(ProductServiceImpl.java:91)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:724)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.ProductServiceImpl$$SpringCGLIB$$0.getProductsStatusTrueAndDeleteFalse(<generated>)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.controller.ProductController.getProductsStatusTrue(ProductController.java:25)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:724)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.controller.ProductController$$SpringCGLIB$$0.getProductsStatusTrue(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.filters.AuthTokenFilter.doFilterInternal(AuthTokenFilter.java:103)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1575)
Caused by: org.hibernate.exception.SQLGrammarException: JDBC exception executing SQL [select p1_0.id,p1_0.content,p1_0.deleted,p1_0.description,p1_0.img_url,p1_0.name,p1_0.released_by,p1_0.released_date,p1_0.status,p1_0.updated_by,p1_0.updated_date from product p1_0 where p1_0.status and not(p1_0.deleted)] [ERROR: relation "product" does not exist
  Position: 169] [n/a]
	at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:91)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:58)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:94)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:268)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.getResultSet(DeferredResultSetAccess.java:171)
	at org.hibernate.sql.results.jdbc.internal.JdbcValuesResultSetImpl.<init>(JdbcValuesResultSetImpl.java:74)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.resolveJdbcValuesSource(JdbcSelectExecutorStandardImpl.java:355)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.doExecuteQuery(JdbcSelectExecutorStandardImpl.java:137)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.executeQuery(JdbcSelectExecutorStandardImpl.java:102)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.executeQuery(JdbcSelectExecutor.java:91)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:165)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.lambda$new$1(ConcreteSqmSelectQueryPlan.java:152)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.withCacheableSqmInterpretation(ConcreteSqmSelectQueryPlan.java:442)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.performList(ConcreteSqmSelectQueryPlan.java:362)
	at org.hibernate.query.sqm.internal.QuerySqmImpl.doList(QuerySqmImpl.java:380)
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:143)
	at org.hibernate.query.Query.getResultList(Query.java:120)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$CollectionExecution.doExecute(JpaQueryExecution.java:130)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:93)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:152)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:140)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:170)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	... 118 more
Caused by: org.postgresql.util.PSQLException: ERROR: relation "product" does not exist
  Position: 169
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2733)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2420)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:372)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:517)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:434)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:194)
	at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:137)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeQuery(ProxyPreparedStatement.java:52)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeQuery(HikariProxyPreparedStatement.java)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:250)
	... 146 more
2025-05-26 18:23:53 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHP
2025-05-26 18:23:53 ERROR AuthTokenFilter:101 - Cannot set user authentication: JDBC exception executing SQL [select u1_0.id,u1_0.created_by,u1_0.created_date,u1_0.deleted,u1_0.enabled,u1_0.password_encrypted,u1_0.updated_by,u1_0.updated_date,u1_0.username,u1_1.role_id from users u1_0 left join roles_users u1_1 on u1_0.id=u1_1.user_id where u1_0.username=?] [ERROR: relation "users" does not exist
  Position: 166] [n/a]; SQL [n/a]
org.springframework.dao.InvalidDataAccessResourceUsageException: JDBC exception executing SQL [select u1_0.id,u1_0.created_by,u1_0.created_date,u1_0.deleted,u1_0.enabled,u1_0.password_encrypted,u1_0.updated_by,u1_0.updated_date,u1_0.username,u1_1.role_id from users u1_0 left join roles_users u1_1 on u1_0.id=u1_1.user_id where u1_0.username=?] [ERROR: relation "users" does not exist
  Position: 166] [n/a]; SQL [n/a]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:281)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:256)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:241)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560)
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:136)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy4/jdk.proxy4.$Proxy150.findByUsername(Unknown Source)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.UserDetailsServiceImpl.loadUserByUsername(UserDetailsServiceImpl.java:20)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.UserDetailsServiceImpl$$SpringCGLIB$$0.loadUserByUsername(<generated>)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.filters.AuthTokenFilter.doFilterInternal(AuthTokenFilter.java:66)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1575)
Caused by: org.hibernate.exception.SQLGrammarException: JDBC exception executing SQL [select u1_0.id,u1_0.created_by,u1_0.created_date,u1_0.deleted,u1_0.enabled,u1_0.password_encrypted,u1_0.updated_by,u1_0.updated_date,u1_0.username,u1_1.role_id from users u1_0 left join roles_users u1_1 on u1_0.id=u1_1.user_id where u1_0.username=?] [ERROR: relation "users" does not exist
  Position: 166] [n/a]
	at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:91)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:58)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:94)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:268)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.getResultSet(DeferredResultSetAccess.java:171)
	at org.hibernate.sql.results.jdbc.internal.JdbcValuesResultSetImpl.<init>(JdbcValuesResultSetImpl.java:74)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.resolveJdbcValuesSource(JdbcSelectExecutorStandardImpl.java:355)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.doExecuteQuery(JdbcSelectExecutorStandardImpl.java:137)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.executeQuery(JdbcSelectExecutorStandardImpl.java:102)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.executeQuery(JdbcSelectExecutor.java:91)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:165)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.lambda$new$1(ConcreteSqmSelectQueryPlan.java:152)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.withCacheableSqmInterpretation(ConcreteSqmSelectQueryPlan.java:442)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.performList(ConcreteSqmSelectQueryPlan.java:362)
	at org.hibernate.query.sqm.internal.QuerySqmImpl.doList(QuerySqmImpl.java:380)
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:143)
	at org.hibernate.query.spi.AbstractSelectionQuery.getSingleResult(AbstractSelectionQuery.java:275)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$SingleEntityExecution.doExecute(JpaQueryExecution.java:224)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:93)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:152)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:140)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:170)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	... 77 more
Caused by: org.postgresql.util.PSQLException: ERROR: relation "users" does not exist
  Position: 166
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2733)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2420)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:372)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:517)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:434)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:194)
	at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:137)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeQuery(ProxyPreparedStatement.java:52)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeQuery(HikariProxyPreparedStatement.java)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:250)
	... 105 more
2025-05-26 18:23:53 ERROR ProductServiceImpl:93 - Error get all products status true
org.springframework.dao.InvalidDataAccessResourceUsageException: JDBC exception executing SQL [select p1_0.id,p1_0.content,p1_0.deleted,p1_0.description,p1_0.img_url,p1_0.name,p1_0.released_by,p1_0.released_date,p1_0.status,p1_0.updated_by,p1_0.updated_date from product p1_0 where p1_0.status and not(p1_0.deleted)] [ERROR: relation "product" does not exist
  Position: 169] [n/a]; SQL [n/a]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:281)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:256)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:241)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560)
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:136)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy4/jdk.proxy4.$Proxy170.findByStatusTrueAndDeletedFalse(Unknown Source)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.ProductServiceImpl.getProductsStatusTrueAndDeleteFalse(ProductServiceImpl.java:91)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:724)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.ProductServiceImpl$$SpringCGLIB$$0.getProductsStatusTrueAndDeleteFalse(<generated>)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.controller.ProductController.getProductsStatusTrue(ProductController.java:25)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:724)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.controller.ProductController$$SpringCGLIB$$0.getProductsStatusTrue(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.filters.AuthTokenFilter.doFilterInternal(AuthTokenFilter.java:103)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1575)
Caused by: org.hibernate.exception.SQLGrammarException: JDBC exception executing SQL [select p1_0.id,p1_0.content,p1_0.deleted,p1_0.description,p1_0.img_url,p1_0.name,p1_0.released_by,p1_0.released_date,p1_0.status,p1_0.updated_by,p1_0.updated_date from product p1_0 where p1_0.status and not(p1_0.deleted)] [ERROR: relation "product" does not exist
  Position: 169] [n/a]
	at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:91)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:58)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:94)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:268)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.getResultSet(DeferredResultSetAccess.java:171)
	at org.hibernate.sql.results.jdbc.internal.JdbcValuesResultSetImpl.<init>(JdbcValuesResultSetImpl.java:74)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.resolveJdbcValuesSource(JdbcSelectExecutorStandardImpl.java:355)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.doExecuteQuery(JdbcSelectExecutorStandardImpl.java:137)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.executeQuery(JdbcSelectExecutorStandardImpl.java:102)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.executeQuery(JdbcSelectExecutor.java:91)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:165)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.lambda$new$1(ConcreteSqmSelectQueryPlan.java:152)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.withCacheableSqmInterpretation(ConcreteSqmSelectQueryPlan.java:442)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.performList(ConcreteSqmSelectQueryPlan.java:362)
	at org.hibernate.query.sqm.internal.QuerySqmImpl.doList(QuerySqmImpl.java:380)
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:143)
	at org.hibernate.query.Query.getResultList(Query.java:120)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$CollectionExecution.doExecute(JpaQueryExecution.java:130)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:93)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:152)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:140)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:170)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	... 118 more
Caused by: org.postgresql.util.PSQLException: ERROR: relation "product" does not exist
  Position: 169
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2733)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2420)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:372)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:517)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:434)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:194)
	at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:137)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeQuery(ProxyPreparedStatement.java:52)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeQuery(HikariProxyPreparedStatement.java)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:250)
	... 146 more
2025-05-26 18:23:53 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHP
2025-05-26 18:23:53 ERROR AuthTokenFilter:101 - Cannot set user authentication: JDBC exception executing SQL [select u1_0.id,u1_0.created_by,u1_0.created_date,u1_0.deleted,u1_0.enabled,u1_0.password_encrypted,u1_0.updated_by,u1_0.updated_date,u1_0.username,u1_1.role_id from users u1_0 left join roles_users u1_1 on u1_0.id=u1_1.user_id where u1_0.username=?] [ERROR: relation "users" does not exist
  Position: 166] [n/a]; SQL [n/a]
org.springframework.dao.InvalidDataAccessResourceUsageException: JDBC exception executing SQL [select u1_0.id,u1_0.created_by,u1_0.created_date,u1_0.deleted,u1_0.enabled,u1_0.password_encrypted,u1_0.updated_by,u1_0.updated_date,u1_0.username,u1_1.role_id from users u1_0 left join roles_users u1_1 on u1_0.id=u1_1.user_id where u1_0.username=?] [ERROR: relation "users" does not exist
  Position: 166] [n/a]; SQL [n/a]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:281)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:256)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:241)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560)
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:136)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy4/jdk.proxy4.$Proxy150.findByUsername(Unknown Source)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.UserDetailsServiceImpl.loadUserByUsername(UserDetailsServiceImpl.java:20)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.UserDetailsServiceImpl$$SpringCGLIB$$0.loadUserByUsername(<generated>)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.filters.AuthTokenFilter.doFilterInternal(AuthTokenFilter.java:66)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1575)
Caused by: org.hibernate.exception.SQLGrammarException: JDBC exception executing SQL [select u1_0.id,u1_0.created_by,u1_0.created_date,u1_0.deleted,u1_0.enabled,u1_0.password_encrypted,u1_0.updated_by,u1_0.updated_date,u1_0.username,u1_1.role_id from users u1_0 left join roles_users u1_1 on u1_0.id=u1_1.user_id where u1_0.username=?] [ERROR: relation "users" does not exist
  Position: 166] [n/a]
	at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:91)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:58)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:94)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:268)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.getResultSet(DeferredResultSetAccess.java:171)
	at org.hibernate.sql.results.jdbc.internal.JdbcValuesResultSetImpl.<init>(JdbcValuesResultSetImpl.java:74)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.resolveJdbcValuesSource(JdbcSelectExecutorStandardImpl.java:355)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.doExecuteQuery(JdbcSelectExecutorStandardImpl.java:137)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.executeQuery(JdbcSelectExecutorStandardImpl.java:102)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.executeQuery(JdbcSelectExecutor.java:91)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:165)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.lambda$new$1(ConcreteSqmSelectQueryPlan.java:152)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.withCacheableSqmInterpretation(ConcreteSqmSelectQueryPlan.java:442)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.performList(ConcreteSqmSelectQueryPlan.java:362)
	at org.hibernate.query.sqm.internal.QuerySqmImpl.doList(QuerySqmImpl.java:380)
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:143)
	at org.hibernate.query.spi.AbstractSelectionQuery.getSingleResult(AbstractSelectionQuery.java:275)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$SingleEntityExecution.doExecute(JpaQueryExecution.java:224)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:93)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:152)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:140)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:170)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	... 77 more
Caused by: org.postgresql.util.PSQLException: ERROR: relation "users" does not exist
  Position: 166
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2733)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2420)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:372)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:517)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:434)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:194)
	at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:137)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeQuery(ProxyPreparedStatement.java:52)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeQuery(HikariProxyPreparedStatement.java)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:250)
	... 105 more
2025-05-26 18:23:53 ERROR ProductServiceImpl:93 - Error get all products status true
org.springframework.dao.InvalidDataAccessResourceUsageException: JDBC exception executing SQL [select p1_0.id,p1_0.content,p1_0.deleted,p1_0.description,p1_0.img_url,p1_0.name,p1_0.released_by,p1_0.released_date,p1_0.status,p1_0.updated_by,p1_0.updated_date from product p1_0 where p1_0.status and not(p1_0.deleted)] [ERROR: relation "product" does not exist
  Position: 169] [n/a]; SQL [n/a]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:281)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:256)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:241)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560)
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:136)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy4/jdk.proxy4.$Proxy170.findByStatusTrueAndDeletedFalse(Unknown Source)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.ProductServiceImpl.getProductsStatusTrueAndDeleteFalse(ProductServiceImpl.java:91)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:724)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.ProductServiceImpl$$SpringCGLIB$$0.getProductsStatusTrueAndDeleteFalse(<generated>)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.controller.ProductController.getProductsStatusTrue(ProductController.java:25)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:724)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.controller.ProductController$$SpringCGLIB$$0.getProductsStatusTrue(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.filters.AuthTokenFilter.doFilterInternal(AuthTokenFilter.java:103)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1575)
Caused by: org.hibernate.exception.SQLGrammarException: JDBC exception executing SQL [select p1_0.id,p1_0.content,p1_0.deleted,p1_0.description,p1_0.img_url,p1_0.name,p1_0.released_by,p1_0.released_date,p1_0.status,p1_0.updated_by,p1_0.updated_date from product p1_0 where p1_0.status and not(p1_0.deleted)] [ERROR: relation "product" does not exist
  Position: 169] [n/a]
	at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:91)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:58)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:94)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:268)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.getResultSet(DeferredResultSetAccess.java:171)
	at org.hibernate.sql.results.jdbc.internal.JdbcValuesResultSetImpl.<init>(JdbcValuesResultSetImpl.java:74)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.resolveJdbcValuesSource(JdbcSelectExecutorStandardImpl.java:355)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.doExecuteQuery(JdbcSelectExecutorStandardImpl.java:137)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.executeQuery(JdbcSelectExecutorStandardImpl.java:102)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.executeQuery(JdbcSelectExecutor.java:91)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:165)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.lambda$new$1(ConcreteSqmSelectQueryPlan.java:152)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.withCacheableSqmInterpretation(ConcreteSqmSelectQueryPlan.java:442)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.performList(ConcreteSqmSelectQueryPlan.java:362)
	at org.hibernate.query.sqm.internal.QuerySqmImpl.doList(QuerySqmImpl.java:380)
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:143)
	at org.hibernate.query.Query.getResultList(Query.java:120)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$CollectionExecution.doExecute(JpaQueryExecution.java:130)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:93)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:152)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:140)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:170)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	... 118 more
Caused by: org.postgresql.util.PSQLException: ERROR: relation "product" does not exist
  Position: 169
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2733)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2420)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:372)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:517)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:434)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:194)
	at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:137)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeQuery(ProxyPreparedStatement.java:52)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeQuery(HikariProxyPreparedStatement.java)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:250)
	... 146 more
2025-05-26 18:24:55 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHP
2025-05-26 18:24:55 ERROR AuthTokenFilter:101 - Cannot set user authentication: User Not Found with username: LHP
org.springframework.security.core.userdetails.UsernameNotFoundException: User Not Found with username: LHP
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.UserDetailsServiceImpl.lambda$loadUserByUsername$0(UserDetailsServiceImpl.java:21)
	at java.base/java.util.Optional.orElseThrow(Optional.java:403)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.UserDetailsServiceImpl.loadUserByUsername(UserDetailsServiceImpl.java:21)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.UserDetailsServiceImpl$$SpringCGLIB$$0.loadUserByUsername(<generated>)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.filters.AuthTokenFilter.doFilterInternal(AuthTokenFilter.java:66)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1575)
2025-05-26 18:24:55 ERROR ProductServiceImpl:93 - Error get all products status true
org.springframework.dao.InvalidDataAccessResourceUsageException: JDBC exception executing SQL [select iid1_0.product_id,iid1_0.id,iid1_0.import_invoice_id,ii1_0.id,ib1_0.id,ib1_0.created_by,ib1_0.created_date,ib1_0.deleted,ib1_0.enabled,ib1_0.password_encrypted,ib1_0.updated_by,ib1_0.updated_date,ib1_0.username,ib1_1.role_id,r1_0.id,r1_0.name,ii1_0.import_date,ii1_0.total_price,iid1_0.import_price,iid1_0.quantity,iid1_0.size_id,s1_0.id,s1_0.released_by,s1_0.released_date,s1_0.size,s1_0.status,s1_0.stock,s1_0.updated_by,s1_0.updated_date,s1_0.variation_id,iid1_0.variation_id,v2_0.id,v2_0.color,v2_0.color_code,v2_0.product_id,v2_0.released_by,v2_0.released_date,v2_0.status,v2_0.updated_by,v2_0.updated_date from import_invoice_details iid1_0 left join import_invoices ii1_0 on ii1_0.id=iid1_0.import_invoice_id left join users ib1_0 on ib1_0.id=ii1_0.import_by left join roles_users ib1_1 on ib1_0.id=ib1_1.user_id left join roles r1_0 on r1_0.id=ib1_1.role_id left join size s1_0 on s1_0.id=iid1_0.size_id left join variation v2_0 on v2_0.id=iid1_0.variation_id where iid1_0.product_id=?] [ERROR: relation "import_invoice_details" does not exist
  Position: 625] [n/a]; SQL [n/a]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:281)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:256)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:241)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560)
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:136)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy4/jdk.proxy4.$Proxy170.findByStatusTrueAndDeletedFalse(Unknown Source)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.ProductServiceImpl.getProductsStatusTrueAndDeleteFalse(ProductServiceImpl.java:91)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:724)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.ProductServiceImpl$$SpringCGLIB$$0.getProductsStatusTrueAndDeleteFalse(<generated>)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.controller.ProductController.getProductsStatusTrue(ProductController.java:25)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:724)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.controller.ProductController$$SpringCGLIB$$0.getProductsStatusTrue(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.filters.AuthTokenFilter.doFilterInternal(AuthTokenFilter.java:103)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1575)
Caused by: org.hibernate.exception.SQLGrammarException: JDBC exception executing SQL [select iid1_0.product_id,iid1_0.id,iid1_0.import_invoice_id,ii1_0.id,ib1_0.id,ib1_0.created_by,ib1_0.created_date,ib1_0.deleted,ib1_0.enabled,ib1_0.password_encrypted,ib1_0.updated_by,ib1_0.updated_date,ib1_0.username,ib1_1.role_id,r1_0.id,r1_0.name,ii1_0.import_date,ii1_0.total_price,iid1_0.import_price,iid1_0.quantity,iid1_0.size_id,s1_0.id,s1_0.released_by,s1_0.released_date,s1_0.size,s1_0.status,s1_0.stock,s1_0.updated_by,s1_0.updated_date,s1_0.variation_id,iid1_0.variation_id,v2_0.id,v2_0.color,v2_0.color_code,v2_0.product_id,v2_0.released_by,v2_0.released_date,v2_0.status,v2_0.updated_by,v2_0.updated_date from import_invoice_details iid1_0 left join import_invoices ii1_0 on ii1_0.id=iid1_0.import_invoice_id left join users ib1_0 on ib1_0.id=ii1_0.import_by left join roles_users ib1_1 on ib1_0.id=ib1_1.user_id left join roles r1_0 on r1_0.id=ib1_1.role_id left join size s1_0 on s1_0.id=iid1_0.size_id left join variation v2_0 on v2_0.id=iid1_0.variation_id where iid1_0.product_id=?] [ERROR: relation "import_invoice_details" does not exist
  Position: 625] [n/a]
	at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:91)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:58)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:94)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:268)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.getResultSet(DeferredResultSetAccess.java:171)
	at org.hibernate.sql.results.jdbc.internal.JdbcValuesResultSetImpl.<init>(JdbcValuesResultSetImpl.java:74)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.resolveJdbcValuesSource(JdbcSelectExecutorStandardImpl.java:355)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.doExecuteQuery(JdbcSelectExecutorStandardImpl.java:137)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.executeQuery(JdbcSelectExecutorStandardImpl.java:102)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.executeQuery(JdbcSelectExecutor.java:91)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:165)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:142)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:132)
	at org.hibernate.loader.ast.internal.CollectionLoaderSingleKey.load(CollectionLoaderSingleKey.java:120)
	at org.hibernate.persister.collection.AbstractCollectionPersister.initialize(AbstractCollectionPersister.java:748)
	at org.hibernate.event.internal.DefaultInitializeCollectionEventListener.onInitializeCollection(DefaultInitializeCollectionEventListener.java:69)
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:127)
	at org.hibernate.internal.SessionImpl.initializeCollection(SessionImpl.java:1724)
	at org.hibernate.collection.spi.AbstractPersistentCollection.lambda$initialize$3(AbstractPersistentCollection.java:616)
	at org.hibernate.collection.spi.AbstractPersistentCollection.withTemporarySessionIfNeeded(AbstractPersistentCollection.java:265)
	at org.hibernate.collection.spi.AbstractPersistentCollection.initialize(AbstractPersistentCollection.java:614)
	at org.hibernate.collection.spi.AbstractPersistentCollection.forceInitialization(AbstractPersistentCollection.java:817)
	at org.hibernate.engine.internal.StatefulPersistenceContext.initializeNonLazyCollections(StatefulPersistenceContext.java:1169)
	at org.hibernate.engine.internal.StatefulPersistenceContext.initializeNonLazyCollections(StatefulPersistenceContext.java:1155)
	at org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:224)
	at org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:35)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.doExecuteQuery(JdbcSelectExecutorStandardImpl.java:224)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.executeQuery(JdbcSelectExecutorStandardImpl.java:102)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.executeQuery(JdbcSelectExecutor.java:91)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:165)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.lambda$new$1(ConcreteSqmSelectQueryPlan.java:152)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.withCacheableSqmInterpretation(ConcreteSqmSelectQueryPlan.java:442)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.performList(ConcreteSqmSelectQueryPlan.java:362)
	at org.hibernate.query.sqm.internal.QuerySqmImpl.doList(QuerySqmImpl.java:380)
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:143)
	at org.hibernate.query.Query.getResultList(Query.java:120)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$CollectionExecution.doExecute(JpaQueryExecution.java:130)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:93)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:152)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:140)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:170)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	... 118 more
Caused by: org.postgresql.util.PSQLException: ERROR: relation "import_invoice_details" does not exist
  Position: 625
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2733)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2420)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:372)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:517)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:434)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:194)
	at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:137)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeQuery(ProxyPreparedStatement.java:52)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeQuery(HikariProxyPreparedStatement.java)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:250)
	... 165 more
2025-05-26 18:24:56 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHP
2025-05-26 18:24:56 ERROR AuthTokenFilter:101 - Cannot set user authentication: User Not Found with username: LHP
org.springframework.security.core.userdetails.UsernameNotFoundException: User Not Found with username: LHP
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.UserDetailsServiceImpl.lambda$loadUserByUsername$0(UserDetailsServiceImpl.java:21)
	at java.base/java.util.Optional.orElseThrow(Optional.java:403)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.UserDetailsServiceImpl.loadUserByUsername(UserDetailsServiceImpl.java:21)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.UserDetailsServiceImpl$$SpringCGLIB$$0.loadUserByUsername(<generated>)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.filters.AuthTokenFilter.doFilterInternal(AuthTokenFilter.java:66)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1575)
2025-05-26 18:24:56 ERROR ProductServiceImpl:93 - Error get all products status true
org.springframework.dao.InvalidDataAccessResourceUsageException: JDBC exception executing SQL [select iid1_0.product_id,iid1_0.id,iid1_0.import_invoice_id,ii1_0.id,ib1_0.id,ib1_0.created_by,ib1_0.created_date,ib1_0.deleted,ib1_0.enabled,ib1_0.password_encrypted,ib1_0.updated_by,ib1_0.updated_date,ib1_0.username,ib1_1.role_id,r1_0.id,r1_0.name,ii1_0.import_date,ii1_0.total_price,iid1_0.import_price,iid1_0.quantity,iid1_0.size_id,s1_0.id,s1_0.released_by,s1_0.released_date,s1_0.size,s1_0.status,s1_0.stock,s1_0.updated_by,s1_0.updated_date,s1_0.variation_id,iid1_0.variation_id,v2_0.id,v2_0.color,v2_0.color_code,v2_0.product_id,v2_0.released_by,v2_0.released_date,v2_0.status,v2_0.updated_by,v2_0.updated_date from import_invoice_details iid1_0 left join import_invoices ii1_0 on ii1_0.id=iid1_0.import_invoice_id left join users ib1_0 on ib1_0.id=ii1_0.import_by left join roles_users ib1_1 on ib1_0.id=ib1_1.user_id left join roles r1_0 on r1_0.id=ib1_1.role_id left join size s1_0 on s1_0.id=iid1_0.size_id left join variation v2_0 on v2_0.id=iid1_0.variation_id where iid1_0.product_id=?] [ERROR: relation "import_invoice_details" does not exist
  Position: 625] [n/a]; SQL [n/a]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:281)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:256)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:241)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560)
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:136)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy4/jdk.proxy4.$Proxy170.findByStatusTrueAndDeletedFalse(Unknown Source)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.ProductServiceImpl.getProductsStatusTrueAndDeleteFalse(ProductServiceImpl.java:91)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:724)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.ProductServiceImpl$$SpringCGLIB$$0.getProductsStatusTrueAndDeleteFalse(<generated>)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.controller.ProductController.getProductsStatusTrue(ProductController.java:25)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:724)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.controller.ProductController$$SpringCGLIB$$0.getProductsStatusTrue(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.filters.AuthTokenFilter.doFilterInternal(AuthTokenFilter.java:103)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1575)
Caused by: org.hibernate.exception.SQLGrammarException: JDBC exception executing SQL [select iid1_0.product_id,iid1_0.id,iid1_0.import_invoice_id,ii1_0.id,ib1_0.id,ib1_0.created_by,ib1_0.created_date,ib1_0.deleted,ib1_0.enabled,ib1_0.password_encrypted,ib1_0.updated_by,ib1_0.updated_date,ib1_0.username,ib1_1.role_id,r1_0.id,r1_0.name,ii1_0.import_date,ii1_0.total_price,iid1_0.import_price,iid1_0.quantity,iid1_0.size_id,s1_0.id,s1_0.released_by,s1_0.released_date,s1_0.size,s1_0.status,s1_0.stock,s1_0.updated_by,s1_0.updated_date,s1_0.variation_id,iid1_0.variation_id,v2_0.id,v2_0.color,v2_0.color_code,v2_0.product_id,v2_0.released_by,v2_0.released_date,v2_0.status,v2_0.updated_by,v2_0.updated_date from import_invoice_details iid1_0 left join import_invoices ii1_0 on ii1_0.id=iid1_0.import_invoice_id left join users ib1_0 on ib1_0.id=ii1_0.import_by left join roles_users ib1_1 on ib1_0.id=ib1_1.user_id left join roles r1_0 on r1_0.id=ib1_1.role_id left join size s1_0 on s1_0.id=iid1_0.size_id left join variation v2_0 on v2_0.id=iid1_0.variation_id where iid1_0.product_id=?] [ERROR: relation "import_invoice_details" does not exist
  Position: 625] [n/a]
	at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:91)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:58)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:94)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:268)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.getResultSet(DeferredResultSetAccess.java:171)
	at org.hibernate.sql.results.jdbc.internal.JdbcValuesResultSetImpl.<init>(JdbcValuesResultSetImpl.java:74)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.resolveJdbcValuesSource(JdbcSelectExecutorStandardImpl.java:355)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.doExecuteQuery(JdbcSelectExecutorStandardImpl.java:137)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.executeQuery(JdbcSelectExecutorStandardImpl.java:102)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.executeQuery(JdbcSelectExecutor.java:91)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:165)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:142)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:132)
	at org.hibernate.loader.ast.internal.CollectionLoaderSingleKey.load(CollectionLoaderSingleKey.java:120)
	at org.hibernate.persister.collection.AbstractCollectionPersister.initialize(AbstractCollectionPersister.java:748)
	at org.hibernate.event.internal.DefaultInitializeCollectionEventListener.onInitializeCollection(DefaultInitializeCollectionEventListener.java:69)
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:127)
	at org.hibernate.internal.SessionImpl.initializeCollection(SessionImpl.java:1724)
	at org.hibernate.collection.spi.AbstractPersistentCollection.lambda$initialize$3(AbstractPersistentCollection.java:616)
	at org.hibernate.collection.spi.AbstractPersistentCollection.withTemporarySessionIfNeeded(AbstractPersistentCollection.java:265)
	at org.hibernate.collection.spi.AbstractPersistentCollection.initialize(AbstractPersistentCollection.java:614)
	at org.hibernate.collection.spi.AbstractPersistentCollection.forceInitialization(AbstractPersistentCollection.java:817)
	at org.hibernate.engine.internal.StatefulPersistenceContext.initializeNonLazyCollections(StatefulPersistenceContext.java:1169)
	at org.hibernate.engine.internal.StatefulPersistenceContext.initializeNonLazyCollections(StatefulPersistenceContext.java:1155)
	at org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:224)
	at org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:35)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.doExecuteQuery(JdbcSelectExecutorStandardImpl.java:224)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.executeQuery(JdbcSelectExecutorStandardImpl.java:102)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.executeQuery(JdbcSelectExecutor.java:91)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:165)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.lambda$new$1(ConcreteSqmSelectQueryPlan.java:152)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.withCacheableSqmInterpretation(ConcreteSqmSelectQueryPlan.java:442)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.performList(ConcreteSqmSelectQueryPlan.java:362)
	at org.hibernate.query.sqm.internal.QuerySqmImpl.doList(QuerySqmImpl.java:380)
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:143)
	at org.hibernate.query.Query.getResultList(Query.java:120)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$CollectionExecution.doExecute(JpaQueryExecution.java:130)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:93)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:152)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:140)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:170)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	... 118 more
Caused by: org.postgresql.util.PSQLException: ERROR: relation "import_invoice_details" does not exist
  Position: 625
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2733)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2420)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:372)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:517)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:434)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:194)
	at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:137)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeQuery(ProxyPreparedStatement.java:52)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeQuery(HikariProxyPreparedStatement.java)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:250)
	... 165 more
2025-05-26 18:24:56 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHP
2025-05-26 18:24:56 ERROR AuthTokenFilter:101 - Cannot set user authentication: User Not Found with username: LHP
org.springframework.security.core.userdetails.UsernameNotFoundException: User Not Found with username: LHP
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.UserDetailsServiceImpl.lambda$loadUserByUsername$0(UserDetailsServiceImpl.java:21)
	at java.base/java.util.Optional.orElseThrow(Optional.java:403)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.UserDetailsServiceImpl.loadUserByUsername(UserDetailsServiceImpl.java:21)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.UserDetailsServiceImpl$$SpringCGLIB$$0.loadUserByUsername(<generated>)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.filters.AuthTokenFilter.doFilterInternal(AuthTokenFilter.java:66)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1575)
2025-05-26 18:24:56 ERROR ProductServiceImpl:93 - Error get all products status true
org.springframework.dao.InvalidDataAccessResourceUsageException: JDBC exception executing SQL [select iid1_0.product_id,iid1_0.id,iid1_0.import_invoice_id,ii1_0.id,ib1_0.id,ib1_0.created_by,ib1_0.created_date,ib1_0.deleted,ib1_0.enabled,ib1_0.password_encrypted,ib1_0.updated_by,ib1_0.updated_date,ib1_0.username,ib1_1.role_id,r1_0.id,r1_0.name,ii1_0.import_date,ii1_0.total_price,iid1_0.import_price,iid1_0.quantity,iid1_0.size_id,s1_0.id,s1_0.released_by,s1_0.released_date,s1_0.size,s1_0.status,s1_0.stock,s1_0.updated_by,s1_0.updated_date,s1_0.variation_id,iid1_0.variation_id,v2_0.id,v2_0.color,v2_0.color_code,v2_0.product_id,v2_0.released_by,v2_0.released_date,v2_0.status,v2_0.updated_by,v2_0.updated_date from import_invoice_details iid1_0 left join import_invoices ii1_0 on ii1_0.id=iid1_0.import_invoice_id left join users ib1_0 on ib1_0.id=ii1_0.import_by left join roles_users ib1_1 on ib1_0.id=ib1_1.user_id left join roles r1_0 on r1_0.id=ib1_1.role_id left join size s1_0 on s1_0.id=iid1_0.size_id left join variation v2_0 on v2_0.id=iid1_0.variation_id where iid1_0.product_id=?] [ERROR: relation "import_invoice_details" does not exist
  Position: 625] [n/a]; SQL [n/a]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:281)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:256)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:241)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560)
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:136)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy4/jdk.proxy4.$Proxy170.findByStatusTrueAndDeletedFalse(Unknown Source)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.ProductServiceImpl.getProductsStatusTrueAndDeleteFalse(ProductServiceImpl.java:91)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:724)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.ProductServiceImpl$$SpringCGLIB$$0.getProductsStatusTrueAndDeleteFalse(<generated>)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.controller.ProductController.getProductsStatusTrue(ProductController.java:25)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:724)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.controller.ProductController$$SpringCGLIB$$0.getProductsStatusTrue(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.filters.AuthTokenFilter.doFilterInternal(AuthTokenFilter.java:103)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1575)
Caused by: org.hibernate.exception.SQLGrammarException: JDBC exception executing SQL [select iid1_0.product_id,iid1_0.id,iid1_0.import_invoice_id,ii1_0.id,ib1_0.id,ib1_0.created_by,ib1_0.created_date,ib1_0.deleted,ib1_0.enabled,ib1_0.password_encrypted,ib1_0.updated_by,ib1_0.updated_date,ib1_0.username,ib1_1.role_id,r1_0.id,r1_0.name,ii1_0.import_date,ii1_0.total_price,iid1_0.import_price,iid1_0.quantity,iid1_0.size_id,s1_0.id,s1_0.released_by,s1_0.released_date,s1_0.size,s1_0.status,s1_0.stock,s1_0.updated_by,s1_0.updated_date,s1_0.variation_id,iid1_0.variation_id,v2_0.id,v2_0.color,v2_0.color_code,v2_0.product_id,v2_0.released_by,v2_0.released_date,v2_0.status,v2_0.updated_by,v2_0.updated_date from import_invoice_details iid1_0 left join import_invoices ii1_0 on ii1_0.id=iid1_0.import_invoice_id left join users ib1_0 on ib1_0.id=ii1_0.import_by left join roles_users ib1_1 on ib1_0.id=ib1_1.user_id left join roles r1_0 on r1_0.id=ib1_1.role_id left join size s1_0 on s1_0.id=iid1_0.size_id left join variation v2_0 on v2_0.id=iid1_0.variation_id where iid1_0.product_id=?] [ERROR: relation "import_invoice_details" does not exist
  Position: 625] [n/a]
	at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:91)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:58)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:94)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:268)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.getResultSet(DeferredResultSetAccess.java:171)
	at org.hibernate.sql.results.jdbc.internal.JdbcValuesResultSetImpl.<init>(JdbcValuesResultSetImpl.java:74)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.resolveJdbcValuesSource(JdbcSelectExecutorStandardImpl.java:355)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.doExecuteQuery(JdbcSelectExecutorStandardImpl.java:137)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.executeQuery(JdbcSelectExecutorStandardImpl.java:102)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.executeQuery(JdbcSelectExecutor.java:91)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:165)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:142)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:132)
	at org.hibernate.loader.ast.internal.CollectionLoaderSingleKey.load(CollectionLoaderSingleKey.java:120)
	at org.hibernate.persister.collection.AbstractCollectionPersister.initialize(AbstractCollectionPersister.java:748)
	at org.hibernate.event.internal.DefaultInitializeCollectionEventListener.onInitializeCollection(DefaultInitializeCollectionEventListener.java:69)
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:127)
	at org.hibernate.internal.SessionImpl.initializeCollection(SessionImpl.java:1724)
	at org.hibernate.collection.spi.AbstractPersistentCollection.lambda$initialize$3(AbstractPersistentCollection.java:616)
	at org.hibernate.collection.spi.AbstractPersistentCollection.withTemporarySessionIfNeeded(AbstractPersistentCollection.java:265)
	at org.hibernate.collection.spi.AbstractPersistentCollection.initialize(AbstractPersistentCollection.java:614)
	at org.hibernate.collection.spi.AbstractPersistentCollection.forceInitialization(AbstractPersistentCollection.java:817)
	at org.hibernate.engine.internal.StatefulPersistenceContext.initializeNonLazyCollections(StatefulPersistenceContext.java:1169)
	at org.hibernate.engine.internal.StatefulPersistenceContext.initializeNonLazyCollections(StatefulPersistenceContext.java:1155)
	at org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:224)
	at org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:35)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.doExecuteQuery(JdbcSelectExecutorStandardImpl.java:224)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.executeQuery(JdbcSelectExecutorStandardImpl.java:102)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.executeQuery(JdbcSelectExecutor.java:91)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:165)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.lambda$new$1(ConcreteSqmSelectQueryPlan.java:152)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.withCacheableSqmInterpretation(ConcreteSqmSelectQueryPlan.java:442)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.performList(ConcreteSqmSelectQueryPlan.java:362)
	at org.hibernate.query.sqm.internal.QuerySqmImpl.doList(QuerySqmImpl.java:380)
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:143)
	at org.hibernate.query.Query.getResultList(Query.java:120)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$CollectionExecution.doExecute(JpaQueryExecution.java:130)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:93)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:152)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:140)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:170)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	... 118 more
Caused by: org.postgresql.util.PSQLException: ERROR: relation "import_invoice_details" does not exist
  Position: 625
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2733)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2420)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:372)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:517)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:434)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:194)
	at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:137)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeQuery(ProxyPreparedStatement.java:52)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeQuery(HikariProxyPreparedStatement.java)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:250)
	... 165 more
2025-05-26 18:24:57 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHP
2025-05-26 18:24:57 ERROR AuthTokenFilter:101 - Cannot set user authentication: User Not Found with username: LHP
org.springframework.security.core.userdetails.UsernameNotFoundException: User Not Found with username: LHP
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.UserDetailsServiceImpl.lambda$loadUserByUsername$0(UserDetailsServiceImpl.java:21)
	at java.base/java.util.Optional.orElseThrow(Optional.java:403)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.UserDetailsServiceImpl.loadUserByUsername(UserDetailsServiceImpl.java:21)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.UserDetailsServiceImpl$$SpringCGLIB$$0.loadUserByUsername(<generated>)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.filters.AuthTokenFilter.doFilterInternal(AuthTokenFilter.java:66)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1575)
2025-05-26 18:24:57 ERROR ProductServiceImpl:93 - Error get all products status true
org.springframework.dao.InvalidDataAccessResourceUsageException: JDBC exception executing SQL [select iid1_0.product_id,iid1_0.id,iid1_0.import_invoice_id,ii1_0.id,ib1_0.id,ib1_0.created_by,ib1_0.created_date,ib1_0.deleted,ib1_0.enabled,ib1_0.password_encrypted,ib1_0.updated_by,ib1_0.updated_date,ib1_0.username,ib1_1.role_id,r1_0.id,r1_0.name,ii1_0.import_date,ii1_0.total_price,iid1_0.import_price,iid1_0.quantity,iid1_0.size_id,s1_0.id,s1_0.released_by,s1_0.released_date,s1_0.size,s1_0.status,s1_0.stock,s1_0.updated_by,s1_0.updated_date,s1_0.variation_id,iid1_0.variation_id,v2_0.id,v2_0.color,v2_0.color_code,v2_0.product_id,v2_0.released_by,v2_0.released_date,v2_0.status,v2_0.updated_by,v2_0.updated_date from import_invoice_details iid1_0 left join import_invoices ii1_0 on ii1_0.id=iid1_0.import_invoice_id left join users ib1_0 on ib1_0.id=ii1_0.import_by left join roles_users ib1_1 on ib1_0.id=ib1_1.user_id left join roles r1_0 on r1_0.id=ib1_1.role_id left join size s1_0 on s1_0.id=iid1_0.size_id left join variation v2_0 on v2_0.id=iid1_0.variation_id where iid1_0.product_id=?] [ERROR: relation "import_invoice_details" does not exist
  Position: 625] [n/a]; SQL [n/a]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:281)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:256)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:241)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560)
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:136)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy4/jdk.proxy4.$Proxy170.findByStatusTrueAndDeletedFalse(Unknown Source)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.ProductServiceImpl.getProductsStatusTrueAndDeleteFalse(ProductServiceImpl.java:91)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:724)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.ProductServiceImpl$$SpringCGLIB$$0.getProductsStatusTrueAndDeleteFalse(<generated>)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.controller.ProductController.getProductsStatusTrue(ProductController.java:25)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:724)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.controller.ProductController$$SpringCGLIB$$0.getProductsStatusTrue(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.filters.AuthTokenFilter.doFilterInternal(AuthTokenFilter.java:103)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1575)
Caused by: org.hibernate.exception.SQLGrammarException: JDBC exception executing SQL [select iid1_0.product_id,iid1_0.id,iid1_0.import_invoice_id,ii1_0.id,ib1_0.id,ib1_0.created_by,ib1_0.created_date,ib1_0.deleted,ib1_0.enabled,ib1_0.password_encrypted,ib1_0.updated_by,ib1_0.updated_date,ib1_0.username,ib1_1.role_id,r1_0.id,r1_0.name,ii1_0.import_date,ii1_0.total_price,iid1_0.import_price,iid1_0.quantity,iid1_0.size_id,s1_0.id,s1_0.released_by,s1_0.released_date,s1_0.size,s1_0.status,s1_0.stock,s1_0.updated_by,s1_0.updated_date,s1_0.variation_id,iid1_0.variation_id,v2_0.id,v2_0.color,v2_0.color_code,v2_0.product_id,v2_0.released_by,v2_0.released_date,v2_0.status,v2_0.updated_by,v2_0.updated_date from import_invoice_details iid1_0 left join import_invoices ii1_0 on ii1_0.id=iid1_0.import_invoice_id left join users ib1_0 on ib1_0.id=ii1_0.import_by left join roles_users ib1_1 on ib1_0.id=ib1_1.user_id left join roles r1_0 on r1_0.id=ib1_1.role_id left join size s1_0 on s1_0.id=iid1_0.size_id left join variation v2_0 on v2_0.id=iid1_0.variation_id where iid1_0.product_id=?] [ERROR: relation "import_invoice_details" does not exist
  Position: 625] [n/a]
	at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:91)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:58)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:94)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:268)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.getResultSet(DeferredResultSetAccess.java:171)
	at org.hibernate.sql.results.jdbc.internal.JdbcValuesResultSetImpl.<init>(JdbcValuesResultSetImpl.java:74)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.resolveJdbcValuesSource(JdbcSelectExecutorStandardImpl.java:355)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.doExecuteQuery(JdbcSelectExecutorStandardImpl.java:137)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.executeQuery(JdbcSelectExecutorStandardImpl.java:102)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.executeQuery(JdbcSelectExecutor.java:91)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:165)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:142)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:132)
	at org.hibernate.loader.ast.internal.CollectionLoaderSingleKey.load(CollectionLoaderSingleKey.java:120)
	at org.hibernate.persister.collection.AbstractCollectionPersister.initialize(AbstractCollectionPersister.java:748)
	at org.hibernate.event.internal.DefaultInitializeCollectionEventListener.onInitializeCollection(DefaultInitializeCollectionEventListener.java:69)
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:127)
	at org.hibernate.internal.SessionImpl.initializeCollection(SessionImpl.java:1724)
	at org.hibernate.collection.spi.AbstractPersistentCollection.lambda$initialize$3(AbstractPersistentCollection.java:616)
	at org.hibernate.collection.spi.AbstractPersistentCollection.withTemporarySessionIfNeeded(AbstractPersistentCollection.java:265)
	at org.hibernate.collection.spi.AbstractPersistentCollection.initialize(AbstractPersistentCollection.java:614)
	at org.hibernate.collection.spi.AbstractPersistentCollection.forceInitialization(AbstractPersistentCollection.java:817)
	at org.hibernate.engine.internal.StatefulPersistenceContext.initializeNonLazyCollections(StatefulPersistenceContext.java:1169)
	at org.hibernate.engine.internal.StatefulPersistenceContext.initializeNonLazyCollections(StatefulPersistenceContext.java:1155)
	at org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:224)
	at org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:35)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.doExecuteQuery(JdbcSelectExecutorStandardImpl.java:224)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.executeQuery(JdbcSelectExecutorStandardImpl.java:102)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.executeQuery(JdbcSelectExecutor.java:91)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:165)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.lambda$new$1(ConcreteSqmSelectQueryPlan.java:152)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.withCacheableSqmInterpretation(ConcreteSqmSelectQueryPlan.java:442)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.performList(ConcreteSqmSelectQueryPlan.java:362)
	at org.hibernate.query.sqm.internal.QuerySqmImpl.doList(QuerySqmImpl.java:380)
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:143)
	at org.hibernate.query.Query.getResultList(Query.java:120)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$CollectionExecution.doExecute(JpaQueryExecution.java:130)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:93)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:152)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:140)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:170)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	... 118 more
Caused by: org.postgresql.util.PSQLException: ERROR: relation "import_invoice_details" does not exist
  Position: 625
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2733)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2420)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:372)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:517)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:434)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:194)
	at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:137)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeQuery(ProxyPreparedStatement.java:52)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeQuery(HikariProxyPreparedStatement.java)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:250)
	... 165 more
2025-05-26 18:24:57 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHP
2025-05-26 18:24:57 ERROR AuthTokenFilter:101 - Cannot set user authentication: User Not Found with username: LHP
org.springframework.security.core.userdetails.UsernameNotFoundException: User Not Found with username: LHP
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.UserDetailsServiceImpl.lambda$loadUserByUsername$0(UserDetailsServiceImpl.java:21)
	at java.base/java.util.Optional.orElseThrow(Optional.java:403)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.UserDetailsServiceImpl.loadUserByUsername(UserDetailsServiceImpl.java:21)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.UserDetailsServiceImpl$$SpringCGLIB$$0.loadUserByUsername(<generated>)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.filters.AuthTokenFilter.doFilterInternal(AuthTokenFilter.java:66)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1575)
2025-05-26 18:24:57 ERROR ProductServiceImpl:93 - Error get all products status true
org.springframework.dao.InvalidDataAccessResourceUsageException: JDBC exception executing SQL [select iid1_0.product_id,iid1_0.id,iid1_0.import_invoice_id,ii1_0.id,ib1_0.id,ib1_0.created_by,ib1_0.created_date,ib1_0.deleted,ib1_0.enabled,ib1_0.password_encrypted,ib1_0.updated_by,ib1_0.updated_date,ib1_0.username,ib1_1.role_id,r1_0.id,r1_0.name,ii1_0.import_date,ii1_0.total_price,iid1_0.import_price,iid1_0.quantity,iid1_0.size_id,s1_0.id,s1_0.released_by,s1_0.released_date,s1_0.size,s1_0.status,s1_0.stock,s1_0.updated_by,s1_0.updated_date,s1_0.variation_id,iid1_0.variation_id,v2_0.id,v2_0.color,v2_0.color_code,v2_0.product_id,v2_0.released_by,v2_0.released_date,v2_0.status,v2_0.updated_by,v2_0.updated_date from import_invoice_details iid1_0 left join import_invoices ii1_0 on ii1_0.id=iid1_0.import_invoice_id left join users ib1_0 on ib1_0.id=ii1_0.import_by left join roles_users ib1_1 on ib1_0.id=ib1_1.user_id left join roles r1_0 on r1_0.id=ib1_1.role_id left join size s1_0 on s1_0.id=iid1_0.size_id left join variation v2_0 on v2_0.id=iid1_0.variation_id where iid1_0.product_id=?] [ERROR: relation "import_invoice_details" does not exist
  Position: 625] [n/a]; SQL [n/a]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:281)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:256)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:241)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560)
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:136)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy4/jdk.proxy4.$Proxy170.findByStatusTrueAndDeletedFalse(Unknown Source)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.ProductServiceImpl.getProductsStatusTrueAndDeleteFalse(ProductServiceImpl.java:91)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:724)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.ProductServiceImpl$$SpringCGLIB$$0.getProductsStatusTrueAndDeleteFalse(<generated>)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.controller.ProductController.getProductsStatusTrue(ProductController.java:25)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:724)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.controller.ProductController$$SpringCGLIB$$0.getProductsStatusTrue(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.filters.AuthTokenFilter.doFilterInternal(AuthTokenFilter.java:103)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1575)
Caused by: org.hibernate.exception.SQLGrammarException: JDBC exception executing SQL [select iid1_0.product_id,iid1_0.id,iid1_0.import_invoice_id,ii1_0.id,ib1_0.id,ib1_0.created_by,ib1_0.created_date,ib1_0.deleted,ib1_0.enabled,ib1_0.password_encrypted,ib1_0.updated_by,ib1_0.updated_date,ib1_0.username,ib1_1.role_id,r1_0.id,r1_0.name,ii1_0.import_date,ii1_0.total_price,iid1_0.import_price,iid1_0.quantity,iid1_0.size_id,s1_0.id,s1_0.released_by,s1_0.released_date,s1_0.size,s1_0.status,s1_0.stock,s1_0.updated_by,s1_0.updated_date,s1_0.variation_id,iid1_0.variation_id,v2_0.id,v2_0.color,v2_0.color_code,v2_0.product_id,v2_0.released_by,v2_0.released_date,v2_0.status,v2_0.updated_by,v2_0.updated_date from import_invoice_details iid1_0 left join import_invoices ii1_0 on ii1_0.id=iid1_0.import_invoice_id left join users ib1_0 on ib1_0.id=ii1_0.import_by left join roles_users ib1_1 on ib1_0.id=ib1_1.user_id left join roles r1_0 on r1_0.id=ib1_1.role_id left join size s1_0 on s1_0.id=iid1_0.size_id left join variation v2_0 on v2_0.id=iid1_0.variation_id where iid1_0.product_id=?] [ERROR: relation "import_invoice_details" does not exist
  Position: 625] [n/a]
	at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:91)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:58)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:94)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:268)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.getResultSet(DeferredResultSetAccess.java:171)
	at org.hibernate.sql.results.jdbc.internal.JdbcValuesResultSetImpl.<init>(JdbcValuesResultSetImpl.java:74)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.resolveJdbcValuesSource(JdbcSelectExecutorStandardImpl.java:355)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.doExecuteQuery(JdbcSelectExecutorStandardImpl.java:137)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.executeQuery(JdbcSelectExecutorStandardImpl.java:102)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.executeQuery(JdbcSelectExecutor.java:91)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:165)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:142)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:132)
	at org.hibernate.loader.ast.internal.CollectionLoaderSingleKey.load(CollectionLoaderSingleKey.java:120)
	at org.hibernate.persister.collection.AbstractCollectionPersister.initialize(AbstractCollectionPersister.java:748)
	at org.hibernate.event.internal.DefaultInitializeCollectionEventListener.onInitializeCollection(DefaultInitializeCollectionEventListener.java:69)
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:127)
	at org.hibernate.internal.SessionImpl.initializeCollection(SessionImpl.java:1724)
	at org.hibernate.collection.spi.AbstractPersistentCollection.lambda$initialize$3(AbstractPersistentCollection.java:616)
	at org.hibernate.collection.spi.AbstractPersistentCollection.withTemporarySessionIfNeeded(AbstractPersistentCollection.java:265)
	at org.hibernate.collection.spi.AbstractPersistentCollection.initialize(AbstractPersistentCollection.java:614)
	at org.hibernate.collection.spi.AbstractPersistentCollection.forceInitialization(AbstractPersistentCollection.java:817)
	at org.hibernate.engine.internal.StatefulPersistenceContext.initializeNonLazyCollections(StatefulPersistenceContext.java:1169)
	at org.hibernate.engine.internal.StatefulPersistenceContext.initializeNonLazyCollections(StatefulPersistenceContext.java:1155)
	at org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:224)
	at org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:35)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.doExecuteQuery(JdbcSelectExecutorStandardImpl.java:224)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.executeQuery(JdbcSelectExecutorStandardImpl.java:102)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.executeQuery(JdbcSelectExecutor.java:91)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:165)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.lambda$new$1(ConcreteSqmSelectQueryPlan.java:152)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.withCacheableSqmInterpretation(ConcreteSqmSelectQueryPlan.java:442)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.performList(ConcreteSqmSelectQueryPlan.java:362)
	at org.hibernate.query.sqm.internal.QuerySqmImpl.doList(QuerySqmImpl.java:380)
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:143)
	at org.hibernate.query.Query.getResultList(Query.java:120)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$CollectionExecution.doExecute(JpaQueryExecution.java:130)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:93)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:152)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:140)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:170)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	... 118 more
Caused by: org.postgresql.util.PSQLException: ERROR: relation "import_invoice_details" does not exist
  Position: 625
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2733)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2420)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:372)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:517)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:434)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:194)
	at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:137)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeQuery(ProxyPreparedStatement.java:52)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeQuery(HikariProxyPreparedStatement.java)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:250)
	... 165 more
2025-05-26 18:24:57 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHP
2025-05-26 18:24:57 ERROR AuthTokenFilter:101 - Cannot set user authentication: User Not Found with username: LHP
org.springframework.security.core.userdetails.UsernameNotFoundException: User Not Found with username: LHP
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.UserDetailsServiceImpl.lambda$loadUserByUsername$0(UserDetailsServiceImpl.java:21)
	at java.base/java.util.Optional.orElseThrow(Optional.java:403)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.UserDetailsServiceImpl.loadUserByUsername(UserDetailsServiceImpl.java:21)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.UserDetailsServiceImpl$$SpringCGLIB$$0.loadUserByUsername(<generated>)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.filters.AuthTokenFilter.doFilterInternal(AuthTokenFilter.java:66)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1575)
2025-05-26 18:24:57 ERROR ProductServiceImpl:93 - Error get all products status true
org.springframework.dao.InvalidDataAccessResourceUsageException: JDBC exception executing SQL [select iid1_0.product_id,iid1_0.id,iid1_0.import_invoice_id,ii1_0.id,ib1_0.id,ib1_0.created_by,ib1_0.created_date,ib1_0.deleted,ib1_0.enabled,ib1_0.password_encrypted,ib1_0.updated_by,ib1_0.updated_date,ib1_0.username,ib1_1.role_id,r1_0.id,r1_0.name,ii1_0.import_date,ii1_0.total_price,iid1_0.import_price,iid1_0.quantity,iid1_0.size_id,s1_0.id,s1_0.released_by,s1_0.released_date,s1_0.size,s1_0.status,s1_0.stock,s1_0.updated_by,s1_0.updated_date,s1_0.variation_id,iid1_0.variation_id,v2_0.id,v2_0.color,v2_0.color_code,v2_0.product_id,v2_0.released_by,v2_0.released_date,v2_0.status,v2_0.updated_by,v2_0.updated_date from import_invoice_details iid1_0 left join import_invoices ii1_0 on ii1_0.id=iid1_0.import_invoice_id left join users ib1_0 on ib1_0.id=ii1_0.import_by left join roles_users ib1_1 on ib1_0.id=ib1_1.user_id left join roles r1_0 on r1_0.id=ib1_1.role_id left join size s1_0 on s1_0.id=iid1_0.size_id left join variation v2_0 on v2_0.id=iid1_0.variation_id where iid1_0.product_id=?] [ERROR: relation "import_invoice_details" does not exist
  Position: 625] [n/a]; SQL [n/a]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:281)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:256)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:241)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560)
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:136)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy4/jdk.proxy4.$Proxy170.findByStatusTrueAndDeletedFalse(Unknown Source)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.ProductServiceImpl.getProductsStatusTrueAndDeleteFalse(ProductServiceImpl.java:91)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:724)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.ProductServiceImpl$$SpringCGLIB$$0.getProductsStatusTrueAndDeleteFalse(<generated>)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.controller.ProductController.getProductsStatusTrue(ProductController.java:25)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:724)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.controller.ProductController$$SpringCGLIB$$0.getProductsStatusTrue(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.filters.AuthTokenFilter.doFilterInternal(AuthTokenFilter.java:103)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1575)
Caused by: org.hibernate.exception.SQLGrammarException: JDBC exception executing SQL [select iid1_0.product_id,iid1_0.id,iid1_0.import_invoice_id,ii1_0.id,ib1_0.id,ib1_0.created_by,ib1_0.created_date,ib1_0.deleted,ib1_0.enabled,ib1_0.password_encrypted,ib1_0.updated_by,ib1_0.updated_date,ib1_0.username,ib1_1.role_id,r1_0.id,r1_0.name,ii1_0.import_date,ii1_0.total_price,iid1_0.import_price,iid1_0.quantity,iid1_0.size_id,s1_0.id,s1_0.released_by,s1_0.released_date,s1_0.size,s1_0.status,s1_0.stock,s1_0.updated_by,s1_0.updated_date,s1_0.variation_id,iid1_0.variation_id,v2_0.id,v2_0.color,v2_0.color_code,v2_0.product_id,v2_0.released_by,v2_0.released_date,v2_0.status,v2_0.updated_by,v2_0.updated_date from import_invoice_details iid1_0 left join import_invoices ii1_0 on ii1_0.id=iid1_0.import_invoice_id left join users ib1_0 on ib1_0.id=ii1_0.import_by left join roles_users ib1_1 on ib1_0.id=ib1_1.user_id left join roles r1_0 on r1_0.id=ib1_1.role_id left join size s1_0 on s1_0.id=iid1_0.size_id left join variation v2_0 on v2_0.id=iid1_0.variation_id where iid1_0.product_id=?] [ERROR: relation "import_invoice_details" does not exist
  Position: 625] [n/a]
	at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:91)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:58)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:94)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:268)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.getResultSet(DeferredResultSetAccess.java:171)
	at org.hibernate.sql.results.jdbc.internal.JdbcValuesResultSetImpl.<init>(JdbcValuesResultSetImpl.java:74)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.resolveJdbcValuesSource(JdbcSelectExecutorStandardImpl.java:355)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.doExecuteQuery(JdbcSelectExecutorStandardImpl.java:137)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.executeQuery(JdbcSelectExecutorStandardImpl.java:102)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.executeQuery(JdbcSelectExecutor.java:91)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:165)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:142)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:132)
	at org.hibernate.loader.ast.internal.CollectionLoaderSingleKey.load(CollectionLoaderSingleKey.java:120)
	at org.hibernate.persister.collection.AbstractCollectionPersister.initialize(AbstractCollectionPersister.java:748)
	at org.hibernate.event.internal.DefaultInitializeCollectionEventListener.onInitializeCollection(DefaultInitializeCollectionEventListener.java:69)
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:127)
	at org.hibernate.internal.SessionImpl.initializeCollection(SessionImpl.java:1724)
	at org.hibernate.collection.spi.AbstractPersistentCollection.lambda$initialize$3(AbstractPersistentCollection.java:616)
	at org.hibernate.collection.spi.AbstractPersistentCollection.withTemporarySessionIfNeeded(AbstractPersistentCollection.java:265)
	at org.hibernate.collection.spi.AbstractPersistentCollection.initialize(AbstractPersistentCollection.java:614)
	at org.hibernate.collection.spi.AbstractPersistentCollection.forceInitialization(AbstractPersistentCollection.java:817)
	at org.hibernate.engine.internal.StatefulPersistenceContext.initializeNonLazyCollections(StatefulPersistenceContext.java:1169)
	at org.hibernate.engine.internal.StatefulPersistenceContext.initializeNonLazyCollections(StatefulPersistenceContext.java:1155)
	at org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:224)
	at org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:35)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.doExecuteQuery(JdbcSelectExecutorStandardImpl.java:224)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.executeQuery(JdbcSelectExecutorStandardImpl.java:102)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.executeQuery(JdbcSelectExecutor.java:91)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:165)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.lambda$new$1(ConcreteSqmSelectQueryPlan.java:152)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.withCacheableSqmInterpretation(ConcreteSqmSelectQueryPlan.java:442)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.performList(ConcreteSqmSelectQueryPlan.java:362)
	at org.hibernate.query.sqm.internal.QuerySqmImpl.doList(QuerySqmImpl.java:380)
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:143)
	at org.hibernate.query.Query.getResultList(Query.java:120)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$CollectionExecution.doExecute(JpaQueryExecution.java:130)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:93)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:152)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:140)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:170)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	... 118 more
Caused by: org.postgresql.util.PSQLException: ERROR: relation "import_invoice_details" does not exist
  Position: 625
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2733)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2420)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:372)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:517)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:434)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:194)
	at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:137)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeQuery(ProxyPreparedStatement.java:52)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeQuery(HikariProxyPreparedStatement.java)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:250)
	... 165 more
2025-05-26 18:24:57 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHP
2025-05-26 18:24:57 ERROR AuthTokenFilter:101 - Cannot set user authentication: User Not Found with username: LHP
org.springframework.security.core.userdetails.UsernameNotFoundException: User Not Found with username: LHP
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.UserDetailsServiceImpl.lambda$loadUserByUsername$0(UserDetailsServiceImpl.java:21)
	at java.base/java.util.Optional.orElseThrow(Optional.java:403)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.UserDetailsServiceImpl.loadUserByUsername(UserDetailsServiceImpl.java:21)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.UserDetailsServiceImpl$$SpringCGLIB$$0.loadUserByUsername(<generated>)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.filters.AuthTokenFilter.doFilterInternal(AuthTokenFilter.java:66)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1575)
2025-05-26 18:24:57 ERROR ProductServiceImpl:93 - Error get all products status true
org.springframework.dao.InvalidDataAccessResourceUsageException: JDBC exception executing SQL [select iid1_0.product_id,iid1_0.id,iid1_0.import_invoice_id,ii1_0.id,ib1_0.id,ib1_0.created_by,ib1_0.created_date,ib1_0.deleted,ib1_0.enabled,ib1_0.password_encrypted,ib1_0.updated_by,ib1_0.updated_date,ib1_0.username,ib1_1.role_id,r1_0.id,r1_0.name,ii1_0.import_date,ii1_0.total_price,iid1_0.import_price,iid1_0.quantity,iid1_0.size_id,s1_0.id,s1_0.released_by,s1_0.released_date,s1_0.size,s1_0.status,s1_0.stock,s1_0.updated_by,s1_0.updated_date,s1_0.variation_id,iid1_0.variation_id,v2_0.id,v2_0.color,v2_0.color_code,v2_0.product_id,v2_0.released_by,v2_0.released_date,v2_0.status,v2_0.updated_by,v2_0.updated_date from import_invoice_details iid1_0 left join import_invoices ii1_0 on ii1_0.id=iid1_0.import_invoice_id left join users ib1_0 on ib1_0.id=ii1_0.import_by left join roles_users ib1_1 on ib1_0.id=ib1_1.user_id left join roles r1_0 on r1_0.id=ib1_1.role_id left join size s1_0 on s1_0.id=iid1_0.size_id left join variation v2_0 on v2_0.id=iid1_0.variation_id where iid1_0.product_id=?] [ERROR: relation "import_invoice_details" does not exist
  Position: 625] [n/a]; SQL [n/a]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:281)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:256)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:241)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560)
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:136)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy4/jdk.proxy4.$Proxy170.findByStatusTrueAndDeletedFalse(Unknown Source)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.ProductServiceImpl.getProductsStatusTrueAndDeleteFalse(ProductServiceImpl.java:91)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:724)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.ProductServiceImpl$$SpringCGLIB$$0.getProductsStatusTrueAndDeleteFalse(<generated>)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.controller.ProductController.getProductsStatusTrue(ProductController.java:25)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:724)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.controller.ProductController$$SpringCGLIB$$0.getProductsStatusTrue(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.filters.AuthTokenFilter.doFilterInternal(AuthTokenFilter.java:103)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1575)
Caused by: org.hibernate.exception.SQLGrammarException: JDBC exception executing SQL [select iid1_0.product_id,iid1_0.id,iid1_0.import_invoice_id,ii1_0.id,ib1_0.id,ib1_0.created_by,ib1_0.created_date,ib1_0.deleted,ib1_0.enabled,ib1_0.password_encrypted,ib1_0.updated_by,ib1_0.updated_date,ib1_0.username,ib1_1.role_id,r1_0.id,r1_0.name,ii1_0.import_date,ii1_0.total_price,iid1_0.import_price,iid1_0.quantity,iid1_0.size_id,s1_0.id,s1_0.released_by,s1_0.released_date,s1_0.size,s1_0.status,s1_0.stock,s1_0.updated_by,s1_0.updated_date,s1_0.variation_id,iid1_0.variation_id,v2_0.id,v2_0.color,v2_0.color_code,v2_0.product_id,v2_0.released_by,v2_0.released_date,v2_0.status,v2_0.updated_by,v2_0.updated_date from import_invoice_details iid1_0 left join import_invoices ii1_0 on ii1_0.id=iid1_0.import_invoice_id left join users ib1_0 on ib1_0.id=ii1_0.import_by left join roles_users ib1_1 on ib1_0.id=ib1_1.user_id left join roles r1_0 on r1_0.id=ib1_1.role_id left join size s1_0 on s1_0.id=iid1_0.size_id left join variation v2_0 on v2_0.id=iid1_0.variation_id where iid1_0.product_id=?] [ERROR: relation "import_invoice_details" does not exist
  Position: 625] [n/a]
	at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:91)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:58)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:94)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:268)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.getResultSet(DeferredResultSetAccess.java:171)
	at org.hibernate.sql.results.jdbc.internal.JdbcValuesResultSetImpl.<init>(JdbcValuesResultSetImpl.java:74)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.resolveJdbcValuesSource(JdbcSelectExecutorStandardImpl.java:355)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.doExecuteQuery(JdbcSelectExecutorStandardImpl.java:137)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.executeQuery(JdbcSelectExecutorStandardImpl.java:102)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.executeQuery(JdbcSelectExecutor.java:91)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:165)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:142)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:132)
	at org.hibernate.loader.ast.internal.CollectionLoaderSingleKey.load(CollectionLoaderSingleKey.java:120)
	at org.hibernate.persister.collection.AbstractCollectionPersister.initialize(AbstractCollectionPersister.java:748)
	at org.hibernate.event.internal.DefaultInitializeCollectionEventListener.onInitializeCollection(DefaultInitializeCollectionEventListener.java:69)
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:127)
	at org.hibernate.internal.SessionImpl.initializeCollection(SessionImpl.java:1724)
	at org.hibernate.collection.spi.AbstractPersistentCollection.lambda$initialize$3(AbstractPersistentCollection.java:616)
	at org.hibernate.collection.spi.AbstractPersistentCollection.withTemporarySessionIfNeeded(AbstractPersistentCollection.java:265)
	at org.hibernate.collection.spi.AbstractPersistentCollection.initialize(AbstractPersistentCollection.java:614)
	at org.hibernate.collection.spi.AbstractPersistentCollection.forceInitialization(AbstractPersistentCollection.java:817)
	at org.hibernate.engine.internal.StatefulPersistenceContext.initializeNonLazyCollections(StatefulPersistenceContext.java:1169)
	at org.hibernate.engine.internal.StatefulPersistenceContext.initializeNonLazyCollections(StatefulPersistenceContext.java:1155)
	at org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:224)
	at org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:35)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.doExecuteQuery(JdbcSelectExecutorStandardImpl.java:224)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.executeQuery(JdbcSelectExecutorStandardImpl.java:102)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.executeQuery(JdbcSelectExecutor.java:91)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:165)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.lambda$new$1(ConcreteSqmSelectQueryPlan.java:152)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.withCacheableSqmInterpretation(ConcreteSqmSelectQueryPlan.java:442)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.performList(ConcreteSqmSelectQueryPlan.java:362)
	at org.hibernate.query.sqm.internal.QuerySqmImpl.doList(QuerySqmImpl.java:380)
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:143)
	at org.hibernate.query.Query.getResultList(Query.java:120)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$CollectionExecution.doExecute(JpaQueryExecution.java:130)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:93)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:152)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:140)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:170)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	... 118 more
Caused by: org.postgresql.util.PSQLException: ERROR: relation "import_invoice_details" does not exist
  Position: 625
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2733)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2420)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:372)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:517)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:434)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:194)
	at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:137)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeQuery(ProxyPreparedStatement.java:52)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeQuery(HikariProxyPreparedStatement.java)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:250)
	... 165 more
2025-05-26 18:24:57 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHP
2025-05-26 18:24:57 ERROR AuthTokenFilter:101 - Cannot set user authentication: User Not Found with username: LHP
org.springframework.security.core.userdetails.UsernameNotFoundException: User Not Found with username: LHP
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.UserDetailsServiceImpl.lambda$loadUserByUsername$0(UserDetailsServiceImpl.java:21)
	at java.base/java.util.Optional.orElseThrow(Optional.java:403)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.UserDetailsServiceImpl.loadUserByUsername(UserDetailsServiceImpl.java:21)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.UserDetailsServiceImpl$$SpringCGLIB$$0.loadUserByUsername(<generated>)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.filters.AuthTokenFilter.doFilterInternal(AuthTokenFilter.java:66)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1575)
2025-05-26 18:24:57 ERROR ProductServiceImpl:93 - Error get all products status true
org.springframework.dao.InvalidDataAccessResourceUsageException: JDBC exception executing SQL [select iid1_0.product_id,iid1_0.id,iid1_0.import_invoice_id,ii1_0.id,ib1_0.id,ib1_0.created_by,ib1_0.created_date,ib1_0.deleted,ib1_0.enabled,ib1_0.password_encrypted,ib1_0.updated_by,ib1_0.updated_date,ib1_0.username,ib1_1.role_id,r1_0.id,r1_0.name,ii1_0.import_date,ii1_0.total_price,iid1_0.import_price,iid1_0.quantity,iid1_0.size_id,s1_0.id,s1_0.released_by,s1_0.released_date,s1_0.size,s1_0.status,s1_0.stock,s1_0.updated_by,s1_0.updated_date,s1_0.variation_id,iid1_0.variation_id,v2_0.id,v2_0.color,v2_0.color_code,v2_0.product_id,v2_0.released_by,v2_0.released_date,v2_0.status,v2_0.updated_by,v2_0.updated_date from import_invoice_details iid1_0 left join import_invoices ii1_0 on ii1_0.id=iid1_0.import_invoice_id left join users ib1_0 on ib1_0.id=ii1_0.import_by left join roles_users ib1_1 on ib1_0.id=ib1_1.user_id left join roles r1_0 on r1_0.id=ib1_1.role_id left join size s1_0 on s1_0.id=iid1_0.size_id left join variation v2_0 on v2_0.id=iid1_0.variation_id where iid1_0.product_id=?] [ERROR: relation "import_invoice_details" does not exist
  Position: 625] [n/a]; SQL [n/a]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:281)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:256)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:241)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560)
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:136)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy4/jdk.proxy4.$Proxy170.findByStatusTrueAndDeletedFalse(Unknown Source)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.ProductServiceImpl.getProductsStatusTrueAndDeleteFalse(ProductServiceImpl.java:91)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:724)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.ProductServiceImpl$$SpringCGLIB$$0.getProductsStatusTrueAndDeleteFalse(<generated>)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.controller.ProductController.getProductsStatusTrue(ProductController.java:25)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:724)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.controller.ProductController$$SpringCGLIB$$0.getProductsStatusTrue(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.filters.AuthTokenFilter.doFilterInternal(AuthTokenFilter.java:103)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1575)
Caused by: org.hibernate.exception.SQLGrammarException: JDBC exception executing SQL [select iid1_0.product_id,iid1_0.id,iid1_0.import_invoice_id,ii1_0.id,ib1_0.id,ib1_0.created_by,ib1_0.created_date,ib1_0.deleted,ib1_0.enabled,ib1_0.password_encrypted,ib1_0.updated_by,ib1_0.updated_date,ib1_0.username,ib1_1.role_id,r1_0.id,r1_0.name,ii1_0.import_date,ii1_0.total_price,iid1_0.import_price,iid1_0.quantity,iid1_0.size_id,s1_0.id,s1_0.released_by,s1_0.released_date,s1_0.size,s1_0.status,s1_0.stock,s1_0.updated_by,s1_0.updated_date,s1_0.variation_id,iid1_0.variation_id,v2_0.id,v2_0.color,v2_0.color_code,v2_0.product_id,v2_0.released_by,v2_0.released_date,v2_0.status,v2_0.updated_by,v2_0.updated_date from import_invoice_details iid1_0 left join import_invoices ii1_0 on ii1_0.id=iid1_0.import_invoice_id left join users ib1_0 on ib1_0.id=ii1_0.import_by left join roles_users ib1_1 on ib1_0.id=ib1_1.user_id left join roles r1_0 on r1_0.id=ib1_1.role_id left join size s1_0 on s1_0.id=iid1_0.size_id left join variation v2_0 on v2_0.id=iid1_0.variation_id where iid1_0.product_id=?] [ERROR: relation "import_invoice_details" does not exist
  Position: 625] [n/a]
	at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:91)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:58)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:94)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:268)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.getResultSet(DeferredResultSetAccess.java:171)
	at org.hibernate.sql.results.jdbc.internal.JdbcValuesResultSetImpl.<init>(JdbcValuesResultSetImpl.java:74)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.resolveJdbcValuesSource(JdbcSelectExecutorStandardImpl.java:355)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.doExecuteQuery(JdbcSelectExecutorStandardImpl.java:137)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.executeQuery(JdbcSelectExecutorStandardImpl.java:102)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.executeQuery(JdbcSelectExecutor.java:91)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:165)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:142)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:132)
	at org.hibernate.loader.ast.internal.CollectionLoaderSingleKey.load(CollectionLoaderSingleKey.java:120)
	at org.hibernate.persister.collection.AbstractCollectionPersister.initialize(AbstractCollectionPersister.java:748)
	at org.hibernate.event.internal.DefaultInitializeCollectionEventListener.onInitializeCollection(DefaultInitializeCollectionEventListener.java:69)
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:127)
	at org.hibernate.internal.SessionImpl.initializeCollection(SessionImpl.java:1724)
	at org.hibernate.collection.spi.AbstractPersistentCollection.lambda$initialize$3(AbstractPersistentCollection.java:616)
	at org.hibernate.collection.spi.AbstractPersistentCollection.withTemporarySessionIfNeeded(AbstractPersistentCollection.java:265)
	at org.hibernate.collection.spi.AbstractPersistentCollection.initialize(AbstractPersistentCollection.java:614)
	at org.hibernate.collection.spi.AbstractPersistentCollection.forceInitialization(AbstractPersistentCollection.java:817)
	at org.hibernate.engine.internal.StatefulPersistenceContext.initializeNonLazyCollections(StatefulPersistenceContext.java:1169)
	at org.hibernate.engine.internal.StatefulPersistenceContext.initializeNonLazyCollections(StatefulPersistenceContext.java:1155)
	at org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:224)
	at org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:35)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.doExecuteQuery(JdbcSelectExecutorStandardImpl.java:224)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.executeQuery(JdbcSelectExecutorStandardImpl.java:102)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.executeQuery(JdbcSelectExecutor.java:91)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:165)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.lambda$new$1(ConcreteSqmSelectQueryPlan.java:152)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.withCacheableSqmInterpretation(ConcreteSqmSelectQueryPlan.java:442)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.performList(ConcreteSqmSelectQueryPlan.java:362)
	at org.hibernate.query.sqm.internal.QuerySqmImpl.doList(QuerySqmImpl.java:380)
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:143)
	at org.hibernate.query.Query.getResultList(Query.java:120)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$CollectionExecution.doExecute(JpaQueryExecution.java:130)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:93)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:152)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:140)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:170)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	... 118 more
Caused by: org.postgresql.util.PSQLException: ERROR: relation "import_invoice_details" does not exist
  Position: 625
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2733)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2420)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:372)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:517)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:434)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:194)
	at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:137)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeQuery(ProxyPreparedStatement.java:52)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeQuery(HikariProxyPreparedStatement.java)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:250)
	... 165 more
2025-05-26 18:24:57 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHP
2025-05-26 18:24:57 ERROR AuthTokenFilter:101 - Cannot set user authentication: User Not Found with username: LHP
org.springframework.security.core.userdetails.UsernameNotFoundException: User Not Found with username: LHP
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.UserDetailsServiceImpl.lambda$loadUserByUsername$0(UserDetailsServiceImpl.java:21)
	at java.base/java.util.Optional.orElseThrow(Optional.java:403)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.UserDetailsServiceImpl.loadUserByUsername(UserDetailsServiceImpl.java:21)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.UserDetailsServiceImpl$$SpringCGLIB$$0.loadUserByUsername(<generated>)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.filters.AuthTokenFilter.doFilterInternal(AuthTokenFilter.java:66)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1575)
2025-05-26 18:24:57 ERROR ProductServiceImpl:93 - Error get all products status true
org.springframework.dao.InvalidDataAccessResourceUsageException: JDBC exception executing SQL [select iid1_0.product_id,iid1_0.id,iid1_0.import_invoice_id,ii1_0.id,ib1_0.id,ib1_0.created_by,ib1_0.created_date,ib1_0.deleted,ib1_0.enabled,ib1_0.password_encrypted,ib1_0.updated_by,ib1_0.updated_date,ib1_0.username,ib1_1.role_id,r1_0.id,r1_0.name,ii1_0.import_date,ii1_0.total_price,iid1_0.import_price,iid1_0.quantity,iid1_0.size_id,s1_0.id,s1_0.released_by,s1_0.released_date,s1_0.size,s1_0.status,s1_0.stock,s1_0.updated_by,s1_0.updated_date,s1_0.variation_id,iid1_0.variation_id,v2_0.id,v2_0.color,v2_0.color_code,v2_0.product_id,v2_0.released_by,v2_0.released_date,v2_0.status,v2_0.updated_by,v2_0.updated_date from import_invoice_details iid1_0 left join import_invoices ii1_0 on ii1_0.id=iid1_0.import_invoice_id left join users ib1_0 on ib1_0.id=ii1_0.import_by left join roles_users ib1_1 on ib1_0.id=ib1_1.user_id left join roles r1_0 on r1_0.id=ib1_1.role_id left join size s1_0 on s1_0.id=iid1_0.size_id left join variation v2_0 on v2_0.id=iid1_0.variation_id where iid1_0.product_id=?] [ERROR: relation "import_invoice_details" does not exist
  Position: 625] [n/a]; SQL [n/a]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:281)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:256)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:241)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560)
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:136)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy4/jdk.proxy4.$Proxy170.findByStatusTrueAndDeletedFalse(Unknown Source)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.ProductServiceImpl.getProductsStatusTrueAndDeleteFalse(ProductServiceImpl.java:91)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:724)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.ProductServiceImpl$$SpringCGLIB$$0.getProductsStatusTrueAndDeleteFalse(<generated>)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.controller.ProductController.getProductsStatusTrue(ProductController.java:25)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:724)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.controller.ProductController$$SpringCGLIB$$0.getProductsStatusTrue(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.filters.AuthTokenFilter.doFilterInternal(AuthTokenFilter.java:103)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1575)
Caused by: org.hibernate.exception.SQLGrammarException: JDBC exception executing SQL [select iid1_0.product_id,iid1_0.id,iid1_0.import_invoice_id,ii1_0.id,ib1_0.id,ib1_0.created_by,ib1_0.created_date,ib1_0.deleted,ib1_0.enabled,ib1_0.password_encrypted,ib1_0.updated_by,ib1_0.updated_date,ib1_0.username,ib1_1.role_id,r1_0.id,r1_0.name,ii1_0.import_date,ii1_0.total_price,iid1_0.import_price,iid1_0.quantity,iid1_0.size_id,s1_0.id,s1_0.released_by,s1_0.released_date,s1_0.size,s1_0.status,s1_0.stock,s1_0.updated_by,s1_0.updated_date,s1_0.variation_id,iid1_0.variation_id,v2_0.id,v2_0.color,v2_0.color_code,v2_0.product_id,v2_0.released_by,v2_0.released_date,v2_0.status,v2_0.updated_by,v2_0.updated_date from import_invoice_details iid1_0 left join import_invoices ii1_0 on ii1_0.id=iid1_0.import_invoice_id left join users ib1_0 on ib1_0.id=ii1_0.import_by left join roles_users ib1_1 on ib1_0.id=ib1_1.user_id left join roles r1_0 on r1_0.id=ib1_1.role_id left join size s1_0 on s1_0.id=iid1_0.size_id left join variation v2_0 on v2_0.id=iid1_0.variation_id where iid1_0.product_id=?] [ERROR: relation "import_invoice_details" does not exist
  Position: 625] [n/a]
	at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:91)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:58)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:94)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:268)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.getResultSet(DeferredResultSetAccess.java:171)
	at org.hibernate.sql.results.jdbc.internal.JdbcValuesResultSetImpl.<init>(JdbcValuesResultSetImpl.java:74)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.resolveJdbcValuesSource(JdbcSelectExecutorStandardImpl.java:355)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.doExecuteQuery(JdbcSelectExecutorStandardImpl.java:137)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.executeQuery(JdbcSelectExecutorStandardImpl.java:102)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.executeQuery(JdbcSelectExecutor.java:91)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:165)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:142)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:132)
	at org.hibernate.loader.ast.internal.CollectionLoaderSingleKey.load(CollectionLoaderSingleKey.java:120)
	at org.hibernate.persister.collection.AbstractCollectionPersister.initialize(AbstractCollectionPersister.java:748)
	at org.hibernate.event.internal.DefaultInitializeCollectionEventListener.onInitializeCollection(DefaultInitializeCollectionEventListener.java:69)
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:127)
	at org.hibernate.internal.SessionImpl.initializeCollection(SessionImpl.java:1724)
	at org.hibernate.collection.spi.AbstractPersistentCollection.lambda$initialize$3(AbstractPersistentCollection.java:616)
	at org.hibernate.collection.spi.AbstractPersistentCollection.withTemporarySessionIfNeeded(AbstractPersistentCollection.java:265)
	at org.hibernate.collection.spi.AbstractPersistentCollection.initialize(AbstractPersistentCollection.java:614)
	at org.hibernate.collection.spi.AbstractPersistentCollection.forceInitialization(AbstractPersistentCollection.java:817)
	at org.hibernate.engine.internal.StatefulPersistenceContext.initializeNonLazyCollections(StatefulPersistenceContext.java:1169)
	at org.hibernate.engine.internal.StatefulPersistenceContext.initializeNonLazyCollections(StatefulPersistenceContext.java:1155)
	at org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:224)
	at org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:35)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.doExecuteQuery(JdbcSelectExecutorStandardImpl.java:224)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.executeQuery(JdbcSelectExecutorStandardImpl.java:102)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.executeQuery(JdbcSelectExecutor.java:91)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:165)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.lambda$new$1(ConcreteSqmSelectQueryPlan.java:152)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.withCacheableSqmInterpretation(ConcreteSqmSelectQueryPlan.java:442)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.performList(ConcreteSqmSelectQueryPlan.java:362)
	at org.hibernate.query.sqm.internal.QuerySqmImpl.doList(QuerySqmImpl.java:380)
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:143)
	at org.hibernate.query.Query.getResultList(Query.java:120)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$CollectionExecution.doExecute(JpaQueryExecution.java:130)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:93)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:152)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:140)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:170)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	... 118 more
Caused by: org.postgresql.util.PSQLException: ERROR: relation "import_invoice_details" does not exist
  Position: 625
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2733)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2420)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:372)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:517)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:434)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:194)
	at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:137)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeQuery(ProxyPreparedStatement.java:52)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeQuery(HikariProxyPreparedStatement.java)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:250)
	... 165 more
2025-05-26 18:24:58 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHP
2025-05-26 18:24:58 ERROR AuthTokenFilter:101 - Cannot set user authentication: User Not Found with username: LHP
org.springframework.security.core.userdetails.UsernameNotFoundException: User Not Found with username: LHP
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.UserDetailsServiceImpl.lambda$loadUserByUsername$0(UserDetailsServiceImpl.java:21)
	at java.base/java.util.Optional.orElseThrow(Optional.java:403)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.UserDetailsServiceImpl.loadUserByUsername(UserDetailsServiceImpl.java:21)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.UserDetailsServiceImpl$$SpringCGLIB$$0.loadUserByUsername(<generated>)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.filters.AuthTokenFilter.doFilterInternal(AuthTokenFilter.java:66)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1575)
2025-05-26 18:24:58 ERROR ProductServiceImpl:93 - Error get all products status true
org.springframework.dao.InvalidDataAccessResourceUsageException: JDBC exception executing SQL [select iid1_0.product_id,iid1_0.id,iid1_0.import_invoice_id,ii1_0.id,ib1_0.id,ib1_0.created_by,ib1_0.created_date,ib1_0.deleted,ib1_0.enabled,ib1_0.password_encrypted,ib1_0.updated_by,ib1_0.updated_date,ib1_0.username,ib1_1.role_id,r1_0.id,r1_0.name,ii1_0.import_date,ii1_0.total_price,iid1_0.import_price,iid1_0.quantity,iid1_0.size_id,s1_0.id,s1_0.released_by,s1_0.released_date,s1_0.size,s1_0.status,s1_0.stock,s1_0.updated_by,s1_0.updated_date,s1_0.variation_id,iid1_0.variation_id,v2_0.id,v2_0.color,v2_0.color_code,v2_0.product_id,v2_0.released_by,v2_0.released_date,v2_0.status,v2_0.updated_by,v2_0.updated_date from import_invoice_details iid1_0 left join import_invoices ii1_0 on ii1_0.id=iid1_0.import_invoice_id left join users ib1_0 on ib1_0.id=ii1_0.import_by left join roles_users ib1_1 on ib1_0.id=ib1_1.user_id left join roles r1_0 on r1_0.id=ib1_1.role_id left join size s1_0 on s1_0.id=iid1_0.size_id left join variation v2_0 on v2_0.id=iid1_0.variation_id where iid1_0.product_id=?] [ERROR: relation "import_invoice_details" does not exist
  Position: 625] [n/a]; SQL [n/a]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:281)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:256)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:241)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560)
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:136)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy4/jdk.proxy4.$Proxy170.findByStatusTrueAndDeletedFalse(Unknown Source)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.ProductServiceImpl.getProductsStatusTrueAndDeleteFalse(ProductServiceImpl.java:91)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:724)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.ProductServiceImpl$$SpringCGLIB$$0.getProductsStatusTrueAndDeleteFalse(<generated>)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.controller.ProductController.getProductsStatusTrue(ProductController.java:25)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:724)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.controller.ProductController$$SpringCGLIB$$0.getProductsStatusTrue(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.filters.AuthTokenFilter.doFilterInternal(AuthTokenFilter.java:103)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1575)
Caused by: org.hibernate.exception.SQLGrammarException: JDBC exception executing SQL [select iid1_0.product_id,iid1_0.id,iid1_0.import_invoice_id,ii1_0.id,ib1_0.id,ib1_0.created_by,ib1_0.created_date,ib1_0.deleted,ib1_0.enabled,ib1_0.password_encrypted,ib1_0.updated_by,ib1_0.updated_date,ib1_0.username,ib1_1.role_id,r1_0.id,r1_0.name,ii1_0.import_date,ii1_0.total_price,iid1_0.import_price,iid1_0.quantity,iid1_0.size_id,s1_0.id,s1_0.released_by,s1_0.released_date,s1_0.size,s1_0.status,s1_0.stock,s1_0.updated_by,s1_0.updated_date,s1_0.variation_id,iid1_0.variation_id,v2_0.id,v2_0.color,v2_0.color_code,v2_0.product_id,v2_0.released_by,v2_0.released_date,v2_0.status,v2_0.updated_by,v2_0.updated_date from import_invoice_details iid1_0 left join import_invoices ii1_0 on ii1_0.id=iid1_0.import_invoice_id left join users ib1_0 on ib1_0.id=ii1_0.import_by left join roles_users ib1_1 on ib1_0.id=ib1_1.user_id left join roles r1_0 on r1_0.id=ib1_1.role_id left join size s1_0 on s1_0.id=iid1_0.size_id left join variation v2_0 on v2_0.id=iid1_0.variation_id where iid1_0.product_id=?] [ERROR: relation "import_invoice_details" does not exist
  Position: 625] [n/a]
	at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:91)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:58)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:94)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:268)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.getResultSet(DeferredResultSetAccess.java:171)
	at org.hibernate.sql.results.jdbc.internal.JdbcValuesResultSetImpl.<init>(JdbcValuesResultSetImpl.java:74)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.resolveJdbcValuesSource(JdbcSelectExecutorStandardImpl.java:355)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.doExecuteQuery(JdbcSelectExecutorStandardImpl.java:137)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.executeQuery(JdbcSelectExecutorStandardImpl.java:102)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.executeQuery(JdbcSelectExecutor.java:91)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:165)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:142)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:132)
	at org.hibernate.loader.ast.internal.CollectionLoaderSingleKey.load(CollectionLoaderSingleKey.java:120)
	at org.hibernate.persister.collection.AbstractCollectionPersister.initialize(AbstractCollectionPersister.java:748)
	at org.hibernate.event.internal.DefaultInitializeCollectionEventListener.onInitializeCollection(DefaultInitializeCollectionEventListener.java:69)
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:127)
	at org.hibernate.internal.SessionImpl.initializeCollection(SessionImpl.java:1724)
	at org.hibernate.collection.spi.AbstractPersistentCollection.lambda$initialize$3(AbstractPersistentCollection.java:616)
	at org.hibernate.collection.spi.AbstractPersistentCollection.withTemporarySessionIfNeeded(AbstractPersistentCollection.java:265)
	at org.hibernate.collection.spi.AbstractPersistentCollection.initialize(AbstractPersistentCollection.java:614)
	at org.hibernate.collection.spi.AbstractPersistentCollection.forceInitialization(AbstractPersistentCollection.java:817)
	at org.hibernate.engine.internal.StatefulPersistenceContext.initializeNonLazyCollections(StatefulPersistenceContext.java:1169)
	at org.hibernate.engine.internal.StatefulPersistenceContext.initializeNonLazyCollections(StatefulPersistenceContext.java:1155)
	at org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:224)
	at org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:35)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.doExecuteQuery(JdbcSelectExecutorStandardImpl.java:224)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.executeQuery(JdbcSelectExecutorStandardImpl.java:102)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.executeQuery(JdbcSelectExecutor.java:91)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:165)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.lambda$new$1(ConcreteSqmSelectQueryPlan.java:152)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.withCacheableSqmInterpretation(ConcreteSqmSelectQueryPlan.java:442)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.performList(ConcreteSqmSelectQueryPlan.java:362)
	at org.hibernate.query.sqm.internal.QuerySqmImpl.doList(QuerySqmImpl.java:380)
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:143)
	at org.hibernate.query.Query.getResultList(Query.java:120)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$CollectionExecution.doExecute(JpaQueryExecution.java:130)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:93)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:152)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:140)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:170)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	... 118 more
Caused by: org.postgresql.util.PSQLException: ERROR: relation "import_invoice_details" does not exist
  Position: 625
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2733)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2420)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:372)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:517)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:434)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:194)
	at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:137)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeQuery(ProxyPreparedStatement.java:52)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeQuery(HikariProxyPreparedStatement.java)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:250)
	... 165 more
2025-05-26 18:24:58 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHP
2025-05-26 18:24:58 ERROR AuthTokenFilter:101 - Cannot set user authentication: User Not Found with username: LHP
org.springframework.security.core.userdetails.UsernameNotFoundException: User Not Found with username: LHP
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.UserDetailsServiceImpl.lambda$loadUserByUsername$0(UserDetailsServiceImpl.java:21)
	at java.base/java.util.Optional.orElseThrow(Optional.java:403)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.UserDetailsServiceImpl.loadUserByUsername(UserDetailsServiceImpl.java:21)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.UserDetailsServiceImpl$$SpringCGLIB$$0.loadUserByUsername(<generated>)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.filters.AuthTokenFilter.doFilterInternal(AuthTokenFilter.java:66)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1575)
2025-05-26 18:24:58 ERROR ProductServiceImpl:93 - Error get all products status true
org.springframework.dao.InvalidDataAccessResourceUsageException: JDBC exception executing SQL [select iid1_0.product_id,iid1_0.id,iid1_0.import_invoice_id,ii1_0.id,ib1_0.id,ib1_0.created_by,ib1_0.created_date,ib1_0.deleted,ib1_0.enabled,ib1_0.password_encrypted,ib1_0.updated_by,ib1_0.updated_date,ib1_0.username,ib1_1.role_id,r1_0.id,r1_0.name,ii1_0.import_date,ii1_0.total_price,iid1_0.import_price,iid1_0.quantity,iid1_0.size_id,s1_0.id,s1_0.released_by,s1_0.released_date,s1_0.size,s1_0.status,s1_0.stock,s1_0.updated_by,s1_0.updated_date,s1_0.variation_id,iid1_0.variation_id,v2_0.id,v2_0.color,v2_0.color_code,v2_0.product_id,v2_0.released_by,v2_0.released_date,v2_0.status,v2_0.updated_by,v2_0.updated_date from import_invoice_details iid1_0 left join import_invoices ii1_0 on ii1_0.id=iid1_0.import_invoice_id left join users ib1_0 on ib1_0.id=ii1_0.import_by left join roles_users ib1_1 on ib1_0.id=ib1_1.user_id left join roles r1_0 on r1_0.id=ib1_1.role_id left join size s1_0 on s1_0.id=iid1_0.size_id left join variation v2_0 on v2_0.id=iid1_0.variation_id where iid1_0.product_id=?] [ERROR: relation "import_invoice_details" does not exist
  Position: 625] [n/a]; SQL [n/a]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:281)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:256)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:241)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560)
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:136)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy4/jdk.proxy4.$Proxy170.findByStatusTrueAndDeletedFalse(Unknown Source)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.ProductServiceImpl.getProductsStatusTrueAndDeleteFalse(ProductServiceImpl.java:91)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:724)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.ProductServiceImpl$$SpringCGLIB$$0.getProductsStatusTrueAndDeleteFalse(<generated>)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.controller.ProductController.getProductsStatusTrue(ProductController.java:25)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:724)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.controller.ProductController$$SpringCGLIB$$0.getProductsStatusTrue(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.filters.AuthTokenFilter.doFilterInternal(AuthTokenFilter.java:103)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1575)
Caused by: org.hibernate.exception.SQLGrammarException: JDBC exception executing SQL [select iid1_0.product_id,iid1_0.id,iid1_0.import_invoice_id,ii1_0.id,ib1_0.id,ib1_0.created_by,ib1_0.created_date,ib1_0.deleted,ib1_0.enabled,ib1_0.password_encrypted,ib1_0.updated_by,ib1_0.updated_date,ib1_0.username,ib1_1.role_id,r1_0.id,r1_0.name,ii1_0.import_date,ii1_0.total_price,iid1_0.import_price,iid1_0.quantity,iid1_0.size_id,s1_0.id,s1_0.released_by,s1_0.released_date,s1_0.size,s1_0.status,s1_0.stock,s1_0.updated_by,s1_0.updated_date,s1_0.variation_id,iid1_0.variation_id,v2_0.id,v2_0.color,v2_0.color_code,v2_0.product_id,v2_0.released_by,v2_0.released_date,v2_0.status,v2_0.updated_by,v2_0.updated_date from import_invoice_details iid1_0 left join import_invoices ii1_0 on ii1_0.id=iid1_0.import_invoice_id left join users ib1_0 on ib1_0.id=ii1_0.import_by left join roles_users ib1_1 on ib1_0.id=ib1_1.user_id left join roles r1_0 on r1_0.id=ib1_1.role_id left join size s1_0 on s1_0.id=iid1_0.size_id left join variation v2_0 on v2_0.id=iid1_0.variation_id where iid1_0.product_id=?] [ERROR: relation "import_invoice_details" does not exist
  Position: 625] [n/a]
	at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:91)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:58)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:94)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:268)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.getResultSet(DeferredResultSetAccess.java:171)
	at org.hibernate.sql.results.jdbc.internal.JdbcValuesResultSetImpl.<init>(JdbcValuesResultSetImpl.java:74)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.resolveJdbcValuesSource(JdbcSelectExecutorStandardImpl.java:355)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.doExecuteQuery(JdbcSelectExecutorStandardImpl.java:137)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.executeQuery(JdbcSelectExecutorStandardImpl.java:102)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.executeQuery(JdbcSelectExecutor.java:91)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:165)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:142)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:132)
	at org.hibernate.loader.ast.internal.CollectionLoaderSingleKey.load(CollectionLoaderSingleKey.java:120)
	at org.hibernate.persister.collection.AbstractCollectionPersister.initialize(AbstractCollectionPersister.java:748)
	at org.hibernate.event.internal.DefaultInitializeCollectionEventListener.onInitializeCollection(DefaultInitializeCollectionEventListener.java:69)
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:127)
	at org.hibernate.internal.SessionImpl.initializeCollection(SessionImpl.java:1724)
	at org.hibernate.collection.spi.AbstractPersistentCollection.lambda$initialize$3(AbstractPersistentCollection.java:616)
	at org.hibernate.collection.spi.AbstractPersistentCollection.withTemporarySessionIfNeeded(AbstractPersistentCollection.java:265)
	at org.hibernate.collection.spi.AbstractPersistentCollection.initialize(AbstractPersistentCollection.java:614)
	at org.hibernate.collection.spi.AbstractPersistentCollection.forceInitialization(AbstractPersistentCollection.java:817)
	at org.hibernate.engine.internal.StatefulPersistenceContext.initializeNonLazyCollections(StatefulPersistenceContext.java:1169)
	at org.hibernate.engine.internal.StatefulPersistenceContext.initializeNonLazyCollections(StatefulPersistenceContext.java:1155)
	at org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:224)
	at org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:35)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.doExecuteQuery(JdbcSelectExecutorStandardImpl.java:224)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.executeQuery(JdbcSelectExecutorStandardImpl.java:102)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.executeQuery(JdbcSelectExecutor.java:91)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:165)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.lambda$new$1(ConcreteSqmSelectQueryPlan.java:152)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.withCacheableSqmInterpretation(ConcreteSqmSelectQueryPlan.java:442)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.performList(ConcreteSqmSelectQueryPlan.java:362)
	at org.hibernate.query.sqm.internal.QuerySqmImpl.doList(QuerySqmImpl.java:380)
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:143)
	at org.hibernate.query.Query.getResultList(Query.java:120)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$CollectionExecution.doExecute(JpaQueryExecution.java:130)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:93)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:152)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:140)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:170)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	... 118 more
Caused by: org.postgresql.util.PSQLException: ERROR: relation "import_invoice_details" does not exist
  Position: 625
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2733)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2420)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:372)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:517)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:434)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:194)
	at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:137)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeQuery(ProxyPreparedStatement.java:52)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeQuery(HikariProxyPreparedStatement.java)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:250)
	... 165 more
2025-05-26 18:24:58 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHP
2025-05-26 18:24:58 ERROR AuthTokenFilter:101 - Cannot set user authentication: User Not Found with username: LHP
org.springframework.security.core.userdetails.UsernameNotFoundException: User Not Found with username: LHP
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.UserDetailsServiceImpl.lambda$loadUserByUsername$0(UserDetailsServiceImpl.java:21)
	at java.base/java.util.Optional.orElseThrow(Optional.java:403)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.UserDetailsServiceImpl.loadUserByUsername(UserDetailsServiceImpl.java:21)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.UserDetailsServiceImpl$$SpringCGLIB$$0.loadUserByUsername(<generated>)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.filters.AuthTokenFilter.doFilterInternal(AuthTokenFilter.java:66)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1575)
2025-05-26 18:24:58 ERROR ProductServiceImpl:93 - Error get all products status true
org.springframework.dao.InvalidDataAccessResourceUsageException: JDBC exception executing SQL [select iid1_0.product_id,iid1_0.id,iid1_0.import_invoice_id,ii1_0.id,ib1_0.id,ib1_0.created_by,ib1_0.created_date,ib1_0.deleted,ib1_0.enabled,ib1_0.password_encrypted,ib1_0.updated_by,ib1_0.updated_date,ib1_0.username,ib1_1.role_id,r1_0.id,r1_0.name,ii1_0.import_date,ii1_0.total_price,iid1_0.import_price,iid1_0.quantity,iid1_0.size_id,s1_0.id,s1_0.released_by,s1_0.released_date,s1_0.size,s1_0.status,s1_0.stock,s1_0.updated_by,s1_0.updated_date,s1_0.variation_id,iid1_0.variation_id,v2_0.id,v2_0.color,v2_0.color_code,v2_0.product_id,v2_0.released_by,v2_0.released_date,v2_0.status,v2_0.updated_by,v2_0.updated_date from import_invoice_details iid1_0 left join import_invoices ii1_0 on ii1_0.id=iid1_0.import_invoice_id left join users ib1_0 on ib1_0.id=ii1_0.import_by left join roles_users ib1_1 on ib1_0.id=ib1_1.user_id left join roles r1_0 on r1_0.id=ib1_1.role_id left join size s1_0 on s1_0.id=iid1_0.size_id left join variation v2_0 on v2_0.id=iid1_0.variation_id where iid1_0.product_id=?] [ERROR: relation "import_invoice_details" does not exist
  Position: 625] [n/a]; SQL [n/a]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:281)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:256)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:241)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560)
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:136)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy4/jdk.proxy4.$Proxy170.findByStatusTrueAndDeletedFalse(Unknown Source)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.ProductServiceImpl.getProductsStatusTrueAndDeleteFalse(ProductServiceImpl.java:91)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:724)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.ProductServiceImpl$$SpringCGLIB$$0.getProductsStatusTrueAndDeleteFalse(<generated>)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.controller.ProductController.getProductsStatusTrue(ProductController.java:25)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:724)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.controller.ProductController$$SpringCGLIB$$0.getProductsStatusTrue(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.filters.AuthTokenFilter.doFilterInternal(AuthTokenFilter.java:103)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1575)
Caused by: org.hibernate.exception.SQLGrammarException: JDBC exception executing SQL [select iid1_0.product_id,iid1_0.id,iid1_0.import_invoice_id,ii1_0.id,ib1_0.id,ib1_0.created_by,ib1_0.created_date,ib1_0.deleted,ib1_0.enabled,ib1_0.password_encrypted,ib1_0.updated_by,ib1_0.updated_date,ib1_0.username,ib1_1.role_id,r1_0.id,r1_0.name,ii1_0.import_date,ii1_0.total_price,iid1_0.import_price,iid1_0.quantity,iid1_0.size_id,s1_0.id,s1_0.released_by,s1_0.released_date,s1_0.size,s1_0.status,s1_0.stock,s1_0.updated_by,s1_0.updated_date,s1_0.variation_id,iid1_0.variation_id,v2_0.id,v2_0.color,v2_0.color_code,v2_0.product_id,v2_0.released_by,v2_0.released_date,v2_0.status,v2_0.updated_by,v2_0.updated_date from import_invoice_details iid1_0 left join import_invoices ii1_0 on ii1_0.id=iid1_0.import_invoice_id left join users ib1_0 on ib1_0.id=ii1_0.import_by left join roles_users ib1_1 on ib1_0.id=ib1_1.user_id left join roles r1_0 on r1_0.id=ib1_1.role_id left join size s1_0 on s1_0.id=iid1_0.size_id left join variation v2_0 on v2_0.id=iid1_0.variation_id where iid1_0.product_id=?] [ERROR: relation "import_invoice_details" does not exist
  Position: 625] [n/a]
	at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:91)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:58)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:94)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:268)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.getResultSet(DeferredResultSetAccess.java:171)
	at org.hibernate.sql.results.jdbc.internal.JdbcValuesResultSetImpl.<init>(JdbcValuesResultSetImpl.java:74)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.resolveJdbcValuesSource(JdbcSelectExecutorStandardImpl.java:355)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.doExecuteQuery(JdbcSelectExecutorStandardImpl.java:137)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.executeQuery(JdbcSelectExecutorStandardImpl.java:102)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.executeQuery(JdbcSelectExecutor.java:91)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:165)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:142)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:132)
	at org.hibernate.loader.ast.internal.CollectionLoaderSingleKey.load(CollectionLoaderSingleKey.java:120)
	at org.hibernate.persister.collection.AbstractCollectionPersister.initialize(AbstractCollectionPersister.java:748)
	at org.hibernate.event.internal.DefaultInitializeCollectionEventListener.onInitializeCollection(DefaultInitializeCollectionEventListener.java:69)
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:127)
	at org.hibernate.internal.SessionImpl.initializeCollection(SessionImpl.java:1724)
	at org.hibernate.collection.spi.AbstractPersistentCollection.lambda$initialize$3(AbstractPersistentCollection.java:616)
	at org.hibernate.collection.spi.AbstractPersistentCollection.withTemporarySessionIfNeeded(AbstractPersistentCollection.java:265)
	at org.hibernate.collection.spi.AbstractPersistentCollection.initialize(AbstractPersistentCollection.java:614)
	at org.hibernate.collection.spi.AbstractPersistentCollection.forceInitialization(AbstractPersistentCollection.java:817)
	at org.hibernate.engine.internal.StatefulPersistenceContext.initializeNonLazyCollections(StatefulPersistenceContext.java:1169)
	at org.hibernate.engine.internal.StatefulPersistenceContext.initializeNonLazyCollections(StatefulPersistenceContext.java:1155)
	at org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:224)
	at org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:35)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.doExecuteQuery(JdbcSelectExecutorStandardImpl.java:224)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.executeQuery(JdbcSelectExecutorStandardImpl.java:102)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.executeQuery(JdbcSelectExecutor.java:91)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:165)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.lambda$new$1(ConcreteSqmSelectQueryPlan.java:152)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.withCacheableSqmInterpretation(ConcreteSqmSelectQueryPlan.java:442)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.performList(ConcreteSqmSelectQueryPlan.java:362)
	at org.hibernate.query.sqm.internal.QuerySqmImpl.doList(QuerySqmImpl.java:380)
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:143)
	at org.hibernate.query.Query.getResultList(Query.java:120)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$CollectionExecution.doExecute(JpaQueryExecution.java:130)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:93)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:152)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:140)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:170)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	... 118 more
Caused by: org.postgresql.util.PSQLException: ERROR: relation "import_invoice_details" does not exist
  Position: 625
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2733)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2420)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:372)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:517)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:434)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:194)
	at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:137)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeQuery(ProxyPreparedStatement.java:52)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeQuery(HikariProxyPreparedStatement.java)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:250)
	... 165 more
2025-05-26 18:24:58 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHP
2025-05-26 18:24:58 ERROR AuthTokenFilter:101 - Cannot set user authentication: User Not Found with username: LHP
org.springframework.security.core.userdetails.UsernameNotFoundException: User Not Found with username: LHP
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.UserDetailsServiceImpl.lambda$loadUserByUsername$0(UserDetailsServiceImpl.java:21)
	at java.base/java.util.Optional.orElseThrow(Optional.java:403)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.UserDetailsServiceImpl.loadUserByUsername(UserDetailsServiceImpl.java:21)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.UserDetailsServiceImpl$$SpringCGLIB$$0.loadUserByUsername(<generated>)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.filters.AuthTokenFilter.doFilterInternal(AuthTokenFilter.java:66)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1575)
2025-05-26 18:24:58 ERROR ProductServiceImpl:93 - Error get all products status true
org.springframework.dao.InvalidDataAccessResourceUsageException: JDBC exception executing SQL [select iid1_0.product_id,iid1_0.id,iid1_0.import_invoice_id,ii1_0.id,ib1_0.id,ib1_0.created_by,ib1_0.created_date,ib1_0.deleted,ib1_0.enabled,ib1_0.password_encrypted,ib1_0.updated_by,ib1_0.updated_date,ib1_0.username,ib1_1.role_id,r1_0.id,r1_0.name,ii1_0.import_date,ii1_0.total_price,iid1_0.import_price,iid1_0.quantity,iid1_0.size_id,s1_0.id,s1_0.released_by,s1_0.released_date,s1_0.size,s1_0.status,s1_0.stock,s1_0.updated_by,s1_0.updated_date,s1_0.variation_id,iid1_0.variation_id,v2_0.id,v2_0.color,v2_0.color_code,v2_0.product_id,v2_0.released_by,v2_0.released_date,v2_0.status,v2_0.updated_by,v2_0.updated_date from import_invoice_details iid1_0 left join import_invoices ii1_0 on ii1_0.id=iid1_0.import_invoice_id left join users ib1_0 on ib1_0.id=ii1_0.import_by left join roles_users ib1_1 on ib1_0.id=ib1_1.user_id left join roles r1_0 on r1_0.id=ib1_1.role_id left join size s1_0 on s1_0.id=iid1_0.size_id left join variation v2_0 on v2_0.id=iid1_0.variation_id where iid1_0.product_id=?] [ERROR: relation "import_invoice_details" does not exist
  Position: 625] [n/a]; SQL [n/a]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:281)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:256)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:241)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560)
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:136)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy4/jdk.proxy4.$Proxy170.findByStatusTrueAndDeletedFalse(Unknown Source)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.ProductServiceImpl.getProductsStatusTrueAndDeleteFalse(ProductServiceImpl.java:91)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:724)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.ProductServiceImpl$$SpringCGLIB$$0.getProductsStatusTrueAndDeleteFalse(<generated>)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.controller.ProductController.getProductsStatusTrue(ProductController.java:25)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:724)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.controller.ProductController$$SpringCGLIB$$0.getProductsStatusTrue(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.filters.AuthTokenFilter.doFilterInternal(AuthTokenFilter.java:103)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1575)
Caused by: org.hibernate.exception.SQLGrammarException: JDBC exception executing SQL [select iid1_0.product_id,iid1_0.id,iid1_0.import_invoice_id,ii1_0.id,ib1_0.id,ib1_0.created_by,ib1_0.created_date,ib1_0.deleted,ib1_0.enabled,ib1_0.password_encrypted,ib1_0.updated_by,ib1_0.updated_date,ib1_0.username,ib1_1.role_id,r1_0.id,r1_0.name,ii1_0.import_date,ii1_0.total_price,iid1_0.import_price,iid1_0.quantity,iid1_0.size_id,s1_0.id,s1_0.released_by,s1_0.released_date,s1_0.size,s1_0.status,s1_0.stock,s1_0.updated_by,s1_0.updated_date,s1_0.variation_id,iid1_0.variation_id,v2_0.id,v2_0.color,v2_0.color_code,v2_0.product_id,v2_0.released_by,v2_0.released_date,v2_0.status,v2_0.updated_by,v2_0.updated_date from import_invoice_details iid1_0 left join import_invoices ii1_0 on ii1_0.id=iid1_0.import_invoice_id left join users ib1_0 on ib1_0.id=ii1_0.import_by left join roles_users ib1_1 on ib1_0.id=ib1_1.user_id left join roles r1_0 on r1_0.id=ib1_1.role_id left join size s1_0 on s1_0.id=iid1_0.size_id left join variation v2_0 on v2_0.id=iid1_0.variation_id where iid1_0.product_id=?] [ERROR: relation "import_invoice_details" does not exist
  Position: 625] [n/a]
	at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:91)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:58)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:94)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:268)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.getResultSet(DeferredResultSetAccess.java:171)
	at org.hibernate.sql.results.jdbc.internal.JdbcValuesResultSetImpl.<init>(JdbcValuesResultSetImpl.java:74)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.resolveJdbcValuesSource(JdbcSelectExecutorStandardImpl.java:355)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.doExecuteQuery(JdbcSelectExecutorStandardImpl.java:137)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.executeQuery(JdbcSelectExecutorStandardImpl.java:102)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.executeQuery(JdbcSelectExecutor.java:91)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:165)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:142)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:132)
	at org.hibernate.loader.ast.internal.CollectionLoaderSingleKey.load(CollectionLoaderSingleKey.java:120)
	at org.hibernate.persister.collection.AbstractCollectionPersister.initialize(AbstractCollectionPersister.java:748)
	at org.hibernate.event.internal.DefaultInitializeCollectionEventListener.onInitializeCollection(DefaultInitializeCollectionEventListener.java:69)
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:127)
	at org.hibernate.internal.SessionImpl.initializeCollection(SessionImpl.java:1724)
	at org.hibernate.collection.spi.AbstractPersistentCollection.lambda$initialize$3(AbstractPersistentCollection.java:616)
	at org.hibernate.collection.spi.AbstractPersistentCollection.withTemporarySessionIfNeeded(AbstractPersistentCollection.java:265)
	at org.hibernate.collection.spi.AbstractPersistentCollection.initialize(AbstractPersistentCollection.java:614)
	at org.hibernate.collection.spi.AbstractPersistentCollection.forceInitialization(AbstractPersistentCollection.java:817)
	at org.hibernate.engine.internal.StatefulPersistenceContext.initializeNonLazyCollections(StatefulPersistenceContext.java:1169)
	at org.hibernate.engine.internal.StatefulPersistenceContext.initializeNonLazyCollections(StatefulPersistenceContext.java:1155)
	at org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:224)
	at org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:35)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.doExecuteQuery(JdbcSelectExecutorStandardImpl.java:224)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.executeQuery(JdbcSelectExecutorStandardImpl.java:102)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.executeQuery(JdbcSelectExecutor.java:91)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:165)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.lambda$new$1(ConcreteSqmSelectQueryPlan.java:152)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.withCacheableSqmInterpretation(ConcreteSqmSelectQueryPlan.java:442)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.performList(ConcreteSqmSelectQueryPlan.java:362)
	at org.hibernate.query.sqm.internal.QuerySqmImpl.doList(QuerySqmImpl.java:380)
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:143)
	at org.hibernate.query.Query.getResultList(Query.java:120)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$CollectionExecution.doExecute(JpaQueryExecution.java:130)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:93)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:152)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:140)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:170)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	... 118 more
Caused by: org.postgresql.util.PSQLException: ERROR: relation "import_invoice_details" does not exist
  Position: 625
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2733)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2420)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:372)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:517)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:434)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:194)
	at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:137)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeQuery(ProxyPreparedStatement.java:52)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeQuery(HikariProxyPreparedStatement.java)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:250)
	... 165 more
2025-05-26 18:24:58 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHP
2025-05-26 18:24:58 ERROR AuthTokenFilter:101 - Cannot set user authentication: User Not Found with username: LHP
org.springframework.security.core.userdetails.UsernameNotFoundException: User Not Found with username: LHP
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.UserDetailsServiceImpl.lambda$loadUserByUsername$0(UserDetailsServiceImpl.java:21)
	at java.base/java.util.Optional.orElseThrow(Optional.java:403)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.UserDetailsServiceImpl.loadUserByUsername(UserDetailsServiceImpl.java:21)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.UserDetailsServiceImpl$$SpringCGLIB$$0.loadUserByUsername(<generated>)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.filters.AuthTokenFilter.doFilterInternal(AuthTokenFilter.java:66)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1575)
2025-05-26 18:24:58 ERROR ProductServiceImpl:93 - Error get all products status true
org.springframework.dao.InvalidDataAccessResourceUsageException: JDBC exception executing SQL [select iid1_0.product_id,iid1_0.id,iid1_0.import_invoice_id,ii1_0.id,ib1_0.id,ib1_0.created_by,ib1_0.created_date,ib1_0.deleted,ib1_0.enabled,ib1_0.password_encrypted,ib1_0.updated_by,ib1_0.updated_date,ib1_0.username,ib1_1.role_id,r1_0.id,r1_0.name,ii1_0.import_date,ii1_0.total_price,iid1_0.import_price,iid1_0.quantity,iid1_0.size_id,s1_0.id,s1_0.released_by,s1_0.released_date,s1_0.size,s1_0.status,s1_0.stock,s1_0.updated_by,s1_0.updated_date,s1_0.variation_id,iid1_0.variation_id,v2_0.id,v2_0.color,v2_0.color_code,v2_0.product_id,v2_0.released_by,v2_0.released_date,v2_0.status,v2_0.updated_by,v2_0.updated_date from import_invoice_details iid1_0 left join import_invoices ii1_0 on ii1_0.id=iid1_0.import_invoice_id left join users ib1_0 on ib1_0.id=ii1_0.import_by left join roles_users ib1_1 on ib1_0.id=ib1_1.user_id left join roles r1_0 on r1_0.id=ib1_1.role_id left join size s1_0 on s1_0.id=iid1_0.size_id left join variation v2_0 on v2_0.id=iid1_0.variation_id where iid1_0.product_id=?] [ERROR: relation "import_invoice_details" does not exist
  Position: 625] [n/a]; SQL [n/a]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:281)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:256)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:241)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560)
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:136)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy4/jdk.proxy4.$Proxy170.findByStatusTrueAndDeletedFalse(Unknown Source)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.ProductServiceImpl.getProductsStatusTrueAndDeleteFalse(ProductServiceImpl.java:91)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:724)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.ProductServiceImpl$$SpringCGLIB$$0.getProductsStatusTrueAndDeleteFalse(<generated>)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.controller.ProductController.getProductsStatusTrue(ProductController.java:25)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:724)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.controller.ProductController$$SpringCGLIB$$0.getProductsStatusTrue(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.filters.AuthTokenFilter.doFilterInternal(AuthTokenFilter.java:103)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1575)
Caused by: org.hibernate.exception.SQLGrammarException: JDBC exception executing SQL [select iid1_0.product_id,iid1_0.id,iid1_0.import_invoice_id,ii1_0.id,ib1_0.id,ib1_0.created_by,ib1_0.created_date,ib1_0.deleted,ib1_0.enabled,ib1_0.password_encrypted,ib1_0.updated_by,ib1_0.updated_date,ib1_0.username,ib1_1.role_id,r1_0.id,r1_0.name,ii1_0.import_date,ii1_0.total_price,iid1_0.import_price,iid1_0.quantity,iid1_0.size_id,s1_0.id,s1_0.released_by,s1_0.released_date,s1_0.size,s1_0.status,s1_0.stock,s1_0.updated_by,s1_0.updated_date,s1_0.variation_id,iid1_0.variation_id,v2_0.id,v2_0.color,v2_0.color_code,v2_0.product_id,v2_0.released_by,v2_0.released_date,v2_0.status,v2_0.updated_by,v2_0.updated_date from import_invoice_details iid1_0 left join import_invoices ii1_0 on ii1_0.id=iid1_0.import_invoice_id left join users ib1_0 on ib1_0.id=ii1_0.import_by left join roles_users ib1_1 on ib1_0.id=ib1_1.user_id left join roles r1_0 on r1_0.id=ib1_1.role_id left join size s1_0 on s1_0.id=iid1_0.size_id left join variation v2_0 on v2_0.id=iid1_0.variation_id where iid1_0.product_id=?] [ERROR: relation "import_invoice_details" does not exist
  Position: 625] [n/a]
	at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:91)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:58)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:94)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:268)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.getResultSet(DeferredResultSetAccess.java:171)
	at org.hibernate.sql.results.jdbc.internal.JdbcValuesResultSetImpl.<init>(JdbcValuesResultSetImpl.java:74)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.resolveJdbcValuesSource(JdbcSelectExecutorStandardImpl.java:355)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.doExecuteQuery(JdbcSelectExecutorStandardImpl.java:137)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.executeQuery(JdbcSelectExecutorStandardImpl.java:102)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.executeQuery(JdbcSelectExecutor.java:91)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:165)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:142)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:132)
	at org.hibernate.loader.ast.internal.CollectionLoaderSingleKey.load(CollectionLoaderSingleKey.java:120)
	at org.hibernate.persister.collection.AbstractCollectionPersister.initialize(AbstractCollectionPersister.java:748)
	at org.hibernate.event.internal.DefaultInitializeCollectionEventListener.onInitializeCollection(DefaultInitializeCollectionEventListener.java:69)
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:127)
	at org.hibernate.internal.SessionImpl.initializeCollection(SessionImpl.java:1724)
	at org.hibernate.collection.spi.AbstractPersistentCollection.lambda$initialize$3(AbstractPersistentCollection.java:616)
	at org.hibernate.collection.spi.AbstractPersistentCollection.withTemporarySessionIfNeeded(AbstractPersistentCollection.java:265)
	at org.hibernate.collection.spi.AbstractPersistentCollection.initialize(AbstractPersistentCollection.java:614)
	at org.hibernate.collection.spi.AbstractPersistentCollection.forceInitialization(AbstractPersistentCollection.java:817)
	at org.hibernate.engine.internal.StatefulPersistenceContext.initializeNonLazyCollections(StatefulPersistenceContext.java:1169)
	at org.hibernate.engine.internal.StatefulPersistenceContext.initializeNonLazyCollections(StatefulPersistenceContext.java:1155)
	at org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:224)
	at org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:35)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.doExecuteQuery(JdbcSelectExecutorStandardImpl.java:224)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.executeQuery(JdbcSelectExecutorStandardImpl.java:102)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.executeQuery(JdbcSelectExecutor.java:91)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:165)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.lambda$new$1(ConcreteSqmSelectQueryPlan.java:152)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.withCacheableSqmInterpretation(ConcreteSqmSelectQueryPlan.java:442)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.performList(ConcreteSqmSelectQueryPlan.java:362)
	at org.hibernate.query.sqm.internal.QuerySqmImpl.doList(QuerySqmImpl.java:380)
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:143)
	at org.hibernate.query.Query.getResultList(Query.java:120)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$CollectionExecution.doExecute(JpaQueryExecution.java:130)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:93)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:152)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:140)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:170)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	... 118 more
Caused by: org.postgresql.util.PSQLException: ERROR: relation "import_invoice_details" does not exist
  Position: 625
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2733)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2420)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:372)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:517)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:434)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:194)
	at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:137)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeQuery(ProxyPreparedStatement.java:52)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeQuery(HikariProxyPreparedStatement.java)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:250)
	... 165 more
2025-05-26 18:24:59 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHP
2025-05-26 18:24:59 ERROR AuthTokenFilter:101 - Cannot set user authentication: User Not Found with username: LHP
org.springframework.security.core.userdetails.UsernameNotFoundException: User Not Found with username: LHP
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.UserDetailsServiceImpl.lambda$loadUserByUsername$0(UserDetailsServiceImpl.java:21)
	at java.base/java.util.Optional.orElseThrow(Optional.java:403)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.UserDetailsServiceImpl.loadUserByUsername(UserDetailsServiceImpl.java:21)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.UserDetailsServiceImpl$$SpringCGLIB$$0.loadUserByUsername(<generated>)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.filters.AuthTokenFilter.doFilterInternal(AuthTokenFilter.java:66)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1575)
2025-05-26 18:24:59 ERROR ProductServiceImpl:93 - Error get all products status true
org.springframework.dao.InvalidDataAccessResourceUsageException: JDBC exception executing SQL [select iid1_0.product_id,iid1_0.id,iid1_0.import_invoice_id,ii1_0.id,ib1_0.id,ib1_0.created_by,ib1_0.created_date,ib1_0.deleted,ib1_0.enabled,ib1_0.password_encrypted,ib1_0.updated_by,ib1_0.updated_date,ib1_0.username,ib1_1.role_id,r1_0.id,r1_0.name,ii1_0.import_date,ii1_0.total_price,iid1_0.import_price,iid1_0.quantity,iid1_0.size_id,s1_0.id,s1_0.released_by,s1_0.released_date,s1_0.size,s1_0.status,s1_0.stock,s1_0.updated_by,s1_0.updated_date,s1_0.variation_id,iid1_0.variation_id,v2_0.id,v2_0.color,v2_0.color_code,v2_0.product_id,v2_0.released_by,v2_0.released_date,v2_0.status,v2_0.updated_by,v2_0.updated_date from import_invoice_details iid1_0 left join import_invoices ii1_0 on ii1_0.id=iid1_0.import_invoice_id left join users ib1_0 on ib1_0.id=ii1_0.import_by left join roles_users ib1_1 on ib1_0.id=ib1_1.user_id left join roles r1_0 on r1_0.id=ib1_1.role_id left join size s1_0 on s1_0.id=iid1_0.size_id left join variation v2_0 on v2_0.id=iid1_0.variation_id where iid1_0.product_id=?] [ERROR: relation "import_invoice_details" does not exist
  Position: 625] [n/a]; SQL [n/a]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:281)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:256)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:241)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560)
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:136)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy4/jdk.proxy4.$Proxy170.findByStatusTrueAndDeletedFalse(Unknown Source)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.ProductServiceImpl.getProductsStatusTrueAndDeleteFalse(ProductServiceImpl.java:91)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:724)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.ProductServiceImpl$$SpringCGLIB$$0.getProductsStatusTrueAndDeleteFalse(<generated>)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.controller.ProductController.getProductsStatusTrue(ProductController.java:25)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:724)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.controller.ProductController$$SpringCGLIB$$0.getProductsStatusTrue(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.filters.AuthTokenFilter.doFilterInternal(AuthTokenFilter.java:103)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1575)
Caused by: org.hibernate.exception.SQLGrammarException: JDBC exception executing SQL [select iid1_0.product_id,iid1_0.id,iid1_0.import_invoice_id,ii1_0.id,ib1_0.id,ib1_0.created_by,ib1_0.created_date,ib1_0.deleted,ib1_0.enabled,ib1_0.password_encrypted,ib1_0.updated_by,ib1_0.updated_date,ib1_0.username,ib1_1.role_id,r1_0.id,r1_0.name,ii1_0.import_date,ii1_0.total_price,iid1_0.import_price,iid1_0.quantity,iid1_0.size_id,s1_0.id,s1_0.released_by,s1_0.released_date,s1_0.size,s1_0.status,s1_0.stock,s1_0.updated_by,s1_0.updated_date,s1_0.variation_id,iid1_0.variation_id,v2_0.id,v2_0.color,v2_0.color_code,v2_0.product_id,v2_0.released_by,v2_0.released_date,v2_0.status,v2_0.updated_by,v2_0.updated_date from import_invoice_details iid1_0 left join import_invoices ii1_0 on ii1_0.id=iid1_0.import_invoice_id left join users ib1_0 on ib1_0.id=ii1_0.import_by left join roles_users ib1_1 on ib1_0.id=ib1_1.user_id left join roles r1_0 on r1_0.id=ib1_1.role_id left join size s1_0 on s1_0.id=iid1_0.size_id left join variation v2_0 on v2_0.id=iid1_0.variation_id where iid1_0.product_id=?] [ERROR: relation "import_invoice_details" does not exist
  Position: 625] [n/a]
	at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:91)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:58)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:94)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:268)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.getResultSet(DeferredResultSetAccess.java:171)
	at org.hibernate.sql.results.jdbc.internal.JdbcValuesResultSetImpl.<init>(JdbcValuesResultSetImpl.java:74)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.resolveJdbcValuesSource(JdbcSelectExecutorStandardImpl.java:355)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.doExecuteQuery(JdbcSelectExecutorStandardImpl.java:137)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.executeQuery(JdbcSelectExecutorStandardImpl.java:102)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.executeQuery(JdbcSelectExecutor.java:91)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:165)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:142)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:132)
	at org.hibernate.loader.ast.internal.CollectionLoaderSingleKey.load(CollectionLoaderSingleKey.java:120)
	at org.hibernate.persister.collection.AbstractCollectionPersister.initialize(AbstractCollectionPersister.java:748)
	at org.hibernate.event.internal.DefaultInitializeCollectionEventListener.onInitializeCollection(DefaultInitializeCollectionEventListener.java:69)
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:127)
	at org.hibernate.internal.SessionImpl.initializeCollection(SessionImpl.java:1724)
	at org.hibernate.collection.spi.AbstractPersistentCollection.lambda$initialize$3(AbstractPersistentCollection.java:616)
	at org.hibernate.collection.spi.AbstractPersistentCollection.withTemporarySessionIfNeeded(AbstractPersistentCollection.java:265)
	at org.hibernate.collection.spi.AbstractPersistentCollection.initialize(AbstractPersistentCollection.java:614)
	at org.hibernate.collection.spi.AbstractPersistentCollection.forceInitialization(AbstractPersistentCollection.java:817)
	at org.hibernate.engine.internal.StatefulPersistenceContext.initializeNonLazyCollections(StatefulPersistenceContext.java:1169)
	at org.hibernate.engine.internal.StatefulPersistenceContext.initializeNonLazyCollections(StatefulPersistenceContext.java:1155)
	at org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:224)
	at org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:35)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.doExecuteQuery(JdbcSelectExecutorStandardImpl.java:224)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.executeQuery(JdbcSelectExecutorStandardImpl.java:102)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.executeQuery(JdbcSelectExecutor.java:91)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:165)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.lambda$new$1(ConcreteSqmSelectQueryPlan.java:152)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.withCacheableSqmInterpretation(ConcreteSqmSelectQueryPlan.java:442)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.performList(ConcreteSqmSelectQueryPlan.java:362)
	at org.hibernate.query.sqm.internal.QuerySqmImpl.doList(QuerySqmImpl.java:380)
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:143)
	at org.hibernate.query.Query.getResultList(Query.java:120)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$CollectionExecution.doExecute(JpaQueryExecution.java:130)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:93)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:152)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:140)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:170)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	... 118 more
Caused by: org.postgresql.util.PSQLException: ERROR: relation "import_invoice_details" does not exist
  Position: 625
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2733)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2420)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:372)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:517)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:434)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:194)
	at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:137)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeQuery(ProxyPreparedStatement.java:52)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeQuery(HikariProxyPreparedStatement.java)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:250)
	... 165 more
2025-05-26 18:24:59 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHP
2025-05-26 18:24:59 ERROR AuthTokenFilter:101 - Cannot set user authentication: User Not Found with username: LHP
org.springframework.security.core.userdetails.UsernameNotFoundException: User Not Found with username: LHP
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.UserDetailsServiceImpl.lambda$loadUserByUsername$0(UserDetailsServiceImpl.java:21)
	at java.base/java.util.Optional.orElseThrow(Optional.java:403)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.UserDetailsServiceImpl.loadUserByUsername(UserDetailsServiceImpl.java:21)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.UserDetailsServiceImpl$$SpringCGLIB$$0.loadUserByUsername(<generated>)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.filters.AuthTokenFilter.doFilterInternal(AuthTokenFilter.java:66)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1575)
2025-05-26 18:24:59 ERROR ProductServiceImpl:93 - Error get all products status true
org.springframework.dao.InvalidDataAccessResourceUsageException: JDBC exception executing SQL [select iid1_0.product_id,iid1_0.id,iid1_0.import_invoice_id,ii1_0.id,ib1_0.id,ib1_0.created_by,ib1_0.created_date,ib1_0.deleted,ib1_0.enabled,ib1_0.password_encrypted,ib1_0.updated_by,ib1_0.updated_date,ib1_0.username,ib1_1.role_id,r1_0.id,r1_0.name,ii1_0.import_date,ii1_0.total_price,iid1_0.import_price,iid1_0.quantity,iid1_0.size_id,s1_0.id,s1_0.released_by,s1_0.released_date,s1_0.size,s1_0.status,s1_0.stock,s1_0.updated_by,s1_0.updated_date,s1_0.variation_id,iid1_0.variation_id,v2_0.id,v2_0.color,v2_0.color_code,v2_0.product_id,v2_0.released_by,v2_0.released_date,v2_0.status,v2_0.updated_by,v2_0.updated_date from import_invoice_details iid1_0 left join import_invoices ii1_0 on ii1_0.id=iid1_0.import_invoice_id left join users ib1_0 on ib1_0.id=ii1_0.import_by left join roles_users ib1_1 on ib1_0.id=ib1_1.user_id left join roles r1_0 on r1_0.id=ib1_1.role_id left join size s1_0 on s1_0.id=iid1_0.size_id left join variation v2_0 on v2_0.id=iid1_0.variation_id where iid1_0.product_id=?] [ERROR: relation "import_invoice_details" does not exist
  Position: 625] [n/a]; SQL [n/a]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:281)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:256)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:241)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560)
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:136)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy4/jdk.proxy4.$Proxy170.findByStatusTrueAndDeletedFalse(Unknown Source)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.ProductServiceImpl.getProductsStatusTrueAndDeleteFalse(ProductServiceImpl.java:91)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:724)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.ProductServiceImpl$$SpringCGLIB$$0.getProductsStatusTrueAndDeleteFalse(<generated>)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.controller.ProductController.getProductsStatusTrue(ProductController.java:25)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:724)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.controller.ProductController$$SpringCGLIB$$0.getProductsStatusTrue(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.filters.AuthTokenFilter.doFilterInternal(AuthTokenFilter.java:103)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1575)
Caused by: org.hibernate.exception.SQLGrammarException: JDBC exception executing SQL [select iid1_0.product_id,iid1_0.id,iid1_0.import_invoice_id,ii1_0.id,ib1_0.id,ib1_0.created_by,ib1_0.created_date,ib1_0.deleted,ib1_0.enabled,ib1_0.password_encrypted,ib1_0.updated_by,ib1_0.updated_date,ib1_0.username,ib1_1.role_id,r1_0.id,r1_0.name,ii1_0.import_date,ii1_0.total_price,iid1_0.import_price,iid1_0.quantity,iid1_0.size_id,s1_0.id,s1_0.released_by,s1_0.released_date,s1_0.size,s1_0.status,s1_0.stock,s1_0.updated_by,s1_0.updated_date,s1_0.variation_id,iid1_0.variation_id,v2_0.id,v2_0.color,v2_0.color_code,v2_0.product_id,v2_0.released_by,v2_0.released_date,v2_0.status,v2_0.updated_by,v2_0.updated_date from import_invoice_details iid1_0 left join import_invoices ii1_0 on ii1_0.id=iid1_0.import_invoice_id left join users ib1_0 on ib1_0.id=ii1_0.import_by left join roles_users ib1_1 on ib1_0.id=ib1_1.user_id left join roles r1_0 on r1_0.id=ib1_1.role_id left join size s1_0 on s1_0.id=iid1_0.size_id left join variation v2_0 on v2_0.id=iid1_0.variation_id where iid1_0.product_id=?] [ERROR: relation "import_invoice_details" does not exist
  Position: 625] [n/a]
	at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:91)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:58)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:94)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:268)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.getResultSet(DeferredResultSetAccess.java:171)
	at org.hibernate.sql.results.jdbc.internal.JdbcValuesResultSetImpl.<init>(JdbcValuesResultSetImpl.java:74)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.resolveJdbcValuesSource(JdbcSelectExecutorStandardImpl.java:355)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.doExecuteQuery(JdbcSelectExecutorStandardImpl.java:137)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.executeQuery(JdbcSelectExecutorStandardImpl.java:102)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.executeQuery(JdbcSelectExecutor.java:91)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:165)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:142)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:132)
	at org.hibernate.loader.ast.internal.CollectionLoaderSingleKey.load(CollectionLoaderSingleKey.java:120)
	at org.hibernate.persister.collection.AbstractCollectionPersister.initialize(AbstractCollectionPersister.java:748)
	at org.hibernate.event.internal.DefaultInitializeCollectionEventListener.onInitializeCollection(DefaultInitializeCollectionEventListener.java:69)
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:127)
	at org.hibernate.internal.SessionImpl.initializeCollection(SessionImpl.java:1724)
	at org.hibernate.collection.spi.AbstractPersistentCollection.lambda$initialize$3(AbstractPersistentCollection.java:616)
	at org.hibernate.collection.spi.AbstractPersistentCollection.withTemporarySessionIfNeeded(AbstractPersistentCollection.java:265)
	at org.hibernate.collection.spi.AbstractPersistentCollection.initialize(AbstractPersistentCollection.java:614)
	at org.hibernate.collection.spi.AbstractPersistentCollection.forceInitialization(AbstractPersistentCollection.java:817)
	at org.hibernate.engine.internal.StatefulPersistenceContext.initializeNonLazyCollections(StatefulPersistenceContext.java:1169)
	at org.hibernate.engine.internal.StatefulPersistenceContext.initializeNonLazyCollections(StatefulPersistenceContext.java:1155)
	at org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:224)
	at org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:35)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.doExecuteQuery(JdbcSelectExecutorStandardImpl.java:224)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.executeQuery(JdbcSelectExecutorStandardImpl.java:102)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.executeQuery(JdbcSelectExecutor.java:91)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:165)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.lambda$new$1(ConcreteSqmSelectQueryPlan.java:152)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.withCacheableSqmInterpretation(ConcreteSqmSelectQueryPlan.java:442)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.performList(ConcreteSqmSelectQueryPlan.java:362)
	at org.hibernate.query.sqm.internal.QuerySqmImpl.doList(QuerySqmImpl.java:380)
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:143)
	at org.hibernate.query.Query.getResultList(Query.java:120)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$CollectionExecution.doExecute(JpaQueryExecution.java:130)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:93)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:152)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:140)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:170)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	... 118 more
Caused by: org.postgresql.util.PSQLException: ERROR: relation "import_invoice_details" does not exist
  Position: 625
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2733)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2420)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:372)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:517)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:434)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:194)
	at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:137)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeQuery(ProxyPreparedStatement.java:52)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeQuery(HikariProxyPreparedStatement.java)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:250)
	... 165 more
2025-05-26 18:24:59 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHP
2025-05-26 18:24:59 ERROR AuthTokenFilter:101 - Cannot set user authentication: User Not Found with username: LHP
org.springframework.security.core.userdetails.UsernameNotFoundException: User Not Found with username: LHP
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.UserDetailsServiceImpl.lambda$loadUserByUsername$0(UserDetailsServiceImpl.java:21)
	at java.base/java.util.Optional.orElseThrow(Optional.java:403)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.UserDetailsServiceImpl.loadUserByUsername(UserDetailsServiceImpl.java:21)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.UserDetailsServiceImpl$$SpringCGLIB$$0.loadUserByUsername(<generated>)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.filters.AuthTokenFilter.doFilterInternal(AuthTokenFilter.java:66)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1575)
2025-05-26 18:24:59 ERROR ProductServiceImpl:93 - Error get all products status true
org.springframework.dao.InvalidDataAccessResourceUsageException: JDBC exception executing SQL [select iid1_0.product_id,iid1_0.id,iid1_0.import_invoice_id,ii1_0.id,ib1_0.id,ib1_0.created_by,ib1_0.created_date,ib1_0.deleted,ib1_0.enabled,ib1_0.password_encrypted,ib1_0.updated_by,ib1_0.updated_date,ib1_0.username,ib1_1.role_id,r1_0.id,r1_0.name,ii1_0.import_date,ii1_0.total_price,iid1_0.import_price,iid1_0.quantity,iid1_0.size_id,s1_0.id,s1_0.released_by,s1_0.released_date,s1_0.size,s1_0.status,s1_0.stock,s1_0.updated_by,s1_0.updated_date,s1_0.variation_id,iid1_0.variation_id,v2_0.id,v2_0.color,v2_0.color_code,v2_0.product_id,v2_0.released_by,v2_0.released_date,v2_0.status,v2_0.updated_by,v2_0.updated_date from import_invoice_details iid1_0 left join import_invoices ii1_0 on ii1_0.id=iid1_0.import_invoice_id left join users ib1_0 on ib1_0.id=ii1_0.import_by left join roles_users ib1_1 on ib1_0.id=ib1_1.user_id left join roles r1_0 on r1_0.id=ib1_1.role_id left join size s1_0 on s1_0.id=iid1_0.size_id left join variation v2_0 on v2_0.id=iid1_0.variation_id where iid1_0.product_id=?] [ERROR: relation "import_invoice_details" does not exist
  Position: 625] [n/a]; SQL [n/a]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:281)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:256)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:241)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560)
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:136)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy4/jdk.proxy4.$Proxy170.findByStatusTrueAndDeletedFalse(Unknown Source)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.ProductServiceImpl.getProductsStatusTrueAndDeleteFalse(ProductServiceImpl.java:91)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:724)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.ProductServiceImpl$$SpringCGLIB$$0.getProductsStatusTrueAndDeleteFalse(<generated>)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.controller.ProductController.getProductsStatusTrue(ProductController.java:25)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:724)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.controller.ProductController$$SpringCGLIB$$0.getProductsStatusTrue(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.filters.AuthTokenFilter.doFilterInternal(AuthTokenFilter.java:103)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1575)
Caused by: org.hibernate.exception.SQLGrammarException: JDBC exception executing SQL [select iid1_0.product_id,iid1_0.id,iid1_0.import_invoice_id,ii1_0.id,ib1_0.id,ib1_0.created_by,ib1_0.created_date,ib1_0.deleted,ib1_0.enabled,ib1_0.password_encrypted,ib1_0.updated_by,ib1_0.updated_date,ib1_0.username,ib1_1.role_id,r1_0.id,r1_0.name,ii1_0.import_date,ii1_0.total_price,iid1_0.import_price,iid1_0.quantity,iid1_0.size_id,s1_0.id,s1_0.released_by,s1_0.released_date,s1_0.size,s1_0.status,s1_0.stock,s1_0.updated_by,s1_0.updated_date,s1_0.variation_id,iid1_0.variation_id,v2_0.id,v2_0.color,v2_0.color_code,v2_0.product_id,v2_0.released_by,v2_0.released_date,v2_0.status,v2_0.updated_by,v2_0.updated_date from import_invoice_details iid1_0 left join import_invoices ii1_0 on ii1_0.id=iid1_0.import_invoice_id left join users ib1_0 on ib1_0.id=ii1_0.import_by left join roles_users ib1_1 on ib1_0.id=ib1_1.user_id left join roles r1_0 on r1_0.id=ib1_1.role_id left join size s1_0 on s1_0.id=iid1_0.size_id left join variation v2_0 on v2_0.id=iid1_0.variation_id where iid1_0.product_id=?] [ERROR: relation "import_invoice_details" does not exist
  Position: 625] [n/a]
	at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:91)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:58)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:94)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:268)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.getResultSet(DeferredResultSetAccess.java:171)
	at org.hibernate.sql.results.jdbc.internal.JdbcValuesResultSetImpl.<init>(JdbcValuesResultSetImpl.java:74)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.resolveJdbcValuesSource(JdbcSelectExecutorStandardImpl.java:355)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.doExecuteQuery(JdbcSelectExecutorStandardImpl.java:137)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.executeQuery(JdbcSelectExecutorStandardImpl.java:102)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.executeQuery(JdbcSelectExecutor.java:91)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:165)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:142)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:132)
	at org.hibernate.loader.ast.internal.CollectionLoaderSingleKey.load(CollectionLoaderSingleKey.java:120)
	at org.hibernate.persister.collection.AbstractCollectionPersister.initialize(AbstractCollectionPersister.java:748)
	at org.hibernate.event.internal.DefaultInitializeCollectionEventListener.onInitializeCollection(DefaultInitializeCollectionEventListener.java:69)
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:127)
	at org.hibernate.internal.SessionImpl.initializeCollection(SessionImpl.java:1724)
	at org.hibernate.collection.spi.AbstractPersistentCollection.lambda$initialize$3(AbstractPersistentCollection.java:616)
	at org.hibernate.collection.spi.AbstractPersistentCollection.withTemporarySessionIfNeeded(AbstractPersistentCollection.java:265)
	at org.hibernate.collection.spi.AbstractPersistentCollection.initialize(AbstractPersistentCollection.java:614)
	at org.hibernate.collection.spi.AbstractPersistentCollection.forceInitialization(AbstractPersistentCollection.java:817)
	at org.hibernate.engine.internal.StatefulPersistenceContext.initializeNonLazyCollections(StatefulPersistenceContext.java:1169)
	at org.hibernate.engine.internal.StatefulPersistenceContext.initializeNonLazyCollections(StatefulPersistenceContext.java:1155)
	at org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:224)
	at org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:35)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.doExecuteQuery(JdbcSelectExecutorStandardImpl.java:224)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.executeQuery(JdbcSelectExecutorStandardImpl.java:102)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.executeQuery(JdbcSelectExecutor.java:91)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:165)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.lambda$new$1(ConcreteSqmSelectQueryPlan.java:152)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.withCacheableSqmInterpretation(ConcreteSqmSelectQueryPlan.java:442)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.performList(ConcreteSqmSelectQueryPlan.java:362)
	at org.hibernate.query.sqm.internal.QuerySqmImpl.doList(QuerySqmImpl.java:380)
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:143)
	at org.hibernate.query.Query.getResultList(Query.java:120)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$CollectionExecution.doExecute(JpaQueryExecution.java:130)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:93)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:152)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:140)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:170)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	... 118 more
Caused by: org.postgresql.util.PSQLException: ERROR: relation "import_invoice_details" does not exist
  Position: 625
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2733)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2420)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:372)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:517)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:434)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:194)
	at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:137)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeQuery(ProxyPreparedStatement.java:52)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeQuery(HikariProxyPreparedStatement.java)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:250)
	... 165 more
2025-05-26 18:24:59 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHP
2025-05-26 18:24:59 ERROR AuthTokenFilter:101 - Cannot set user authentication: User Not Found with username: LHP
org.springframework.security.core.userdetails.UsernameNotFoundException: User Not Found with username: LHP
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.UserDetailsServiceImpl.lambda$loadUserByUsername$0(UserDetailsServiceImpl.java:21)
	at java.base/java.util.Optional.orElseThrow(Optional.java:403)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.UserDetailsServiceImpl.loadUserByUsername(UserDetailsServiceImpl.java:21)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.UserDetailsServiceImpl$$SpringCGLIB$$0.loadUserByUsername(<generated>)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.filters.AuthTokenFilter.doFilterInternal(AuthTokenFilter.java:66)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1575)
2025-05-26 18:24:59 ERROR ProductServiceImpl:93 - Error get all products status true
org.springframework.dao.InvalidDataAccessResourceUsageException: JDBC exception executing SQL [select iid1_0.product_id,iid1_0.id,iid1_0.import_invoice_id,ii1_0.id,ib1_0.id,ib1_0.created_by,ib1_0.created_date,ib1_0.deleted,ib1_0.enabled,ib1_0.password_encrypted,ib1_0.updated_by,ib1_0.updated_date,ib1_0.username,ib1_1.role_id,r1_0.id,r1_0.name,ii1_0.import_date,ii1_0.total_price,iid1_0.import_price,iid1_0.quantity,iid1_0.size_id,s1_0.id,s1_0.released_by,s1_0.released_date,s1_0.size,s1_0.status,s1_0.stock,s1_0.updated_by,s1_0.updated_date,s1_0.variation_id,iid1_0.variation_id,v2_0.id,v2_0.color,v2_0.color_code,v2_0.product_id,v2_0.released_by,v2_0.released_date,v2_0.status,v2_0.updated_by,v2_0.updated_date from import_invoice_details iid1_0 left join import_invoices ii1_0 on ii1_0.id=iid1_0.import_invoice_id left join users ib1_0 on ib1_0.id=ii1_0.import_by left join roles_users ib1_1 on ib1_0.id=ib1_1.user_id left join roles r1_0 on r1_0.id=ib1_1.role_id left join size s1_0 on s1_0.id=iid1_0.size_id left join variation v2_0 on v2_0.id=iid1_0.variation_id where iid1_0.product_id=?] [ERROR: relation "import_invoice_details" does not exist
  Position: 625] [n/a]; SQL [n/a]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:281)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:256)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:241)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560)
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:136)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy4/jdk.proxy4.$Proxy170.findByStatusTrueAndDeletedFalse(Unknown Source)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.ProductServiceImpl.getProductsStatusTrueAndDeleteFalse(ProductServiceImpl.java:91)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:724)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.ProductServiceImpl$$SpringCGLIB$$0.getProductsStatusTrueAndDeleteFalse(<generated>)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.controller.ProductController.getProductsStatusTrue(ProductController.java:25)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:724)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.controller.ProductController$$SpringCGLIB$$0.getProductsStatusTrue(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.filters.AuthTokenFilter.doFilterInternal(AuthTokenFilter.java:103)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1575)
Caused by: org.hibernate.exception.SQLGrammarException: JDBC exception executing SQL [select iid1_0.product_id,iid1_0.id,iid1_0.import_invoice_id,ii1_0.id,ib1_0.id,ib1_0.created_by,ib1_0.created_date,ib1_0.deleted,ib1_0.enabled,ib1_0.password_encrypted,ib1_0.updated_by,ib1_0.updated_date,ib1_0.username,ib1_1.role_id,r1_0.id,r1_0.name,ii1_0.import_date,ii1_0.total_price,iid1_0.import_price,iid1_0.quantity,iid1_0.size_id,s1_0.id,s1_0.released_by,s1_0.released_date,s1_0.size,s1_0.status,s1_0.stock,s1_0.updated_by,s1_0.updated_date,s1_0.variation_id,iid1_0.variation_id,v2_0.id,v2_0.color,v2_0.color_code,v2_0.product_id,v2_0.released_by,v2_0.released_date,v2_0.status,v2_0.updated_by,v2_0.updated_date from import_invoice_details iid1_0 left join import_invoices ii1_0 on ii1_0.id=iid1_0.import_invoice_id left join users ib1_0 on ib1_0.id=ii1_0.import_by left join roles_users ib1_1 on ib1_0.id=ib1_1.user_id left join roles r1_0 on r1_0.id=ib1_1.role_id left join size s1_0 on s1_0.id=iid1_0.size_id left join variation v2_0 on v2_0.id=iid1_0.variation_id where iid1_0.product_id=?] [ERROR: relation "import_invoice_details" does not exist
  Position: 625] [n/a]
	at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:91)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:58)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:94)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:268)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.getResultSet(DeferredResultSetAccess.java:171)
	at org.hibernate.sql.results.jdbc.internal.JdbcValuesResultSetImpl.<init>(JdbcValuesResultSetImpl.java:74)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.resolveJdbcValuesSource(JdbcSelectExecutorStandardImpl.java:355)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.doExecuteQuery(JdbcSelectExecutorStandardImpl.java:137)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.executeQuery(JdbcSelectExecutorStandardImpl.java:102)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.executeQuery(JdbcSelectExecutor.java:91)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:165)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:142)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:132)
	at org.hibernate.loader.ast.internal.CollectionLoaderSingleKey.load(CollectionLoaderSingleKey.java:120)
	at org.hibernate.persister.collection.AbstractCollectionPersister.initialize(AbstractCollectionPersister.java:748)
	at org.hibernate.event.internal.DefaultInitializeCollectionEventListener.onInitializeCollection(DefaultInitializeCollectionEventListener.java:69)
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:127)
	at org.hibernate.internal.SessionImpl.initializeCollection(SessionImpl.java:1724)
	at org.hibernate.collection.spi.AbstractPersistentCollection.lambda$initialize$3(AbstractPersistentCollection.java:616)
	at org.hibernate.collection.spi.AbstractPersistentCollection.withTemporarySessionIfNeeded(AbstractPersistentCollection.java:265)
	at org.hibernate.collection.spi.AbstractPersistentCollection.initialize(AbstractPersistentCollection.java:614)
	at org.hibernate.collection.spi.AbstractPersistentCollection.forceInitialization(AbstractPersistentCollection.java:817)
	at org.hibernate.engine.internal.StatefulPersistenceContext.initializeNonLazyCollections(StatefulPersistenceContext.java:1169)
	at org.hibernate.engine.internal.StatefulPersistenceContext.initializeNonLazyCollections(StatefulPersistenceContext.java:1155)
	at org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:224)
	at org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:35)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.doExecuteQuery(JdbcSelectExecutorStandardImpl.java:224)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.executeQuery(JdbcSelectExecutorStandardImpl.java:102)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.executeQuery(JdbcSelectExecutor.java:91)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:165)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.lambda$new$1(ConcreteSqmSelectQueryPlan.java:152)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.withCacheableSqmInterpretation(ConcreteSqmSelectQueryPlan.java:442)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.performList(ConcreteSqmSelectQueryPlan.java:362)
	at org.hibernate.query.sqm.internal.QuerySqmImpl.doList(QuerySqmImpl.java:380)
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:143)
	at org.hibernate.query.Query.getResultList(Query.java:120)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$CollectionExecution.doExecute(JpaQueryExecution.java:130)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:93)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:152)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:140)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:170)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	... 118 more
Caused by: org.postgresql.util.PSQLException: ERROR: relation "import_invoice_details" does not exist
  Position: 625
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2733)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2420)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:372)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:517)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:434)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:194)
	at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:137)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeQuery(ProxyPreparedStatement.java:52)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeQuery(HikariProxyPreparedStatement.java)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:250)
	... 165 more
2025-05-26 18:25:00 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHP
2025-05-26 18:25:00 ERROR AuthTokenFilter:101 - Cannot set user authentication: User Not Found with username: LHP
org.springframework.security.core.userdetails.UsernameNotFoundException: User Not Found with username: LHP
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.UserDetailsServiceImpl.lambda$loadUserByUsername$0(UserDetailsServiceImpl.java:21)
	at java.base/java.util.Optional.orElseThrow(Optional.java:403)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.UserDetailsServiceImpl.loadUserByUsername(UserDetailsServiceImpl.java:21)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.UserDetailsServiceImpl$$SpringCGLIB$$0.loadUserByUsername(<generated>)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.filters.AuthTokenFilter.doFilterInternal(AuthTokenFilter.java:66)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1575)
2025-05-26 18:25:00 ERROR ProductServiceImpl:93 - Error get all products status true
org.springframework.dao.InvalidDataAccessResourceUsageException: JDBC exception executing SQL [select iid1_0.product_id,iid1_0.id,iid1_0.import_invoice_id,ii1_0.id,ib1_0.id,ib1_0.created_by,ib1_0.created_date,ib1_0.deleted,ib1_0.enabled,ib1_0.password_encrypted,ib1_0.updated_by,ib1_0.updated_date,ib1_0.username,ib1_1.role_id,r1_0.id,r1_0.name,ii1_0.import_date,ii1_0.total_price,iid1_0.import_price,iid1_0.quantity,iid1_0.size_id,s1_0.id,s1_0.released_by,s1_0.released_date,s1_0.size,s1_0.status,s1_0.stock,s1_0.updated_by,s1_0.updated_date,s1_0.variation_id,iid1_0.variation_id,v2_0.id,v2_0.color,v2_0.color_code,v2_0.product_id,v2_0.released_by,v2_0.released_date,v2_0.status,v2_0.updated_by,v2_0.updated_date from import_invoice_details iid1_0 left join import_invoices ii1_0 on ii1_0.id=iid1_0.import_invoice_id left join users ib1_0 on ib1_0.id=ii1_0.import_by left join roles_users ib1_1 on ib1_0.id=ib1_1.user_id left join roles r1_0 on r1_0.id=ib1_1.role_id left join size s1_0 on s1_0.id=iid1_0.size_id left join variation v2_0 on v2_0.id=iid1_0.variation_id where iid1_0.product_id=?] [ERROR: relation "import_invoice_details" does not exist
  Position: 625] [n/a]; SQL [n/a]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:281)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:256)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:241)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560)
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:136)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy4/jdk.proxy4.$Proxy170.findByStatusTrueAndDeletedFalse(Unknown Source)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.ProductServiceImpl.getProductsStatusTrueAndDeleteFalse(ProductServiceImpl.java:91)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:724)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.ProductServiceImpl$$SpringCGLIB$$0.getProductsStatusTrueAndDeleteFalse(<generated>)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.controller.ProductController.getProductsStatusTrue(ProductController.java:25)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:724)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.controller.ProductController$$SpringCGLIB$$0.getProductsStatusTrue(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.filters.AuthTokenFilter.doFilterInternal(AuthTokenFilter.java:103)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1575)
Caused by: org.hibernate.exception.SQLGrammarException: JDBC exception executing SQL [select iid1_0.product_id,iid1_0.id,iid1_0.import_invoice_id,ii1_0.id,ib1_0.id,ib1_0.created_by,ib1_0.created_date,ib1_0.deleted,ib1_0.enabled,ib1_0.password_encrypted,ib1_0.updated_by,ib1_0.updated_date,ib1_0.username,ib1_1.role_id,r1_0.id,r1_0.name,ii1_0.import_date,ii1_0.total_price,iid1_0.import_price,iid1_0.quantity,iid1_0.size_id,s1_0.id,s1_0.released_by,s1_0.released_date,s1_0.size,s1_0.status,s1_0.stock,s1_0.updated_by,s1_0.updated_date,s1_0.variation_id,iid1_0.variation_id,v2_0.id,v2_0.color,v2_0.color_code,v2_0.product_id,v2_0.released_by,v2_0.released_date,v2_0.status,v2_0.updated_by,v2_0.updated_date from import_invoice_details iid1_0 left join import_invoices ii1_0 on ii1_0.id=iid1_0.import_invoice_id left join users ib1_0 on ib1_0.id=ii1_0.import_by left join roles_users ib1_1 on ib1_0.id=ib1_1.user_id left join roles r1_0 on r1_0.id=ib1_1.role_id left join size s1_0 on s1_0.id=iid1_0.size_id left join variation v2_0 on v2_0.id=iid1_0.variation_id where iid1_0.product_id=?] [ERROR: relation "import_invoice_details" does not exist
  Position: 625] [n/a]
	at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:91)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:58)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:94)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:268)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.getResultSet(DeferredResultSetAccess.java:171)
	at org.hibernate.sql.results.jdbc.internal.JdbcValuesResultSetImpl.<init>(JdbcValuesResultSetImpl.java:74)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.resolveJdbcValuesSource(JdbcSelectExecutorStandardImpl.java:355)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.doExecuteQuery(JdbcSelectExecutorStandardImpl.java:137)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.executeQuery(JdbcSelectExecutorStandardImpl.java:102)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.executeQuery(JdbcSelectExecutor.java:91)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:165)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:142)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:132)
	at org.hibernate.loader.ast.internal.CollectionLoaderSingleKey.load(CollectionLoaderSingleKey.java:120)
	at org.hibernate.persister.collection.AbstractCollectionPersister.initialize(AbstractCollectionPersister.java:748)
	at org.hibernate.event.internal.DefaultInitializeCollectionEventListener.onInitializeCollection(DefaultInitializeCollectionEventListener.java:69)
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:127)
	at org.hibernate.internal.SessionImpl.initializeCollection(SessionImpl.java:1724)
	at org.hibernate.collection.spi.AbstractPersistentCollection.lambda$initialize$3(AbstractPersistentCollection.java:616)
	at org.hibernate.collection.spi.AbstractPersistentCollection.withTemporarySessionIfNeeded(AbstractPersistentCollection.java:265)
	at org.hibernate.collection.spi.AbstractPersistentCollection.initialize(AbstractPersistentCollection.java:614)
	at org.hibernate.collection.spi.AbstractPersistentCollection.forceInitialization(AbstractPersistentCollection.java:817)
	at org.hibernate.engine.internal.StatefulPersistenceContext.initializeNonLazyCollections(StatefulPersistenceContext.java:1169)
	at org.hibernate.engine.internal.StatefulPersistenceContext.initializeNonLazyCollections(StatefulPersistenceContext.java:1155)
	at org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:224)
	at org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:35)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.doExecuteQuery(JdbcSelectExecutorStandardImpl.java:224)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.executeQuery(JdbcSelectExecutorStandardImpl.java:102)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.executeQuery(JdbcSelectExecutor.java:91)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:165)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.lambda$new$1(ConcreteSqmSelectQueryPlan.java:152)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.withCacheableSqmInterpretation(ConcreteSqmSelectQueryPlan.java:442)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.performList(ConcreteSqmSelectQueryPlan.java:362)
	at org.hibernate.query.sqm.internal.QuerySqmImpl.doList(QuerySqmImpl.java:380)
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:143)
	at org.hibernate.query.Query.getResultList(Query.java:120)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$CollectionExecution.doExecute(JpaQueryExecution.java:130)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:93)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:152)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:140)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:170)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	... 118 more
Caused by: org.postgresql.util.PSQLException: ERROR: relation "import_invoice_details" does not exist
  Position: 625
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2733)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2420)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:372)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:517)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:434)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:194)
	at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:137)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeQuery(ProxyPreparedStatement.java:52)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeQuery(HikariProxyPreparedStatement.java)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:250)
	... 165 more
2025-05-26 18:25:00 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHP
2025-05-26 18:25:00 ERROR AuthTokenFilter:101 - Cannot set user authentication: User Not Found with username: LHP
org.springframework.security.core.userdetails.UsernameNotFoundException: User Not Found with username: LHP
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.UserDetailsServiceImpl.lambda$loadUserByUsername$0(UserDetailsServiceImpl.java:21)
	at java.base/java.util.Optional.orElseThrow(Optional.java:403)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.UserDetailsServiceImpl.loadUserByUsername(UserDetailsServiceImpl.java:21)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.UserDetailsServiceImpl$$SpringCGLIB$$0.loadUserByUsername(<generated>)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.filters.AuthTokenFilter.doFilterInternal(AuthTokenFilter.java:66)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1575)
2025-05-26 18:25:00 ERROR ProductServiceImpl:93 - Error get all products status true
org.springframework.dao.InvalidDataAccessResourceUsageException: JDBC exception executing SQL [select iid1_0.product_id,iid1_0.id,iid1_0.import_invoice_id,ii1_0.id,ib1_0.id,ib1_0.created_by,ib1_0.created_date,ib1_0.deleted,ib1_0.enabled,ib1_0.password_encrypted,ib1_0.updated_by,ib1_0.updated_date,ib1_0.username,ib1_1.role_id,r1_0.id,r1_0.name,ii1_0.import_date,ii1_0.total_price,iid1_0.import_price,iid1_0.quantity,iid1_0.size_id,s1_0.id,s1_0.released_by,s1_0.released_date,s1_0.size,s1_0.status,s1_0.stock,s1_0.updated_by,s1_0.updated_date,s1_0.variation_id,iid1_0.variation_id,v2_0.id,v2_0.color,v2_0.color_code,v2_0.product_id,v2_0.released_by,v2_0.released_date,v2_0.status,v2_0.updated_by,v2_0.updated_date from import_invoice_details iid1_0 left join import_invoices ii1_0 on ii1_0.id=iid1_0.import_invoice_id left join users ib1_0 on ib1_0.id=ii1_0.import_by left join roles_users ib1_1 on ib1_0.id=ib1_1.user_id left join roles r1_0 on r1_0.id=ib1_1.role_id left join size s1_0 on s1_0.id=iid1_0.size_id left join variation v2_0 on v2_0.id=iid1_0.variation_id where iid1_0.product_id=?] [ERROR: relation "import_invoice_details" does not exist
  Position: 625] [n/a]; SQL [n/a]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:281)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:256)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:241)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560)
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:136)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy4/jdk.proxy4.$Proxy170.findByStatusTrueAndDeletedFalse(Unknown Source)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.ProductServiceImpl.getProductsStatusTrueAndDeleteFalse(ProductServiceImpl.java:91)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:724)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.ProductServiceImpl$$SpringCGLIB$$0.getProductsStatusTrueAndDeleteFalse(<generated>)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.controller.ProductController.getProductsStatusTrue(ProductController.java:25)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:724)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.controller.ProductController$$SpringCGLIB$$0.getProductsStatusTrue(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.filters.AuthTokenFilter.doFilterInternal(AuthTokenFilter.java:103)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1575)
Caused by: org.hibernate.exception.SQLGrammarException: JDBC exception executing SQL [select iid1_0.product_id,iid1_0.id,iid1_0.import_invoice_id,ii1_0.id,ib1_0.id,ib1_0.created_by,ib1_0.created_date,ib1_0.deleted,ib1_0.enabled,ib1_0.password_encrypted,ib1_0.updated_by,ib1_0.updated_date,ib1_0.username,ib1_1.role_id,r1_0.id,r1_0.name,ii1_0.import_date,ii1_0.total_price,iid1_0.import_price,iid1_0.quantity,iid1_0.size_id,s1_0.id,s1_0.released_by,s1_0.released_date,s1_0.size,s1_0.status,s1_0.stock,s1_0.updated_by,s1_0.updated_date,s1_0.variation_id,iid1_0.variation_id,v2_0.id,v2_0.color,v2_0.color_code,v2_0.product_id,v2_0.released_by,v2_0.released_date,v2_0.status,v2_0.updated_by,v2_0.updated_date from import_invoice_details iid1_0 left join import_invoices ii1_0 on ii1_0.id=iid1_0.import_invoice_id left join users ib1_0 on ib1_0.id=ii1_0.import_by left join roles_users ib1_1 on ib1_0.id=ib1_1.user_id left join roles r1_0 on r1_0.id=ib1_1.role_id left join size s1_0 on s1_0.id=iid1_0.size_id left join variation v2_0 on v2_0.id=iid1_0.variation_id where iid1_0.product_id=?] [ERROR: relation "import_invoice_details" does not exist
  Position: 625] [n/a]
	at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:91)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:58)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:94)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:268)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.getResultSet(DeferredResultSetAccess.java:171)
	at org.hibernate.sql.results.jdbc.internal.JdbcValuesResultSetImpl.<init>(JdbcValuesResultSetImpl.java:74)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.resolveJdbcValuesSource(JdbcSelectExecutorStandardImpl.java:355)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.doExecuteQuery(JdbcSelectExecutorStandardImpl.java:137)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.executeQuery(JdbcSelectExecutorStandardImpl.java:102)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.executeQuery(JdbcSelectExecutor.java:91)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:165)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:142)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:132)
	at org.hibernate.loader.ast.internal.CollectionLoaderSingleKey.load(CollectionLoaderSingleKey.java:120)
	at org.hibernate.persister.collection.AbstractCollectionPersister.initialize(AbstractCollectionPersister.java:748)
	at org.hibernate.event.internal.DefaultInitializeCollectionEventListener.onInitializeCollection(DefaultInitializeCollectionEventListener.java:69)
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:127)
	at org.hibernate.internal.SessionImpl.initializeCollection(SessionImpl.java:1724)
	at org.hibernate.collection.spi.AbstractPersistentCollection.lambda$initialize$3(AbstractPersistentCollection.java:616)
	at org.hibernate.collection.spi.AbstractPersistentCollection.withTemporarySessionIfNeeded(AbstractPersistentCollection.java:265)
	at org.hibernate.collection.spi.AbstractPersistentCollection.initialize(AbstractPersistentCollection.java:614)
	at org.hibernate.collection.spi.AbstractPersistentCollection.forceInitialization(AbstractPersistentCollection.java:817)
	at org.hibernate.engine.internal.StatefulPersistenceContext.initializeNonLazyCollections(StatefulPersistenceContext.java:1169)
	at org.hibernate.engine.internal.StatefulPersistenceContext.initializeNonLazyCollections(StatefulPersistenceContext.java:1155)
	at org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:224)
	at org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:35)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.doExecuteQuery(JdbcSelectExecutorStandardImpl.java:224)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.executeQuery(JdbcSelectExecutorStandardImpl.java:102)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.executeQuery(JdbcSelectExecutor.java:91)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:165)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.lambda$new$1(ConcreteSqmSelectQueryPlan.java:152)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.withCacheableSqmInterpretation(ConcreteSqmSelectQueryPlan.java:442)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.performList(ConcreteSqmSelectQueryPlan.java:362)
	at org.hibernate.query.sqm.internal.QuerySqmImpl.doList(QuerySqmImpl.java:380)
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:143)
	at org.hibernate.query.Query.getResultList(Query.java:120)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$CollectionExecution.doExecute(JpaQueryExecution.java:130)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:93)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:152)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:140)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:170)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	... 118 more
Caused by: org.postgresql.util.PSQLException: ERROR: relation "import_invoice_details" does not exist
  Position: 625
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2733)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2420)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:372)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:517)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:434)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:194)
	at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:137)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeQuery(ProxyPreparedStatement.java:52)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeQuery(HikariProxyPreparedStatement.java)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:250)
	... 165 more
2025-05-26 18:25:00 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHP
2025-05-26 18:25:00 ERROR AuthTokenFilter:101 - Cannot set user authentication: User Not Found with username: LHP
org.springframework.security.core.userdetails.UsernameNotFoundException: User Not Found with username: LHP
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.UserDetailsServiceImpl.lambda$loadUserByUsername$0(UserDetailsServiceImpl.java:21)
	at java.base/java.util.Optional.orElseThrow(Optional.java:403)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.UserDetailsServiceImpl.loadUserByUsername(UserDetailsServiceImpl.java:21)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.UserDetailsServiceImpl$$SpringCGLIB$$0.loadUserByUsername(<generated>)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.filters.AuthTokenFilter.doFilterInternal(AuthTokenFilter.java:66)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1575)
2025-05-26 18:25:00 ERROR ProductServiceImpl:93 - Error get all products status true
org.springframework.dao.InvalidDataAccessResourceUsageException: JDBC exception executing SQL [select iid1_0.product_id,iid1_0.id,iid1_0.import_invoice_id,ii1_0.id,ib1_0.id,ib1_0.created_by,ib1_0.created_date,ib1_0.deleted,ib1_0.enabled,ib1_0.password_encrypted,ib1_0.updated_by,ib1_0.updated_date,ib1_0.username,ib1_1.role_id,r1_0.id,r1_0.name,ii1_0.import_date,ii1_0.total_price,iid1_0.import_price,iid1_0.quantity,iid1_0.size_id,s1_0.id,s1_0.released_by,s1_0.released_date,s1_0.size,s1_0.status,s1_0.stock,s1_0.updated_by,s1_0.updated_date,s1_0.variation_id,iid1_0.variation_id,v2_0.id,v2_0.color,v2_0.color_code,v2_0.product_id,v2_0.released_by,v2_0.released_date,v2_0.status,v2_0.updated_by,v2_0.updated_date from import_invoice_details iid1_0 left join import_invoices ii1_0 on ii1_0.id=iid1_0.import_invoice_id left join users ib1_0 on ib1_0.id=ii1_0.import_by left join roles_users ib1_1 on ib1_0.id=ib1_1.user_id left join roles r1_0 on r1_0.id=ib1_1.role_id left join size s1_0 on s1_0.id=iid1_0.size_id left join variation v2_0 on v2_0.id=iid1_0.variation_id where iid1_0.product_id=?] [ERROR: relation "import_invoice_details" does not exist
  Position: 625] [n/a]; SQL [n/a]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:281)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:256)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:241)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560)
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:136)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy4/jdk.proxy4.$Proxy170.findByStatusTrueAndDeletedFalse(Unknown Source)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.ProductServiceImpl.getProductsStatusTrueAndDeleteFalse(ProductServiceImpl.java:91)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:724)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.ProductServiceImpl$$SpringCGLIB$$0.getProductsStatusTrueAndDeleteFalse(<generated>)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.controller.ProductController.getProductsStatusTrue(ProductController.java:25)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:724)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.controller.ProductController$$SpringCGLIB$$0.getProductsStatusTrue(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.filters.AuthTokenFilter.doFilterInternal(AuthTokenFilter.java:103)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1575)
Caused by: org.hibernate.exception.SQLGrammarException: JDBC exception executing SQL [select iid1_0.product_id,iid1_0.id,iid1_0.import_invoice_id,ii1_0.id,ib1_0.id,ib1_0.created_by,ib1_0.created_date,ib1_0.deleted,ib1_0.enabled,ib1_0.password_encrypted,ib1_0.updated_by,ib1_0.updated_date,ib1_0.username,ib1_1.role_id,r1_0.id,r1_0.name,ii1_0.import_date,ii1_0.total_price,iid1_0.import_price,iid1_0.quantity,iid1_0.size_id,s1_0.id,s1_0.released_by,s1_0.released_date,s1_0.size,s1_0.status,s1_0.stock,s1_0.updated_by,s1_0.updated_date,s1_0.variation_id,iid1_0.variation_id,v2_0.id,v2_0.color,v2_0.color_code,v2_0.product_id,v2_0.released_by,v2_0.released_date,v2_0.status,v2_0.updated_by,v2_0.updated_date from import_invoice_details iid1_0 left join import_invoices ii1_0 on ii1_0.id=iid1_0.import_invoice_id left join users ib1_0 on ib1_0.id=ii1_0.import_by left join roles_users ib1_1 on ib1_0.id=ib1_1.user_id left join roles r1_0 on r1_0.id=ib1_1.role_id left join size s1_0 on s1_0.id=iid1_0.size_id left join variation v2_0 on v2_0.id=iid1_0.variation_id where iid1_0.product_id=?] [ERROR: relation "import_invoice_details" does not exist
  Position: 625] [n/a]
	at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:91)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:58)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:94)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:268)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.getResultSet(DeferredResultSetAccess.java:171)
	at org.hibernate.sql.results.jdbc.internal.JdbcValuesResultSetImpl.<init>(JdbcValuesResultSetImpl.java:74)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.resolveJdbcValuesSource(JdbcSelectExecutorStandardImpl.java:355)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.doExecuteQuery(JdbcSelectExecutorStandardImpl.java:137)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.executeQuery(JdbcSelectExecutorStandardImpl.java:102)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.executeQuery(JdbcSelectExecutor.java:91)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:165)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:142)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:132)
	at org.hibernate.loader.ast.internal.CollectionLoaderSingleKey.load(CollectionLoaderSingleKey.java:120)
	at org.hibernate.persister.collection.AbstractCollectionPersister.initialize(AbstractCollectionPersister.java:748)
	at org.hibernate.event.internal.DefaultInitializeCollectionEventListener.onInitializeCollection(DefaultInitializeCollectionEventListener.java:69)
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:127)
	at org.hibernate.internal.SessionImpl.initializeCollection(SessionImpl.java:1724)
	at org.hibernate.collection.spi.AbstractPersistentCollection.lambda$initialize$3(AbstractPersistentCollection.java:616)
	at org.hibernate.collection.spi.AbstractPersistentCollection.withTemporarySessionIfNeeded(AbstractPersistentCollection.java:265)
	at org.hibernate.collection.spi.AbstractPersistentCollection.initialize(AbstractPersistentCollection.java:614)
	at org.hibernate.collection.spi.AbstractPersistentCollection.forceInitialization(AbstractPersistentCollection.java:817)
	at org.hibernate.engine.internal.StatefulPersistenceContext.initializeNonLazyCollections(StatefulPersistenceContext.java:1169)
	at org.hibernate.engine.internal.StatefulPersistenceContext.initializeNonLazyCollections(StatefulPersistenceContext.java:1155)
	at org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:224)
	at org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:35)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.doExecuteQuery(JdbcSelectExecutorStandardImpl.java:224)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.executeQuery(JdbcSelectExecutorStandardImpl.java:102)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.executeQuery(JdbcSelectExecutor.java:91)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:165)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.lambda$new$1(ConcreteSqmSelectQueryPlan.java:152)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.withCacheableSqmInterpretation(ConcreteSqmSelectQueryPlan.java:442)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.performList(ConcreteSqmSelectQueryPlan.java:362)
	at org.hibernate.query.sqm.internal.QuerySqmImpl.doList(QuerySqmImpl.java:380)
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:143)
	at org.hibernate.query.Query.getResultList(Query.java:120)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$CollectionExecution.doExecute(JpaQueryExecution.java:130)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:93)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:152)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:140)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:170)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	... 118 more
Caused by: org.postgresql.util.PSQLException: ERROR: relation "import_invoice_details" does not exist
  Position: 625
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2733)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2420)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:372)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:517)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:434)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:194)
	at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:137)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeQuery(ProxyPreparedStatement.java:52)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeQuery(HikariProxyPreparedStatement.java)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:250)
	... 165 more
2025-05-26 18:25:00 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHP
2025-05-26 18:25:00 ERROR AuthTokenFilter:101 - Cannot set user authentication: User Not Found with username: LHP
org.springframework.security.core.userdetails.UsernameNotFoundException: User Not Found with username: LHP
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.UserDetailsServiceImpl.lambda$loadUserByUsername$0(UserDetailsServiceImpl.java:21)
	at java.base/java.util.Optional.orElseThrow(Optional.java:403)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.UserDetailsServiceImpl.loadUserByUsername(UserDetailsServiceImpl.java:21)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.UserDetailsServiceImpl$$SpringCGLIB$$0.loadUserByUsername(<generated>)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.filters.AuthTokenFilter.doFilterInternal(AuthTokenFilter.java:66)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1575)
2025-05-26 18:25:00 ERROR ProductServiceImpl:93 - Error get all products status true
org.springframework.dao.InvalidDataAccessResourceUsageException: JDBC exception executing SQL [select iid1_0.product_id,iid1_0.id,iid1_0.import_invoice_id,ii1_0.id,ib1_0.id,ib1_0.created_by,ib1_0.created_date,ib1_0.deleted,ib1_0.enabled,ib1_0.password_encrypted,ib1_0.updated_by,ib1_0.updated_date,ib1_0.username,ib1_1.role_id,r1_0.id,r1_0.name,ii1_0.import_date,ii1_0.total_price,iid1_0.import_price,iid1_0.quantity,iid1_0.size_id,s1_0.id,s1_0.released_by,s1_0.released_date,s1_0.size,s1_0.status,s1_0.stock,s1_0.updated_by,s1_0.updated_date,s1_0.variation_id,iid1_0.variation_id,v2_0.id,v2_0.color,v2_0.color_code,v2_0.product_id,v2_0.released_by,v2_0.released_date,v2_0.status,v2_0.updated_by,v2_0.updated_date from import_invoice_details iid1_0 left join import_invoices ii1_0 on ii1_0.id=iid1_0.import_invoice_id left join users ib1_0 on ib1_0.id=ii1_0.import_by left join roles_users ib1_1 on ib1_0.id=ib1_1.user_id left join roles r1_0 on r1_0.id=ib1_1.role_id left join size s1_0 on s1_0.id=iid1_0.size_id left join variation v2_0 on v2_0.id=iid1_0.variation_id where iid1_0.product_id=?] [ERROR: relation "import_invoice_details" does not exist
  Position: 625] [n/a]; SQL [n/a]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:281)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:256)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:241)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560)
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:136)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy4/jdk.proxy4.$Proxy170.findByStatusTrueAndDeletedFalse(Unknown Source)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.ProductServiceImpl.getProductsStatusTrueAndDeleteFalse(ProductServiceImpl.java:91)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:724)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.ProductServiceImpl$$SpringCGLIB$$0.getProductsStatusTrueAndDeleteFalse(<generated>)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.controller.ProductController.getProductsStatusTrue(ProductController.java:25)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:724)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.controller.ProductController$$SpringCGLIB$$0.getProductsStatusTrue(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.filters.AuthTokenFilter.doFilterInternal(AuthTokenFilter.java:103)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1575)
Caused by: org.hibernate.exception.SQLGrammarException: JDBC exception executing SQL [select iid1_0.product_id,iid1_0.id,iid1_0.import_invoice_id,ii1_0.id,ib1_0.id,ib1_0.created_by,ib1_0.created_date,ib1_0.deleted,ib1_0.enabled,ib1_0.password_encrypted,ib1_0.updated_by,ib1_0.updated_date,ib1_0.username,ib1_1.role_id,r1_0.id,r1_0.name,ii1_0.import_date,ii1_0.total_price,iid1_0.import_price,iid1_0.quantity,iid1_0.size_id,s1_0.id,s1_0.released_by,s1_0.released_date,s1_0.size,s1_0.status,s1_0.stock,s1_0.updated_by,s1_0.updated_date,s1_0.variation_id,iid1_0.variation_id,v2_0.id,v2_0.color,v2_0.color_code,v2_0.product_id,v2_0.released_by,v2_0.released_date,v2_0.status,v2_0.updated_by,v2_0.updated_date from import_invoice_details iid1_0 left join import_invoices ii1_0 on ii1_0.id=iid1_0.import_invoice_id left join users ib1_0 on ib1_0.id=ii1_0.import_by left join roles_users ib1_1 on ib1_0.id=ib1_1.user_id left join roles r1_0 on r1_0.id=ib1_1.role_id left join size s1_0 on s1_0.id=iid1_0.size_id left join variation v2_0 on v2_0.id=iid1_0.variation_id where iid1_0.product_id=?] [ERROR: relation "import_invoice_details" does not exist
  Position: 625] [n/a]
	at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:91)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:58)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:94)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:268)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.getResultSet(DeferredResultSetAccess.java:171)
	at org.hibernate.sql.results.jdbc.internal.JdbcValuesResultSetImpl.<init>(JdbcValuesResultSetImpl.java:74)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.resolveJdbcValuesSource(JdbcSelectExecutorStandardImpl.java:355)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.doExecuteQuery(JdbcSelectExecutorStandardImpl.java:137)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.executeQuery(JdbcSelectExecutorStandardImpl.java:102)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.executeQuery(JdbcSelectExecutor.java:91)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:165)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:142)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:132)
	at org.hibernate.loader.ast.internal.CollectionLoaderSingleKey.load(CollectionLoaderSingleKey.java:120)
	at org.hibernate.persister.collection.AbstractCollectionPersister.initialize(AbstractCollectionPersister.java:748)
	at org.hibernate.event.internal.DefaultInitializeCollectionEventListener.onInitializeCollection(DefaultInitializeCollectionEventListener.java:69)
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:127)
	at org.hibernate.internal.SessionImpl.initializeCollection(SessionImpl.java:1724)
	at org.hibernate.collection.spi.AbstractPersistentCollection.lambda$initialize$3(AbstractPersistentCollection.java:616)
	at org.hibernate.collection.spi.AbstractPersistentCollection.withTemporarySessionIfNeeded(AbstractPersistentCollection.java:265)
	at org.hibernate.collection.spi.AbstractPersistentCollection.initialize(AbstractPersistentCollection.java:614)
	at org.hibernate.collection.spi.AbstractPersistentCollection.forceInitialization(AbstractPersistentCollection.java:817)
	at org.hibernate.engine.internal.StatefulPersistenceContext.initializeNonLazyCollections(StatefulPersistenceContext.java:1169)
	at org.hibernate.engine.internal.StatefulPersistenceContext.initializeNonLazyCollections(StatefulPersistenceContext.java:1155)
	at org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:224)
	at org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:35)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.doExecuteQuery(JdbcSelectExecutorStandardImpl.java:224)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.executeQuery(JdbcSelectExecutorStandardImpl.java:102)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.executeQuery(JdbcSelectExecutor.java:91)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:165)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.lambda$new$1(ConcreteSqmSelectQueryPlan.java:152)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.withCacheableSqmInterpretation(ConcreteSqmSelectQueryPlan.java:442)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.performList(ConcreteSqmSelectQueryPlan.java:362)
	at org.hibernate.query.sqm.internal.QuerySqmImpl.doList(QuerySqmImpl.java:380)
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:143)
	at org.hibernate.query.Query.getResultList(Query.java:120)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$CollectionExecution.doExecute(JpaQueryExecution.java:130)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:93)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:152)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:140)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:170)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	... 118 more
Caused by: org.postgresql.util.PSQLException: ERROR: relation "import_invoice_details" does not exist
  Position: 625
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2733)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2420)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:372)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:517)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:434)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:194)
	at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:137)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeQuery(ProxyPreparedStatement.java:52)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeQuery(HikariProxyPreparedStatement.java)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:250)
	... 165 more
2025-05-26 18:25:00 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHP
2025-05-26 18:25:00 ERROR AuthTokenFilter:101 - Cannot set user authentication: User Not Found with username: LHP
org.springframework.security.core.userdetails.UsernameNotFoundException: User Not Found with username: LHP
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.UserDetailsServiceImpl.lambda$loadUserByUsername$0(UserDetailsServiceImpl.java:21)
	at java.base/java.util.Optional.orElseThrow(Optional.java:403)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.UserDetailsServiceImpl.loadUserByUsername(UserDetailsServiceImpl.java:21)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.UserDetailsServiceImpl$$SpringCGLIB$$0.loadUserByUsername(<generated>)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.filters.AuthTokenFilter.doFilterInternal(AuthTokenFilter.java:66)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1575)
2025-05-26 18:25:00 ERROR ProductServiceImpl:93 - Error get all products status true
org.springframework.dao.InvalidDataAccessResourceUsageException: JDBC exception executing SQL [select iid1_0.product_id,iid1_0.id,iid1_0.import_invoice_id,ii1_0.id,ib1_0.id,ib1_0.created_by,ib1_0.created_date,ib1_0.deleted,ib1_0.enabled,ib1_0.password_encrypted,ib1_0.updated_by,ib1_0.updated_date,ib1_0.username,ib1_1.role_id,r1_0.id,r1_0.name,ii1_0.import_date,ii1_0.total_price,iid1_0.import_price,iid1_0.quantity,iid1_0.size_id,s1_0.id,s1_0.released_by,s1_0.released_date,s1_0.size,s1_0.status,s1_0.stock,s1_0.updated_by,s1_0.updated_date,s1_0.variation_id,iid1_0.variation_id,v2_0.id,v2_0.color,v2_0.color_code,v2_0.product_id,v2_0.released_by,v2_0.released_date,v2_0.status,v2_0.updated_by,v2_0.updated_date from import_invoice_details iid1_0 left join import_invoices ii1_0 on ii1_0.id=iid1_0.import_invoice_id left join users ib1_0 on ib1_0.id=ii1_0.import_by left join roles_users ib1_1 on ib1_0.id=ib1_1.user_id left join roles r1_0 on r1_0.id=ib1_1.role_id left join size s1_0 on s1_0.id=iid1_0.size_id left join variation v2_0 on v2_0.id=iid1_0.variation_id where iid1_0.product_id=?] [ERROR: relation "import_invoice_details" does not exist
  Position: 625] [n/a]; SQL [n/a]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:281)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:256)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:241)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560)
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:136)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy4/jdk.proxy4.$Proxy170.findByStatusTrueAndDeletedFalse(Unknown Source)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.ProductServiceImpl.getProductsStatusTrueAndDeleteFalse(ProductServiceImpl.java:91)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:724)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.ProductServiceImpl$$SpringCGLIB$$0.getProductsStatusTrueAndDeleteFalse(<generated>)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.controller.ProductController.getProductsStatusTrue(ProductController.java:25)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:724)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.controller.ProductController$$SpringCGLIB$$0.getProductsStatusTrue(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.filters.AuthTokenFilter.doFilterInternal(AuthTokenFilter.java:103)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1575)
Caused by: org.hibernate.exception.SQLGrammarException: JDBC exception executing SQL [select iid1_0.product_id,iid1_0.id,iid1_0.import_invoice_id,ii1_0.id,ib1_0.id,ib1_0.created_by,ib1_0.created_date,ib1_0.deleted,ib1_0.enabled,ib1_0.password_encrypted,ib1_0.updated_by,ib1_0.updated_date,ib1_0.username,ib1_1.role_id,r1_0.id,r1_0.name,ii1_0.import_date,ii1_0.total_price,iid1_0.import_price,iid1_0.quantity,iid1_0.size_id,s1_0.id,s1_0.released_by,s1_0.released_date,s1_0.size,s1_0.status,s1_0.stock,s1_0.updated_by,s1_0.updated_date,s1_0.variation_id,iid1_0.variation_id,v2_0.id,v2_0.color,v2_0.color_code,v2_0.product_id,v2_0.released_by,v2_0.released_date,v2_0.status,v2_0.updated_by,v2_0.updated_date from import_invoice_details iid1_0 left join import_invoices ii1_0 on ii1_0.id=iid1_0.import_invoice_id left join users ib1_0 on ib1_0.id=ii1_0.import_by left join roles_users ib1_1 on ib1_0.id=ib1_1.user_id left join roles r1_0 on r1_0.id=ib1_1.role_id left join size s1_0 on s1_0.id=iid1_0.size_id left join variation v2_0 on v2_0.id=iid1_0.variation_id where iid1_0.product_id=?] [ERROR: relation "import_invoice_details" does not exist
  Position: 625] [n/a]
	at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:91)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:58)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:94)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:268)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.getResultSet(DeferredResultSetAccess.java:171)
	at org.hibernate.sql.results.jdbc.internal.JdbcValuesResultSetImpl.<init>(JdbcValuesResultSetImpl.java:74)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.resolveJdbcValuesSource(JdbcSelectExecutorStandardImpl.java:355)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.doExecuteQuery(JdbcSelectExecutorStandardImpl.java:137)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.executeQuery(JdbcSelectExecutorStandardImpl.java:102)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.executeQuery(JdbcSelectExecutor.java:91)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:165)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:142)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:132)
	at org.hibernate.loader.ast.internal.CollectionLoaderSingleKey.load(CollectionLoaderSingleKey.java:120)
	at org.hibernate.persister.collection.AbstractCollectionPersister.initialize(AbstractCollectionPersister.java:748)
	at org.hibernate.event.internal.DefaultInitializeCollectionEventListener.onInitializeCollection(DefaultInitializeCollectionEventListener.java:69)
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:127)
	at org.hibernate.internal.SessionImpl.initializeCollection(SessionImpl.java:1724)
	at org.hibernate.collection.spi.AbstractPersistentCollection.lambda$initialize$3(AbstractPersistentCollection.java:616)
	at org.hibernate.collection.spi.AbstractPersistentCollection.withTemporarySessionIfNeeded(AbstractPersistentCollection.java:265)
	at org.hibernate.collection.spi.AbstractPersistentCollection.initialize(AbstractPersistentCollection.java:614)
	at org.hibernate.collection.spi.AbstractPersistentCollection.forceInitialization(AbstractPersistentCollection.java:817)
	at org.hibernate.engine.internal.StatefulPersistenceContext.initializeNonLazyCollections(StatefulPersistenceContext.java:1169)
	at org.hibernate.engine.internal.StatefulPersistenceContext.initializeNonLazyCollections(StatefulPersistenceContext.java:1155)
	at org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:224)
	at org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:35)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.doExecuteQuery(JdbcSelectExecutorStandardImpl.java:224)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.executeQuery(JdbcSelectExecutorStandardImpl.java:102)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.executeQuery(JdbcSelectExecutor.java:91)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:165)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.lambda$new$1(ConcreteSqmSelectQueryPlan.java:152)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.withCacheableSqmInterpretation(ConcreteSqmSelectQueryPlan.java:442)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.performList(ConcreteSqmSelectQueryPlan.java:362)
	at org.hibernate.query.sqm.internal.QuerySqmImpl.doList(QuerySqmImpl.java:380)
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:143)
	at org.hibernate.query.Query.getResultList(Query.java:120)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$CollectionExecution.doExecute(JpaQueryExecution.java:130)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:93)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:152)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:140)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:170)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	... 118 more
Caused by: org.postgresql.util.PSQLException: ERROR: relation "import_invoice_details" does not exist
  Position: 625
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2733)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2420)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:372)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:517)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:434)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:194)
	at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:137)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeQuery(ProxyPreparedStatement.java:52)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeQuery(HikariProxyPreparedStatement.java)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:250)
	... 165 more
2025-05-26 18:25:01 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHP
2025-05-26 18:25:01 ERROR AuthTokenFilter:101 - Cannot set user authentication: User Not Found with username: LHP
org.springframework.security.core.userdetails.UsernameNotFoundException: User Not Found with username: LHP
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.UserDetailsServiceImpl.lambda$loadUserByUsername$0(UserDetailsServiceImpl.java:21)
	at java.base/java.util.Optional.orElseThrow(Optional.java:403)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.UserDetailsServiceImpl.loadUserByUsername(UserDetailsServiceImpl.java:21)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.UserDetailsServiceImpl$$SpringCGLIB$$0.loadUserByUsername(<generated>)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.filters.AuthTokenFilter.doFilterInternal(AuthTokenFilter.java:66)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1575)
2025-05-26 18:25:01 ERROR ProductServiceImpl:93 - Error get all products status true
org.springframework.dao.InvalidDataAccessResourceUsageException: JDBC exception executing SQL [select iid1_0.product_id,iid1_0.id,iid1_0.import_invoice_id,ii1_0.id,ib1_0.id,ib1_0.created_by,ib1_0.created_date,ib1_0.deleted,ib1_0.enabled,ib1_0.password_encrypted,ib1_0.updated_by,ib1_0.updated_date,ib1_0.username,ib1_1.role_id,r1_0.id,r1_0.name,ii1_0.import_date,ii1_0.total_price,iid1_0.import_price,iid1_0.quantity,iid1_0.size_id,s1_0.id,s1_0.released_by,s1_0.released_date,s1_0.size,s1_0.status,s1_0.stock,s1_0.updated_by,s1_0.updated_date,s1_0.variation_id,iid1_0.variation_id,v2_0.id,v2_0.color,v2_0.color_code,v2_0.product_id,v2_0.released_by,v2_0.released_date,v2_0.status,v2_0.updated_by,v2_0.updated_date from import_invoice_details iid1_0 left join import_invoices ii1_0 on ii1_0.id=iid1_0.import_invoice_id left join users ib1_0 on ib1_0.id=ii1_0.import_by left join roles_users ib1_1 on ib1_0.id=ib1_1.user_id left join roles r1_0 on r1_0.id=ib1_1.role_id left join size s1_0 on s1_0.id=iid1_0.size_id left join variation v2_0 on v2_0.id=iid1_0.variation_id where iid1_0.product_id=?] [ERROR: relation "import_invoice_details" does not exist
  Position: 625] [n/a]; SQL [n/a]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:281)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:256)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:241)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560)
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:136)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy4/jdk.proxy4.$Proxy170.findByStatusTrueAndDeletedFalse(Unknown Source)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.ProductServiceImpl.getProductsStatusTrueAndDeleteFalse(ProductServiceImpl.java:91)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:724)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.ProductServiceImpl$$SpringCGLIB$$0.getProductsStatusTrueAndDeleteFalse(<generated>)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.controller.ProductController.getProductsStatusTrue(ProductController.java:25)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:724)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.controller.ProductController$$SpringCGLIB$$0.getProductsStatusTrue(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.filters.AuthTokenFilter.doFilterInternal(AuthTokenFilter.java:103)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1575)
Caused by: org.hibernate.exception.SQLGrammarException: JDBC exception executing SQL [select iid1_0.product_id,iid1_0.id,iid1_0.import_invoice_id,ii1_0.id,ib1_0.id,ib1_0.created_by,ib1_0.created_date,ib1_0.deleted,ib1_0.enabled,ib1_0.password_encrypted,ib1_0.updated_by,ib1_0.updated_date,ib1_0.username,ib1_1.role_id,r1_0.id,r1_0.name,ii1_0.import_date,ii1_0.total_price,iid1_0.import_price,iid1_0.quantity,iid1_0.size_id,s1_0.id,s1_0.released_by,s1_0.released_date,s1_0.size,s1_0.status,s1_0.stock,s1_0.updated_by,s1_0.updated_date,s1_0.variation_id,iid1_0.variation_id,v2_0.id,v2_0.color,v2_0.color_code,v2_0.product_id,v2_0.released_by,v2_0.released_date,v2_0.status,v2_0.updated_by,v2_0.updated_date from import_invoice_details iid1_0 left join import_invoices ii1_0 on ii1_0.id=iid1_0.import_invoice_id left join users ib1_0 on ib1_0.id=ii1_0.import_by left join roles_users ib1_1 on ib1_0.id=ib1_1.user_id left join roles r1_0 on r1_0.id=ib1_1.role_id left join size s1_0 on s1_0.id=iid1_0.size_id left join variation v2_0 on v2_0.id=iid1_0.variation_id where iid1_0.product_id=?] [ERROR: relation "import_invoice_details" does not exist
  Position: 625] [n/a]
	at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:91)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:58)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:94)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:268)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.getResultSet(DeferredResultSetAccess.java:171)
	at org.hibernate.sql.results.jdbc.internal.JdbcValuesResultSetImpl.<init>(JdbcValuesResultSetImpl.java:74)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.resolveJdbcValuesSource(JdbcSelectExecutorStandardImpl.java:355)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.doExecuteQuery(JdbcSelectExecutorStandardImpl.java:137)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.executeQuery(JdbcSelectExecutorStandardImpl.java:102)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.executeQuery(JdbcSelectExecutor.java:91)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:165)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:142)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:132)
	at org.hibernate.loader.ast.internal.CollectionLoaderSingleKey.load(CollectionLoaderSingleKey.java:120)
	at org.hibernate.persister.collection.AbstractCollectionPersister.initialize(AbstractCollectionPersister.java:748)
	at org.hibernate.event.internal.DefaultInitializeCollectionEventListener.onInitializeCollection(DefaultInitializeCollectionEventListener.java:69)
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:127)
	at org.hibernate.internal.SessionImpl.initializeCollection(SessionImpl.java:1724)
	at org.hibernate.collection.spi.AbstractPersistentCollection.lambda$initialize$3(AbstractPersistentCollection.java:616)
	at org.hibernate.collection.spi.AbstractPersistentCollection.withTemporarySessionIfNeeded(AbstractPersistentCollection.java:265)
	at org.hibernate.collection.spi.AbstractPersistentCollection.initialize(AbstractPersistentCollection.java:614)
	at org.hibernate.collection.spi.AbstractPersistentCollection.forceInitialization(AbstractPersistentCollection.java:817)
	at org.hibernate.engine.internal.StatefulPersistenceContext.initializeNonLazyCollections(StatefulPersistenceContext.java:1169)
	at org.hibernate.engine.internal.StatefulPersistenceContext.initializeNonLazyCollections(StatefulPersistenceContext.java:1155)
	at org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:224)
	at org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:35)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.doExecuteQuery(JdbcSelectExecutorStandardImpl.java:224)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.executeQuery(JdbcSelectExecutorStandardImpl.java:102)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.executeQuery(JdbcSelectExecutor.java:91)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:165)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.lambda$new$1(ConcreteSqmSelectQueryPlan.java:152)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.withCacheableSqmInterpretation(ConcreteSqmSelectQueryPlan.java:442)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.performList(ConcreteSqmSelectQueryPlan.java:362)
	at org.hibernate.query.sqm.internal.QuerySqmImpl.doList(QuerySqmImpl.java:380)
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:143)
	at org.hibernate.query.Query.getResultList(Query.java:120)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$CollectionExecution.doExecute(JpaQueryExecution.java:130)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:93)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:152)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:140)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:170)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	... 118 more
Caused by: org.postgresql.util.PSQLException: ERROR: relation "import_invoice_details" does not exist
  Position: 625
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2733)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2420)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:372)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:517)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:434)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:194)
	at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:137)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeQuery(ProxyPreparedStatement.java:52)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeQuery(HikariProxyPreparedStatement.java)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:250)
	... 165 more
2025-05-26 18:25:01 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHP
2025-05-26 18:25:01 ERROR AuthTokenFilter:101 - Cannot set user authentication: User Not Found with username: LHP
org.springframework.security.core.userdetails.UsernameNotFoundException: User Not Found with username: LHP
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.UserDetailsServiceImpl.lambda$loadUserByUsername$0(UserDetailsServiceImpl.java:21)
	at java.base/java.util.Optional.orElseThrow(Optional.java:403)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.UserDetailsServiceImpl.loadUserByUsername(UserDetailsServiceImpl.java:21)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.UserDetailsServiceImpl$$SpringCGLIB$$0.loadUserByUsername(<generated>)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.filters.AuthTokenFilter.doFilterInternal(AuthTokenFilter.java:66)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1575)
2025-05-26 18:25:01 ERROR ProductServiceImpl:93 - Error get all products status true
org.springframework.dao.InvalidDataAccessResourceUsageException: JDBC exception executing SQL [select iid1_0.product_id,iid1_0.id,iid1_0.import_invoice_id,ii1_0.id,ib1_0.id,ib1_0.created_by,ib1_0.created_date,ib1_0.deleted,ib1_0.enabled,ib1_0.password_encrypted,ib1_0.updated_by,ib1_0.updated_date,ib1_0.username,ib1_1.role_id,r1_0.id,r1_0.name,ii1_0.import_date,ii1_0.total_price,iid1_0.import_price,iid1_0.quantity,iid1_0.size_id,s1_0.id,s1_0.released_by,s1_0.released_date,s1_0.size,s1_0.status,s1_0.stock,s1_0.updated_by,s1_0.updated_date,s1_0.variation_id,iid1_0.variation_id,v2_0.id,v2_0.color,v2_0.color_code,v2_0.product_id,v2_0.released_by,v2_0.released_date,v2_0.status,v2_0.updated_by,v2_0.updated_date from import_invoice_details iid1_0 left join import_invoices ii1_0 on ii1_0.id=iid1_0.import_invoice_id left join users ib1_0 on ib1_0.id=ii1_0.import_by left join roles_users ib1_1 on ib1_0.id=ib1_1.user_id left join roles r1_0 on r1_0.id=ib1_1.role_id left join size s1_0 on s1_0.id=iid1_0.size_id left join variation v2_0 on v2_0.id=iid1_0.variation_id where iid1_0.product_id=?] [ERROR: relation "import_invoice_details" does not exist
  Position: 625] [n/a]; SQL [n/a]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:281)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:256)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:241)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560)
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:136)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy4/jdk.proxy4.$Proxy170.findByStatusTrueAndDeletedFalse(Unknown Source)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.ProductServiceImpl.getProductsStatusTrueAndDeleteFalse(ProductServiceImpl.java:91)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:724)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.ProductServiceImpl$$SpringCGLIB$$0.getProductsStatusTrueAndDeleteFalse(<generated>)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.controller.ProductController.getProductsStatusTrue(ProductController.java:25)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:724)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.controller.ProductController$$SpringCGLIB$$0.getProductsStatusTrue(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.filters.AuthTokenFilter.doFilterInternal(AuthTokenFilter.java:103)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1575)
Caused by: org.hibernate.exception.SQLGrammarException: JDBC exception executing SQL [select iid1_0.product_id,iid1_0.id,iid1_0.import_invoice_id,ii1_0.id,ib1_0.id,ib1_0.created_by,ib1_0.created_date,ib1_0.deleted,ib1_0.enabled,ib1_0.password_encrypted,ib1_0.updated_by,ib1_0.updated_date,ib1_0.username,ib1_1.role_id,r1_0.id,r1_0.name,ii1_0.import_date,ii1_0.total_price,iid1_0.import_price,iid1_0.quantity,iid1_0.size_id,s1_0.id,s1_0.released_by,s1_0.released_date,s1_0.size,s1_0.status,s1_0.stock,s1_0.updated_by,s1_0.updated_date,s1_0.variation_id,iid1_0.variation_id,v2_0.id,v2_0.color,v2_0.color_code,v2_0.product_id,v2_0.released_by,v2_0.released_date,v2_0.status,v2_0.updated_by,v2_0.updated_date from import_invoice_details iid1_0 left join import_invoices ii1_0 on ii1_0.id=iid1_0.import_invoice_id left join users ib1_0 on ib1_0.id=ii1_0.import_by left join roles_users ib1_1 on ib1_0.id=ib1_1.user_id left join roles r1_0 on r1_0.id=ib1_1.role_id left join size s1_0 on s1_0.id=iid1_0.size_id left join variation v2_0 on v2_0.id=iid1_0.variation_id where iid1_0.product_id=?] [ERROR: relation "import_invoice_details" does not exist
  Position: 625] [n/a]
	at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:91)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:58)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:94)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:268)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.getResultSet(DeferredResultSetAccess.java:171)
	at org.hibernate.sql.results.jdbc.internal.JdbcValuesResultSetImpl.<init>(JdbcValuesResultSetImpl.java:74)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.resolveJdbcValuesSource(JdbcSelectExecutorStandardImpl.java:355)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.doExecuteQuery(JdbcSelectExecutorStandardImpl.java:137)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.executeQuery(JdbcSelectExecutorStandardImpl.java:102)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.executeQuery(JdbcSelectExecutor.java:91)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:165)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:142)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:132)
	at org.hibernate.loader.ast.internal.CollectionLoaderSingleKey.load(CollectionLoaderSingleKey.java:120)
	at org.hibernate.persister.collection.AbstractCollectionPersister.initialize(AbstractCollectionPersister.java:748)
	at org.hibernate.event.internal.DefaultInitializeCollectionEventListener.onInitializeCollection(DefaultInitializeCollectionEventListener.java:69)
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:127)
	at org.hibernate.internal.SessionImpl.initializeCollection(SessionImpl.java:1724)
	at org.hibernate.collection.spi.AbstractPersistentCollection.lambda$initialize$3(AbstractPersistentCollection.java:616)
	at org.hibernate.collection.spi.AbstractPersistentCollection.withTemporarySessionIfNeeded(AbstractPersistentCollection.java:265)
	at org.hibernate.collection.spi.AbstractPersistentCollection.initialize(AbstractPersistentCollection.java:614)
	at org.hibernate.collection.spi.AbstractPersistentCollection.forceInitialization(AbstractPersistentCollection.java:817)
	at org.hibernate.engine.internal.StatefulPersistenceContext.initializeNonLazyCollections(StatefulPersistenceContext.java:1169)
	at org.hibernate.engine.internal.StatefulPersistenceContext.initializeNonLazyCollections(StatefulPersistenceContext.java:1155)
	at org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:224)
	at org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:35)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.doExecuteQuery(JdbcSelectExecutorStandardImpl.java:224)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.executeQuery(JdbcSelectExecutorStandardImpl.java:102)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.executeQuery(JdbcSelectExecutor.java:91)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:165)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.lambda$new$1(ConcreteSqmSelectQueryPlan.java:152)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.withCacheableSqmInterpretation(ConcreteSqmSelectQueryPlan.java:442)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.performList(ConcreteSqmSelectQueryPlan.java:362)
	at org.hibernate.query.sqm.internal.QuerySqmImpl.doList(QuerySqmImpl.java:380)
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:143)
	at org.hibernate.query.Query.getResultList(Query.java:120)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$CollectionExecution.doExecute(JpaQueryExecution.java:130)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:93)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:152)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:140)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:170)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	... 118 more
Caused by: org.postgresql.util.PSQLException: ERROR: relation "import_invoice_details" does not exist
  Position: 625
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2733)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2420)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:372)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:517)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:434)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:194)
	at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:137)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeQuery(ProxyPreparedStatement.java:52)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeQuery(HikariProxyPreparedStatement.java)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:250)
	... 165 more
2025-05-26 18:25:01 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHP
2025-05-26 18:25:01 ERROR AuthTokenFilter:101 - Cannot set user authentication: User Not Found with username: LHP
org.springframework.security.core.userdetails.UsernameNotFoundException: User Not Found with username: LHP
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.UserDetailsServiceImpl.lambda$loadUserByUsername$0(UserDetailsServiceImpl.java:21)
	at java.base/java.util.Optional.orElseThrow(Optional.java:403)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.UserDetailsServiceImpl.loadUserByUsername(UserDetailsServiceImpl.java:21)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.UserDetailsServiceImpl$$SpringCGLIB$$0.loadUserByUsername(<generated>)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.filters.AuthTokenFilter.doFilterInternal(AuthTokenFilter.java:66)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1575)
2025-05-26 18:25:01 ERROR ProductServiceImpl:93 - Error get all products status true
org.springframework.dao.InvalidDataAccessResourceUsageException: JDBC exception executing SQL [select iid1_0.product_id,iid1_0.id,iid1_0.import_invoice_id,ii1_0.id,ib1_0.id,ib1_0.created_by,ib1_0.created_date,ib1_0.deleted,ib1_0.enabled,ib1_0.password_encrypted,ib1_0.updated_by,ib1_0.updated_date,ib1_0.username,ib1_1.role_id,r1_0.id,r1_0.name,ii1_0.import_date,ii1_0.total_price,iid1_0.import_price,iid1_0.quantity,iid1_0.size_id,s1_0.id,s1_0.released_by,s1_0.released_date,s1_0.size,s1_0.status,s1_0.stock,s1_0.updated_by,s1_0.updated_date,s1_0.variation_id,iid1_0.variation_id,v2_0.id,v2_0.color,v2_0.color_code,v2_0.product_id,v2_0.released_by,v2_0.released_date,v2_0.status,v2_0.updated_by,v2_0.updated_date from import_invoice_details iid1_0 left join import_invoices ii1_0 on ii1_0.id=iid1_0.import_invoice_id left join users ib1_0 on ib1_0.id=ii1_0.import_by left join roles_users ib1_1 on ib1_0.id=ib1_1.user_id left join roles r1_0 on r1_0.id=ib1_1.role_id left join size s1_0 on s1_0.id=iid1_0.size_id left join variation v2_0 on v2_0.id=iid1_0.variation_id where iid1_0.product_id=?] [ERROR: relation "import_invoice_details" does not exist
  Position: 625] [n/a]; SQL [n/a]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:281)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:256)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:241)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560)
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:136)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy4/jdk.proxy4.$Proxy170.findByStatusTrueAndDeletedFalse(Unknown Source)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.ProductServiceImpl.getProductsStatusTrueAndDeleteFalse(ProductServiceImpl.java:91)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:724)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.ProductServiceImpl$$SpringCGLIB$$0.getProductsStatusTrueAndDeleteFalse(<generated>)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.controller.ProductController.getProductsStatusTrue(ProductController.java:25)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:724)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.controller.ProductController$$SpringCGLIB$$0.getProductsStatusTrue(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.filters.AuthTokenFilter.doFilterInternal(AuthTokenFilter.java:103)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1575)
Caused by: org.hibernate.exception.SQLGrammarException: JDBC exception executing SQL [select iid1_0.product_id,iid1_0.id,iid1_0.import_invoice_id,ii1_0.id,ib1_0.id,ib1_0.created_by,ib1_0.created_date,ib1_0.deleted,ib1_0.enabled,ib1_0.password_encrypted,ib1_0.updated_by,ib1_0.updated_date,ib1_0.username,ib1_1.role_id,r1_0.id,r1_0.name,ii1_0.import_date,ii1_0.total_price,iid1_0.import_price,iid1_0.quantity,iid1_0.size_id,s1_0.id,s1_0.released_by,s1_0.released_date,s1_0.size,s1_0.status,s1_0.stock,s1_0.updated_by,s1_0.updated_date,s1_0.variation_id,iid1_0.variation_id,v2_0.id,v2_0.color,v2_0.color_code,v2_0.product_id,v2_0.released_by,v2_0.released_date,v2_0.status,v2_0.updated_by,v2_0.updated_date from import_invoice_details iid1_0 left join import_invoices ii1_0 on ii1_0.id=iid1_0.import_invoice_id left join users ib1_0 on ib1_0.id=ii1_0.import_by left join roles_users ib1_1 on ib1_0.id=ib1_1.user_id left join roles r1_0 on r1_0.id=ib1_1.role_id left join size s1_0 on s1_0.id=iid1_0.size_id left join variation v2_0 on v2_0.id=iid1_0.variation_id where iid1_0.product_id=?] [ERROR: relation "import_invoice_details" does not exist
  Position: 625] [n/a]
	at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:91)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:58)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:94)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:268)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.getResultSet(DeferredResultSetAccess.java:171)
	at org.hibernate.sql.results.jdbc.internal.JdbcValuesResultSetImpl.<init>(JdbcValuesResultSetImpl.java:74)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.resolveJdbcValuesSource(JdbcSelectExecutorStandardImpl.java:355)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.doExecuteQuery(JdbcSelectExecutorStandardImpl.java:137)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.executeQuery(JdbcSelectExecutorStandardImpl.java:102)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.executeQuery(JdbcSelectExecutor.java:91)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:165)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:142)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:132)
	at org.hibernate.loader.ast.internal.CollectionLoaderSingleKey.load(CollectionLoaderSingleKey.java:120)
	at org.hibernate.persister.collection.AbstractCollectionPersister.initialize(AbstractCollectionPersister.java:748)
	at org.hibernate.event.internal.DefaultInitializeCollectionEventListener.onInitializeCollection(DefaultInitializeCollectionEventListener.java:69)
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:127)
	at org.hibernate.internal.SessionImpl.initializeCollection(SessionImpl.java:1724)
	at org.hibernate.collection.spi.AbstractPersistentCollection.lambda$initialize$3(AbstractPersistentCollection.java:616)
	at org.hibernate.collection.spi.AbstractPersistentCollection.withTemporarySessionIfNeeded(AbstractPersistentCollection.java:265)
	at org.hibernate.collection.spi.AbstractPersistentCollection.initialize(AbstractPersistentCollection.java:614)
	at org.hibernate.collection.spi.AbstractPersistentCollection.forceInitialization(AbstractPersistentCollection.java:817)
	at org.hibernate.engine.internal.StatefulPersistenceContext.initializeNonLazyCollections(StatefulPersistenceContext.java:1169)
	at org.hibernate.engine.internal.StatefulPersistenceContext.initializeNonLazyCollections(StatefulPersistenceContext.java:1155)
	at org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:224)
	at org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:35)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.doExecuteQuery(JdbcSelectExecutorStandardImpl.java:224)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.executeQuery(JdbcSelectExecutorStandardImpl.java:102)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.executeQuery(JdbcSelectExecutor.java:91)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:165)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.lambda$new$1(ConcreteSqmSelectQueryPlan.java:152)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.withCacheableSqmInterpretation(ConcreteSqmSelectQueryPlan.java:442)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.performList(ConcreteSqmSelectQueryPlan.java:362)
	at org.hibernate.query.sqm.internal.QuerySqmImpl.doList(QuerySqmImpl.java:380)
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:143)
	at org.hibernate.query.Query.getResultList(Query.java:120)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$CollectionExecution.doExecute(JpaQueryExecution.java:130)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:93)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:152)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:140)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:170)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	... 118 more
Caused by: org.postgresql.util.PSQLException: ERROR: relation "import_invoice_details" does not exist
  Position: 625
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2733)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2420)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:372)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:517)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:434)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:194)
	at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:137)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeQuery(ProxyPreparedStatement.java:52)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeQuery(HikariProxyPreparedStatement.java)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:250)
	... 165 more
2025-05-26 18:25:01 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHP
2025-05-26 18:25:01 ERROR AuthTokenFilter:101 - Cannot set user authentication: User Not Found with username: LHP
org.springframework.security.core.userdetails.UsernameNotFoundException: User Not Found with username: LHP
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.UserDetailsServiceImpl.lambda$loadUserByUsername$0(UserDetailsServiceImpl.java:21)
	at java.base/java.util.Optional.orElseThrow(Optional.java:403)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.UserDetailsServiceImpl.loadUserByUsername(UserDetailsServiceImpl.java:21)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.UserDetailsServiceImpl$$SpringCGLIB$$0.loadUserByUsername(<generated>)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.filters.AuthTokenFilter.doFilterInternal(AuthTokenFilter.java:66)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1575)
2025-05-26 18:25:01 ERROR ProductServiceImpl:93 - Error get all products status true
org.springframework.dao.InvalidDataAccessResourceUsageException: JDBC exception executing SQL [select iid1_0.product_id,iid1_0.id,iid1_0.import_invoice_id,ii1_0.id,ib1_0.id,ib1_0.created_by,ib1_0.created_date,ib1_0.deleted,ib1_0.enabled,ib1_0.password_encrypted,ib1_0.updated_by,ib1_0.updated_date,ib1_0.username,ib1_1.role_id,r1_0.id,r1_0.name,ii1_0.import_date,ii1_0.total_price,iid1_0.import_price,iid1_0.quantity,iid1_0.size_id,s1_0.id,s1_0.released_by,s1_0.released_date,s1_0.size,s1_0.status,s1_0.stock,s1_0.updated_by,s1_0.updated_date,s1_0.variation_id,iid1_0.variation_id,v2_0.id,v2_0.color,v2_0.color_code,v2_0.product_id,v2_0.released_by,v2_0.released_date,v2_0.status,v2_0.updated_by,v2_0.updated_date from import_invoice_details iid1_0 left join import_invoices ii1_0 on ii1_0.id=iid1_0.import_invoice_id left join users ib1_0 on ib1_0.id=ii1_0.import_by left join roles_users ib1_1 on ib1_0.id=ib1_1.user_id left join roles r1_0 on r1_0.id=ib1_1.role_id left join size s1_0 on s1_0.id=iid1_0.size_id left join variation v2_0 on v2_0.id=iid1_0.variation_id where iid1_0.product_id=?] [ERROR: relation "import_invoice_details" does not exist
  Position: 625] [n/a]; SQL [n/a]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:281)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:256)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:241)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560)
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:136)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy4/jdk.proxy4.$Proxy170.findByStatusTrueAndDeletedFalse(Unknown Source)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.ProductServiceImpl.getProductsStatusTrueAndDeleteFalse(ProductServiceImpl.java:91)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:724)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.ProductServiceImpl$$SpringCGLIB$$0.getProductsStatusTrueAndDeleteFalse(<generated>)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.controller.ProductController.getProductsStatusTrue(ProductController.java:25)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:724)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.controller.ProductController$$SpringCGLIB$$0.getProductsStatusTrue(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.filters.AuthTokenFilter.doFilterInternal(AuthTokenFilter.java:103)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1575)
Caused by: org.hibernate.exception.SQLGrammarException: JDBC exception executing SQL [select iid1_0.product_id,iid1_0.id,iid1_0.import_invoice_id,ii1_0.id,ib1_0.id,ib1_0.created_by,ib1_0.created_date,ib1_0.deleted,ib1_0.enabled,ib1_0.password_encrypted,ib1_0.updated_by,ib1_0.updated_date,ib1_0.username,ib1_1.role_id,r1_0.id,r1_0.name,ii1_0.import_date,ii1_0.total_price,iid1_0.import_price,iid1_0.quantity,iid1_0.size_id,s1_0.id,s1_0.released_by,s1_0.released_date,s1_0.size,s1_0.status,s1_0.stock,s1_0.updated_by,s1_0.updated_date,s1_0.variation_id,iid1_0.variation_id,v2_0.id,v2_0.color,v2_0.color_code,v2_0.product_id,v2_0.released_by,v2_0.released_date,v2_0.status,v2_0.updated_by,v2_0.updated_date from import_invoice_details iid1_0 left join import_invoices ii1_0 on ii1_0.id=iid1_0.import_invoice_id left join users ib1_0 on ib1_0.id=ii1_0.import_by left join roles_users ib1_1 on ib1_0.id=ib1_1.user_id left join roles r1_0 on r1_0.id=ib1_1.role_id left join size s1_0 on s1_0.id=iid1_0.size_id left join variation v2_0 on v2_0.id=iid1_0.variation_id where iid1_0.product_id=?] [ERROR: relation "import_invoice_details" does not exist
  Position: 625] [n/a]
	at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:91)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:58)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:94)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:268)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.getResultSet(DeferredResultSetAccess.java:171)
	at org.hibernate.sql.results.jdbc.internal.JdbcValuesResultSetImpl.<init>(JdbcValuesResultSetImpl.java:74)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.resolveJdbcValuesSource(JdbcSelectExecutorStandardImpl.java:355)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.doExecuteQuery(JdbcSelectExecutorStandardImpl.java:137)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.executeQuery(JdbcSelectExecutorStandardImpl.java:102)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.executeQuery(JdbcSelectExecutor.java:91)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:165)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:142)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:132)
	at org.hibernate.loader.ast.internal.CollectionLoaderSingleKey.load(CollectionLoaderSingleKey.java:120)
	at org.hibernate.persister.collection.AbstractCollectionPersister.initialize(AbstractCollectionPersister.java:748)
	at org.hibernate.event.internal.DefaultInitializeCollectionEventListener.onInitializeCollection(DefaultInitializeCollectionEventListener.java:69)
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:127)
	at org.hibernate.internal.SessionImpl.initializeCollection(SessionImpl.java:1724)
	at org.hibernate.collection.spi.AbstractPersistentCollection.lambda$initialize$3(AbstractPersistentCollection.java:616)
	at org.hibernate.collection.spi.AbstractPersistentCollection.withTemporarySessionIfNeeded(AbstractPersistentCollection.java:265)
	at org.hibernate.collection.spi.AbstractPersistentCollection.initialize(AbstractPersistentCollection.java:614)
	at org.hibernate.collection.spi.AbstractPersistentCollection.forceInitialization(AbstractPersistentCollection.java:817)
	at org.hibernate.engine.internal.StatefulPersistenceContext.initializeNonLazyCollections(StatefulPersistenceContext.java:1169)
	at org.hibernate.engine.internal.StatefulPersistenceContext.initializeNonLazyCollections(StatefulPersistenceContext.java:1155)
	at org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:224)
	at org.hibernate.sql.results.spi.ListResultsConsumer.consume(ListResultsConsumer.java:35)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.doExecuteQuery(JdbcSelectExecutorStandardImpl.java:224)
	at org.hibernate.sql.exec.internal.JdbcSelectExecutorStandardImpl.executeQuery(JdbcSelectExecutorStandardImpl.java:102)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.executeQuery(JdbcSelectExecutor.java:91)
	at org.hibernate.sql.exec.spi.JdbcSelectExecutor.list(JdbcSelectExecutor.java:165)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.lambda$new$1(ConcreteSqmSelectQueryPlan.java:152)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.withCacheableSqmInterpretation(ConcreteSqmSelectQueryPlan.java:442)
	at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.performList(ConcreteSqmSelectQueryPlan.java:362)
	at org.hibernate.query.sqm.internal.QuerySqmImpl.doList(QuerySqmImpl.java:380)
	at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:143)
	at org.hibernate.query.Query.getResultList(Query.java:120)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution$CollectionExecution.doExecute(JpaQueryExecution.java:130)
	at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:93)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:152)
	at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:140)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:170)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	... 118 more
Caused by: org.postgresql.util.PSQLException: ERROR: relation "import_invoice_details" does not exist
  Position: 625
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2733)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2420)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:372)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:517)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:434)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:194)
	at org.postgresql.jdbc.PgPreparedStatement.executeQuery(PgPreparedStatement.java:137)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeQuery(ProxyPreparedStatement.java:52)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeQuery(HikariProxyPreparedStatement.java)
	at org.hibernate.sql.results.jdbc.internal.DeferredResultSetAccess.executeQuery(DeferredResultSetAccess.java:250)
	... 165 more
2025-05-26 18:25:39 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHP
2025-05-26 18:25:39 ERROR AuthTokenFilter:101 - Cannot set user authentication: User Not Found with username: LHP
org.springframework.security.core.userdetails.UsernameNotFoundException: User Not Found with username: LHP
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.UserDetailsServiceImpl.lambda$loadUserByUsername$0(UserDetailsServiceImpl.java:21)
	at java.base/java.util.Optional.orElseThrow(Optional.java:403)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.UserDetailsServiceImpl.loadUserByUsername(UserDetailsServiceImpl.java:21)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.UserDetailsServiceImpl$$SpringCGLIB$$0.loadUserByUsername(<generated>)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.filters.AuthTokenFilter.doFilterInternal(AuthTokenFilter.java:66)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1575)
2025-05-26 18:25:39 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:25:39 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:25:39 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:25:39 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:25:39 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:25:39 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHP
2025-05-26 18:25:39 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:25:39 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:25:39 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:25:39 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:25:39 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:25:39 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:25:39 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:25:39 ERROR AuthTokenFilter:101 - Cannot set user authentication: User Not Found with username: LHP
org.springframework.security.core.userdetails.UsernameNotFoundException: User Not Found with username: LHP
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.UserDetailsServiceImpl.lambda$loadUserByUsername$0(UserDetailsServiceImpl.java:21)
	at java.base/java.util.Optional.orElseThrow(Optional.java:403)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.UserDetailsServiceImpl.loadUserByUsername(UserDetailsServiceImpl.java:21)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.UserDetailsServiceImpl$$SpringCGLIB$$0.loadUserByUsername(<generated>)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.filters.AuthTokenFilter.doFilterInternal(AuthTokenFilter.java:66)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1575)
2025-05-26 18:25:39 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHP
2025-05-26 18:25:39 ERROR AuthTokenFilter:101 - Cannot set user authentication: User Not Found with username: LHP
org.springframework.security.core.userdetails.UsernameNotFoundException: User Not Found with username: LHP
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.UserDetailsServiceImpl.lambda$loadUserByUsername$0(UserDetailsServiceImpl.java:21)
	at java.base/java.util.Optional.orElseThrow(Optional.java:403)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.UserDetailsServiceImpl.loadUserByUsername(UserDetailsServiceImpl.java:21)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.UserDetailsServiceImpl$$SpringCGLIB$$0.loadUserByUsername(<generated>)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.filters.AuthTokenFilter.doFilterInternal(AuthTokenFilter.java:66)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1575)
2025-05-26 18:25:39 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:25:39 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:25:39 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:25:39 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:25:39 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:25:39 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:25:39 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:25:39 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:25:39 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:25:39 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:25:39 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:25:39 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:25:52 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHP
2025-05-26 18:25:52 ERROR AuthTokenFilter:101 - Cannot set user authentication: User Not Found with username: LHP
org.springframework.security.core.userdetails.UsernameNotFoundException: User Not Found with username: LHP
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.UserDetailsServiceImpl.lambda$loadUserByUsername$0(UserDetailsServiceImpl.java:21)
	at java.base/java.util.Optional.orElseThrow(Optional.java:403)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.UserDetailsServiceImpl.loadUserByUsername(UserDetailsServiceImpl.java:21)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.UserDetailsServiceImpl$$SpringCGLIB$$0.loadUserByUsername(<generated>)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.filters.AuthTokenFilter.doFilterInternal(AuthTokenFilter.java:66)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1575)
2025-05-26 18:25:52 INFO  AuthServiceImpl:226 - logout
2025-05-26 18:25:52 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:25:52 WARN  AuthTokenFilter:91 - Failed to refresh token: Failed for []: Refresh token is not valid or expired!
2025-05-26 18:25:52 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:25:52 WARN  AuthTokenFilter:91 - Failed to refresh token: Failed for []: Refresh token is not valid or expired!
2025-05-26 18:25:54 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:25:54 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:25:54 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:25:54 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:25:54 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:25:54 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:25:54 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:25:54 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:25:54 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:25:54 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:25:54 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:25:54 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:25:54 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:25:54 WARN  AuthTokenFilter:91 - Failed to refresh token: Failed for []: Refresh token is not valid or expired!
2025-05-26 18:25:54 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:25:54 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:25:54 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:25:54 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:25:54 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:25:54 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:25:54 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:25:54 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:25:54 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:25:54 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:25:54 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:25:54 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:26:47 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:26:47 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:26:47 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:26:47 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:26:47 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:26:47 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:26:47 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:26:47 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:26:47 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:26:47 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:26:47 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:26:47 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:26:47 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:26:47 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:26:47 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:26:47 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:26:47 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:26:47 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:26:47 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:26:47 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:26:47 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:26:47 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:26:47 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:26:47 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:26:47 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:26:47 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:26:47 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:26:47 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:26:47 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:26:47 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:26:58 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:26:58 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:26:58 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:26:58 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:27:03 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:27:03 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:27:03 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:27:03 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:27:03 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:27:03 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:27:03 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:27:03 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:27:03 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:27:03 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:27:03 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:27:03 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:27:03 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:27:03 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:27:03 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:27:03 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:27:03 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:27:03 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:27:03 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:27:03 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:27:03 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:27:03 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:27:03 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:27:03 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:27:03 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:27:03 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:27:03 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:27:03 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:27:06 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:27:06 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:27:06 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:27:06 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:27:06 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:27:06 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:27:07 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:27:07 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:27:07 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:27:07 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:27:07 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:27:07 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:27:07 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:27:07 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:27:07 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:27:07 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:27:07 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:27:07 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:27:07 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:27:07 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:27:07 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:27:07 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:27:07 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:27:07 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:27:07 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:27:07 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:27:07 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:27:07 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:27:07 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:27:07 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:27:07 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:27:07 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:27:07 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:27:07 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:27:09 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:27:09 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:27:09 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:27:09 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:27:11 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:27:11 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:27:11 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:27:11 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:27:11 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:27:11 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:27:15 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:27:15 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:27:15 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:27:15 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:27:15 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:27:15 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:27:15 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:27:15 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:27:15 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:27:15 WARN  AuthTokenFilter:91 - Failed to refresh token: Failed for []: Refresh token is not valid or expired!
2025-05-26 18:28:01 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:28:01 WARN  AuthTokenFilter:91 - Failed to refresh token: Failed for []: Refresh token is not valid or expired!
2025-05-26 18:28:21 INFO  EmailService:44 - Email sent to: 21130477@st.hcmuaf.edu.vn
2025-05-26 18:28:21 INFO  AuthServiceImpl:265 - OTP for sign up new Account has sent to email: 21130477@st.hcmuaf.edu.vn
2025-05-26 18:28:38 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:28:38 WARN  AuthTokenFilter:91 - Failed to refresh token: Failed for []: Refresh token is not valid or expired!
2025-05-26 18:28:39 INFO  AuthServiceImpl:319 - Signup successful with email: 21130477@st.hcmuaf.edu.vn and username: LHP
2025-05-26 18:28:39 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:28:39 WARN  AuthTokenFilter:91 - Failed to refresh token: Failed for []: Refresh token is not valid or expired!
2025-05-26 18:28:39 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:28:39 WARN  AuthTokenFilter:91 - Failed to refresh token: Failed for []: Refresh token is not valid or expired!
2025-05-26 18:28:45 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:28:45 WARN  AuthTokenFilter:91 - Failed to refresh token: Failed for []: Refresh token is not valid or expired!
2025-05-26 18:28:45 INFO  AuthServiceImpl:94 - LHP logged in
2025-05-26 18:28:46 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHP
2025-05-26 18:28:46 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:28:46 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:28:46 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:28:46 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:28:46 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHP
2025-05-26 18:28:46 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:28:46 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:28:46 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:28:46 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:28:46 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:28:46 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:28:46 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:28:46 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:28:46 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:28:46 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:28:46 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHP
2025-05-26 18:28:46 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:28:46 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:28:46 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:28:46 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:28:46 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:28:46 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:28:46 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:28:46 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:28:46 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:28:46 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:28:48 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHP
2025-05-26 18:29:46 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHP
2025-05-26 18:29:47 INFO  OrderServiceImpl:217 - LHP ordered successfully with order id: 17
2025-05-26 18:29:47 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:29:47 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:29:47 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:29:47 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:29:47 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:29:47 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:29:47 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:29:47 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:29:47 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:29:47 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:29:47 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:29:47 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:29:47 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHP
2025-05-26 18:29:47 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:29:47 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:29:47 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:29:47 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:29:47 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:29:47 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:29:47 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:29:47 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:29:47 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:29:47 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:29:47 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:29:47 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:29:52 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHP
2025-05-26 18:30:10 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHP
2025-05-26 18:30:14 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHP
2025-05-26 18:30:16 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHP
2025-05-26 18:30:20 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHP
2025-05-26 18:30:20 ERROR OrderStatusHistoryServiceImpl:21 - Error save order status history
org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: duplicate key value violates unique constraint "order_status_history_pkey"
  Detail: Key (id)=(12) already exists.] [insert into order_status_history (created_date,order_id,status_id) values (?,?,?)]; SQL [insert into order_status_history (created_date,order_id,status_id) values (?,?,?)]; constraint [order_status_history_pkey]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:294)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:256)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:241)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560)
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:165)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy4/jdk.proxy4.$Proxy177.save(Unknown Source)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.OrderStatusHistoryServiceImpl.saveOrderStatusHistory(OrderStatusHistoryServiceImpl.java:19)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.OrderServiceImpl.updateOrderStatus(OrderServiceImpl.java:240)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.OrderServiceImpl$$SpringCGLIB$$0.updateOrderStatus(<generated>)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.controller.OrderController.cancelOrder(OrderController.java:77)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.proceed(AuthorizationManagerBeforeMethodInterceptor.java:268)
	at org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.attemptAuthorization(AuthorizationManagerBeforeMethodInterceptor.java:263)
	at org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.invoke(AuthorizationManagerBeforeMethodInterceptor.java:196)
	at org.springframework.security.config.annotation.method.configuration.DeferringMethodInterceptor.invoke(DeferringMethodInterceptor.java:44)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.controller.OrderController$$SpringCGLIB$$0.cancelOrder(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPut(FrameworkServlet.java:925)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:593)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.filters.AuthTokenFilter.doFilterInternal(AuthTokenFilter.java:103)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1575)
Caused by: org.hibernate.exception.ConstraintViolationException: could not execute statement [ERROR: duplicate key value violates unique constraint "order_status_history_pkey"
  Detail: Key (id)=(12) already exists.] [insert into order_status_history (created_date,order_id,status_id) values (?,?,?)]
	at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:97)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:58)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:197)
	at org.hibernate.id.insert.GetGeneratedKeysDelegate.performMutation(GetGeneratedKeysDelegate.java:116)
	at org.hibernate.engine.jdbc.mutation.internal.MutationExecutorSingleNonBatched.performNonBatchedOperations(MutationExecutorSingleNonBatched.java:47)
	at org.hibernate.engine.jdbc.mutation.internal.AbstractMutationExecutor.execute(AbstractMutationExecutor.java:55)
	at org.hibernate.persister.entity.mutation.InsertCoordinatorStandard.doStaticInserts(InsertCoordinatorStandard.java:194)
	at org.hibernate.persister.entity.mutation.InsertCoordinatorStandard.coordinateInsert(InsertCoordinatorStandard.java:132)
	at org.hibernate.persister.entity.mutation.InsertCoordinatorStandard.insert(InsertCoordinatorStandard.java:95)
	at org.hibernate.action.internal.EntityIdentityInsertAction.execute(EntityIdentityInsertAction.java:85)
	at org.hibernate.engine.spi.ActionQueue.execute(ActionQueue.java:682)
	at org.hibernate.engine.spi.ActionQueue.addResolvedEntityInsertAction(ActionQueue.java:293)
	at org.hibernate.engine.spi.ActionQueue.addInsertAction(ActionQueue.java:274)
	at org.hibernate.engine.spi.ActionQueue.addAction(ActionQueue.java:324)
	at org.hibernate.event.internal.AbstractSaveEventListener.addInsertAction(AbstractSaveEventListener.java:393)
	at org.hibernate.event.internal.AbstractSaveEventListener.performSaveOrReplicate(AbstractSaveEventListener.java:307)
	at org.hibernate.event.internal.AbstractSaveEventListener.performSave(AbstractSaveEventListener.java:223)
	at org.hibernate.event.internal.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:136)
	at org.hibernate.event.internal.DefaultPersistEventListener.entityIsTransient(DefaultPersistEventListener.java:177)
	at org.hibernate.event.internal.DefaultPersistEventListener.persist(DefaultPersistEventListener.java:95)
	at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:79)
	at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:55)
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:127)
	at org.hibernate.internal.SessionImpl.firePersist(SessionImpl.java:761)
	at org.hibernate.internal.SessionImpl.persist(SessionImpl.java:745)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:364)
	at jdk.proxy4/jdk.proxy4.$Proxy146.persist(Unknown Source)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:320)
	at jdk.proxy4/jdk.proxy4.$Proxy146.persist(Unknown Source)
	at org.springframework.data.jpa.repository.support.SimpleJpaRepository.save(SimpleJpaRepository.java:636)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:277)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
	at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:515)
	at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:284)
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:731)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:174)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	... 131 more
Caused by: org.postgresql.util.PSQLException: ERROR: duplicate key value violates unique constraint "order_status_history_pkey"
  Detail: Key (id)=(12) already exists.
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2733)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2420)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:372)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:517)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:434)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:194)
	at org.postgresql.jdbc.PgPreparedStatement.executeUpdate(PgPreparedStatement.java:155)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java)
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:194)
	... 181 more
2025-05-26 18:30:20 ERROR OrderServiceImpl:247 - Error in updateOrderStatus: 
java.lang.RuntimeException: org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: duplicate key value violates unique constraint "order_status_history_pkey"
  Detail: Key (id)=(12) already exists.] [insert into order_status_history (created_date,order_id,status_id) values (?,?,?)]; SQL [insert into order_status_history (created_date,order_id,status_id) values (?,?,?)]; constraint [order_status_history_pkey]
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.OrderStatusHistoryServiceImpl.saveOrderStatusHistory(OrderStatusHistoryServiceImpl.java:22)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.OrderServiceImpl.updateOrderStatus(OrderServiceImpl.java:240)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.OrderServiceImpl$$SpringCGLIB$$0.updateOrderStatus(<generated>)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.controller.OrderController.cancelOrder(OrderController.java:77)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.proceed(AuthorizationManagerBeforeMethodInterceptor.java:268)
	at org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.attemptAuthorization(AuthorizationManagerBeforeMethodInterceptor.java:263)
	at org.springframework.security.authorization.method.AuthorizationManagerBeforeMethodInterceptor.invoke(AuthorizationManagerBeforeMethodInterceptor.java:196)
	at org.springframework.security.config.annotation.method.configuration.DeferringMethodInterceptor.invoke(DeferringMethodInterceptor.java:44)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:728)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.controller.OrderController$$SpringCGLIB$$0.cancelOrder(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:258)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:191)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:986)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:891)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1089)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:979)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1014)
	at org.springframework.web.servlet.FrameworkServlet.doPut(FrameworkServlet.java:925)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:593)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885)
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:195)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:110)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:108)
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365)
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:101)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.filters.AuthTokenFilter.doFilterInternal(AuthTokenFilter.java:103)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$3(HandlerMappingIntrospector.java:243)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:238)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1189)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:658)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1575)
Caused by: org.springframework.dao.DataIntegrityViolationException: could not execute statement [ERROR: duplicate key value violates unique constraint "order_status_history_pkey"
  Detail: Key (id)=(12) already exists.] [insert into order_status_history (created_date,order_id,status_id) values (?,?,?)]; SQL [insert into order_status_history (created_date,order_id,status_id) values (?,?,?)]; constraint [order_status_history_pkey]
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:294)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:256)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:241)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:560)
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:343)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:160)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:165)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:223)
	at jdk.proxy4/jdk.proxy4.$Proxy177.save(Unknown Source)
	at vn.edu.hcmuaf.cdw.ShopThoiTrang.service.impl.OrderStatusHistoryServiceImpl.saveOrderStatusHistory(OrderStatusHistoryServiceImpl.java:19)
	... 125 more
Caused by: org.hibernate.exception.ConstraintViolationException: could not execute statement [ERROR: duplicate key value violates unique constraint "order_status_history_pkey"
  Detail: Key (id)=(12) already exists.] [insert into order_status_history (created_date,order_id,status_id) values (?,?,?)]
	at org.hibernate.exception.internal.SQLStateConversionDelegate.convert(SQLStateConversionDelegate.java:97)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:58)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:197)
	at org.hibernate.id.insert.GetGeneratedKeysDelegate.performMutation(GetGeneratedKeysDelegate.java:116)
	at org.hibernate.engine.jdbc.mutation.internal.MutationExecutorSingleNonBatched.performNonBatchedOperations(MutationExecutorSingleNonBatched.java:47)
	at org.hibernate.engine.jdbc.mutation.internal.AbstractMutationExecutor.execute(AbstractMutationExecutor.java:55)
	at org.hibernate.persister.entity.mutation.InsertCoordinatorStandard.doStaticInserts(InsertCoordinatorStandard.java:194)
	at org.hibernate.persister.entity.mutation.InsertCoordinatorStandard.coordinateInsert(InsertCoordinatorStandard.java:132)
	at org.hibernate.persister.entity.mutation.InsertCoordinatorStandard.insert(InsertCoordinatorStandard.java:95)
	at org.hibernate.action.internal.EntityIdentityInsertAction.execute(EntityIdentityInsertAction.java:85)
	at org.hibernate.engine.spi.ActionQueue.execute(ActionQueue.java:682)
	at org.hibernate.engine.spi.ActionQueue.addResolvedEntityInsertAction(ActionQueue.java:293)
	at org.hibernate.engine.spi.ActionQueue.addInsertAction(ActionQueue.java:274)
	at org.hibernate.engine.spi.ActionQueue.addAction(ActionQueue.java:324)
	at org.hibernate.event.internal.AbstractSaveEventListener.addInsertAction(AbstractSaveEventListener.java:393)
	at org.hibernate.event.internal.AbstractSaveEventListener.performSaveOrReplicate(AbstractSaveEventListener.java:307)
	at org.hibernate.event.internal.AbstractSaveEventListener.performSave(AbstractSaveEventListener.java:223)
	at org.hibernate.event.internal.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:136)
	at org.hibernate.event.internal.DefaultPersistEventListener.entityIsTransient(DefaultPersistEventListener.java:177)
	at org.hibernate.event.internal.DefaultPersistEventListener.persist(DefaultPersistEventListener.java:95)
	at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:79)
	at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:55)
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:127)
	at org.hibernate.internal.SessionImpl.firePersist(SessionImpl.java:761)
	at org.hibernate.internal.SessionImpl.persist(SessionImpl.java:745)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:364)
	at jdk.proxy4/jdk.proxy4.$Proxy146.persist(Unknown Source)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:320)
	at jdk.proxy4/jdk.proxy4.$Proxy146.persist(Unknown Source)
	at org.springframework.data.jpa.repository.support.SimpleJpaRepository.save(SimpleJpaRepository.java:636)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:277)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:170)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:158)
	at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:515)
	at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:284)
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:731)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:174)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:149)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:69)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:380)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:138)
	... 131 more
Caused by: org.postgresql.util.PSQLException: ERROR: duplicate key value violates unique constraint "order_status_history_pkey"
  Detail: Key (id)=(12) already exists.
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2733)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2420)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:372)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:517)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:434)
	at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:194)
	at org.postgresql.jdbc.PgPreparedStatement.executeUpdate(PgPreparedStatement.java:155)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java)
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:194)
	... 181 more
2025-05-26 18:30:20 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHP
2025-05-26 18:30:20 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHP
2025-05-26 18:30:20 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:30:20 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:30:20 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:30:20 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:30:20 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:30:20 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:30:20 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:30:20 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:30:20 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:30:20 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:30:20 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:30:20 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:30:20 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHP
2025-05-26 18:30:20 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:30:20 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:30:20 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:30:20 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:30:20 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:30:20 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:30:20 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:30:20 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:30:20 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:30:20 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-26 18:30:20 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-26 18:30:20 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-28 19:37:57 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-28 19:37:57 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-28 19:37:58 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-28 19:37:58 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-28 19:37:58 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-28 19:37:58 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-28 19:37:58 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-28 19:37:58 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-28 19:37:58 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-28 19:37:58 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-28 19:37:58 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-28 19:37:58 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-28 19:37:58 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-28 19:37:58 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-28 19:37:58 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-28 19:37:58 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-28 19:37:58 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-28 19:37:58 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-28 19:37:58 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-28 19:37:58 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-28 19:37:58 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-28 19:37:58 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-28 19:37:58 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-28 19:37:58 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-28 19:37:58 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-28 19:37:58 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-28 19:37:58 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-28 19:37:58 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-28 19:37:58 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-28 19:37:58 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-28 19:44:33 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-28 19:44:33 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-28 19:44:33 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-28 19:44:33 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-28 19:44:33 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-28 19:44:33 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-28 19:44:33 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-28 19:44:33 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-28 19:44:33 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-28 19:44:33 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-28 19:44:33 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-28 19:44:33 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-28 19:44:33 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-28 19:44:33 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-28 19:44:33 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-28 19:44:33 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-28 19:44:33 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-28 19:44:33 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-28 19:44:33 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-28 19:44:33 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-28 19:44:33 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-28 19:44:33 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-28 19:44:33 INFO  AuthServiceImpl:226 - logout
2025-05-28 19:44:33 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-28 19:44:33 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-28 19:44:33 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-28 19:44:33 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-28 19:44:33 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-28 19:44:33 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-28 19:44:33 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-28 19:44:33 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-28 19:44:33 DEBUG AuthServiceImpl:171 - Refresh Token is empty!
2025-05-28 19:44:33 DEBUG AuthServiceImpl:171 - Refresh Token is empty!
2025-05-28 19:44:33 DEBUG AuthServiceImpl:171 - Refresh Token is empty!
2025-05-28 19:44:33 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-28 19:44:33 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-28 19:44:33 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-28 19:44:33 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-28 19:44:33 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-28 19:44:33 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-28 19:44:33 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-28 19:44:33 WARN  AuthTokenFilter:91 - Failed to refresh token: Failed for []: Refresh token is not valid or expired!
2025-05-28 19:44:33 WARN  AuthTokenFilter:91 - Failed to refresh token: Failed for []: Refresh token is not valid or expired!
2025-05-28 19:44:33 WARN  AuthTokenFilter:91 - Failed to refresh token: Failed for []: Refresh token is not valid or expired!
2025-05-28 19:44:33 INFO  AuthServiceImpl:226 - logout
2025-05-28 19:44:33 INFO  AuthServiceImpl:226 - logout
2025-05-28 19:44:33 INFO  AuthServiceImpl:226 - logout
2025-05-28 19:44:43 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-28 19:44:43 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-28 19:44:44 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-28 19:44:44 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-28 19:44:44 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-28 19:44:44 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-28 19:44:44 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-28 19:44:44 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-28 19:44:44 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-28 19:44:44 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-28 19:44:44 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-28 19:44:44 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-28 19:44:44 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-28 19:44:44 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-28 19:44:44 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-28 19:44:44 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-28 19:44:44 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-28 19:44:44 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-28 19:44:44 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-28 19:44:44 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-28 19:44:44 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-28 19:44:44 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-28 19:44:44 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-28 19:44:44 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-28 19:44:44 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-28 19:44:44 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-28 19:44:44 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-28 19:44:44 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-28 19:44:44 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-28 19:44:44 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-28 19:44:44 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-28 19:44:44 WARN  AuthTokenFilter:91 - Failed to refresh token: Failed for []: Refresh token is not valid or expired!
2025-05-28 19:44:44 WARN  AuthServiceImpl:110 - username not found
2025-05-28 19:44:54 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-28 19:44:54 WARN  AuthTokenFilter:91 - Failed to refresh token: Failed for []: Refresh token is not valid or expired!
2025-05-28 19:44:54 WARN  AuthServiceImpl:110 - username not found
2025-05-28 19:45:34 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-28 19:45:34 WARN  AuthTokenFilter:91 - Failed to refresh token: Failed for []: Refresh token is not valid or expired!
2025-05-28 19:45:34 WARN  AuthServiceImpl:114 - wrong password
2025-05-28 19:45:40 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-28 19:45:40 WARN  AuthTokenFilter:91 - Failed to refresh token: Failed for []: Refresh token is not valid or expired!
2025-05-28 19:45:40 WARN  AuthServiceImpl:114 - wrong password
2025-05-28 19:45:52 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-28 19:45:52 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-28 19:45:52 INFO  AuthServiceImpl:226 - logout
2025-05-28 19:45:52 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-28 19:45:52 WARN  AuthTokenFilter:91 - Failed to refresh token: Failed for []: Refresh token is not valid or expired!
2025-05-28 19:45:52 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-28 19:45:52 WARN  AuthTokenFilter:91 - Failed to refresh token: Failed for []: Refresh token is not valid or expired!
2025-05-28 19:46:06 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-28 19:46:06 WARN  AuthTokenFilter:91 - Failed to refresh token: Failed for []: Refresh token is not valid or expired!
2025-05-28 19:46:22 INFO  EmailService:44 - Email sent to: lamhongphuc0110@gmail.com
2025-05-28 19:46:22 INFO  AuthServiceImpl:265 - OTP for sign up new Account has sent to email: lamhongphuc0110@gmail.com
2025-05-28 19:46:39 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-28 19:46:39 WARN  AuthTokenFilter:91 - Failed to refresh token: Failed for []: Refresh token is not valid or expired!
2025-05-28 19:46:39 INFO  AuthServiceImpl:319 - Signup successful with email: lamhongphuc0110@gmail.com and username: LHPadmin
2025-05-28 19:46:39 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-28 19:46:39 WARN  AuthTokenFilter:91 - Failed to refresh token: Failed for []: Refresh token is not valid or expired!
2025-05-28 19:46:40 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-28 19:46:40 WARN  AuthTokenFilter:91 - Failed to refresh token: Failed for []: Refresh token is not valid or expired!
2025-05-28 19:47:01 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-28 19:47:01 WARN  AuthTokenFilter:91 - Failed to refresh token: Failed for []: Refresh token is not valid or expired!
2025-05-28 19:47:02 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:47:02 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:47:02 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:47:02 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:47:02 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:47:02 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:47:02 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:47:02 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:47:02 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:47:02 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:47:02 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:47:02 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:47:02 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:47:02 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:47:02 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:47:02 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:47:02 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:47:02 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-28 19:47:02 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-28 19:47:02 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-28 19:47:02 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-28 19:47:02 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-28 19:47:02 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-28 19:47:02 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-28 19:47:02 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-28 19:47:04 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:47:04 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:47:04 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:47:04 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:47:04 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-28 19:47:04 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-28 19:47:04 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:47:04 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:47:04 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-28 19:47:04 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-28 19:47:04 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:47:04 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:47:04 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-28 19:47:04 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-28 19:47:04 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-28 19:47:04 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-28 19:47:04 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:47:04 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:47:05 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:47:05 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:47:05 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:47:05 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:47:05 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:47:05 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-28 19:47:05 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-28 19:47:05 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:47:05 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:47:05 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-28 19:47:05 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-28 19:47:05 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:47:05 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:47:05 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:47:05 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:47:05 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:47:05 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:47:05 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-28 19:47:05 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-28 19:47:05 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:47:05 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:47:05 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:47:05 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-28 19:47:05 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-28 19:47:05 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:47:05 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:47:05 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:47:05 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:47:05 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:47:05 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:47:05 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:47:05 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:47:05 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:47:05 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:47:05 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-28 19:47:05 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-28 19:47:05 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-28 19:47:05 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-28 19:47:24 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:47:24 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:47:24 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:47:24 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:47:24 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-28 19:47:24 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-28 19:47:24 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:47:24 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:47:24 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-28 19:47:24 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-28 19:47:35 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:47:37 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:47:37 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:47:37 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:47:37 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:47:37 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:47:37 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:47:37 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:47:37 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-28 19:47:37 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-28 19:47:37 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-28 19:47:37 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-28 19:47:37 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:47:37 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:47:37 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-28 19:47:37 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-28 19:47:37 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-28 19:47:37 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-28 19:47:46 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:47:46 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:47:46 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:47:46 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:47:46 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-28 19:47:46 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-28 19:47:46 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:47:46 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:47:46 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-28 19:47:46 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-28 19:47:46 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:47:46 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:47:46 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:47:46 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:47:46 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:47:46 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:47:46 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:47:46 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:47:46 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:47:46 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:47:47 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-28 19:47:47 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-28 19:47:47 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:47:47 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:47:47 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-28 19:47:47 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-28 19:47:54 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:47:55 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:47:55 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:47:57 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:47:58 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:47:59 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:48:00 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:48:00 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:48:01 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:48:03 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:48:03 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:48:05 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:48:06 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:48:08 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:48:10 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:48:10 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:48:19 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:48:19 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:48:21 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:48:22 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:48:22 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:48:22 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:48:22 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:48:22 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:48:22 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-28 19:48:22 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-28 19:48:22 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:48:22 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-28 19:48:22 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-28 19:48:22 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:48:23 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:48:23 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:48:23 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:48:23 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:48:23 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:48:23 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:48:23 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:48:27 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:48:27 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:48:27 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:48:27 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:48:27 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:48:27 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:48:27 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-28 19:48:27 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-28 19:48:27 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:48:27 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-28 19:48:27 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-28 19:48:27 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:48:27 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:48:27 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:48:27 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:48:27 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:48:27 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:48:27 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:48:27 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:48:28 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:48:28 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:48:28 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:48:28 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-28 19:48:28 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-28 19:48:28 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:48:28 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-28 19:48:28 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-28 19:48:28 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-28 19:48:28 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-28 19:48:28 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:48:28 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:48:28 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-28 19:48:28 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-28 19:48:28 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:48:28 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:48:28 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:48:28 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:48:28 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:48:28 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:48:28 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:48:33 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:48:34 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:48:34 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:48:34 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:48:35 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:48:35 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:48:35 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:48:36 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:48:36 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:48:37 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:48:38 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:48:38 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:48:38 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:48:38 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:48:38 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:48:38 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:48:38 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:48:38 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-28 19:48:38 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-28 19:48:38 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:48:38 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:48:38 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-28 19:48:38 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-28 19:48:40 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:48:40 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:48:40 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:48:40 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:48:40 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-28 19:48:40 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-28 19:48:40 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:48:40 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:48:40 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-28 19:48:40 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-28 19:48:44 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:48:44 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:48:44 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-28 19:48:44 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-28 19:48:44 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-28 19:48:44 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-28 19:48:44 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:48:44 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:48:46 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:48:46 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:48:46 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:48:46 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:48:46 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:48:46 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:48:46 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-28 19:48:46 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-28 19:48:46 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:48:46 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:48:46 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-28 19:48:46 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-28 19:48:46 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:48:46 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:48:46 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:48:46 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:48:46 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-28 19:48:46 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-28 19:48:46 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:48:46 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:48:46 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:48:46 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:48:46 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-28 19:48:46 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-28 19:48:46 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:48:46 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:48:46 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:48:48 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:48:48 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:48:48 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:48:48 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:48:48 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-28 19:48:48 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-28 19:48:48 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-28 19:48:48 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-28 19:48:49 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:48:49 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:48:49 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:48:49 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:48:49 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:48:49 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:48:49 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:48:49 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:48:49 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-28 19:48:49 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-28 19:48:49 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-28 19:48:49 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-28 19:48:52 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:48:52 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:48:52 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:48:52 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:48:52 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:48:52 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-28 19:48:52 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-28 19:48:52 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-28 19:48:52 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-28 19:48:52 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:48:52 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:48:52 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:48:52 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:48:52 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:48:52 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-28 19:48:52 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-28 19:48:52 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-28 19:48:52 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-28 19:48:52 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:48:52 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:48:52 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:48:52 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:48:52 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:48:52 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-28 19:48:52 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-28 19:48:52 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-28 19:48:52 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-28 19:48:53 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:48:53 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:48:53 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:48:53 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:48:53 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:48:53 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-28 19:48:53 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-28 19:48:53 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-28 19:48:53 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-28 19:48:53 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:48:53 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:48:53 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:48:53 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:48:53 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:48:53 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-28 19:48:53 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-28 19:48:53 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-28 19:48:53 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-28 19:48:53 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:48:53 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:48:53 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:48:54 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:48:54 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:48:54 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-28 19:48:54 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-28 19:48:54 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-28 19:48:54 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-28 19:48:54 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:48:54 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:48:54 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:48:54 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:48:54 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:48:54 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-28 19:48:54 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-28 19:48:54 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-28 19:48:54 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-28 19:48:54 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:48:54 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:48:54 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:48:54 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:48:54 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:48:54 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-28 19:48:54 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-28 19:48:54 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-28 19:48:54 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-28 19:48:55 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:48:55 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:48:55 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:48:55 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:48:55 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:48:55 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-28 19:48:55 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-28 19:48:55 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-28 19:48:55 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-28 19:48:55 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:48:55 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:48:55 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:48:55 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:48:55 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:48:55 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-28 19:48:55 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-28 19:48:55 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-28 19:48:55 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-28 19:48:56 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:48:56 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-28 19:48:56 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-28 19:48:56 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-28 19:48:56 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-28 19:48:57 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:48:57 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:48:57 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:48:57 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:48:57 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:48:57 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:48:57 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-28 19:48:57 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-28 19:48:57 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:48:57 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:48:57 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-28 19:48:57 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-28 19:48:58 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:48:58 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-28 19:48:58 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-28 19:48:58 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-28 19:48:58 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-28 19:48:58 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:48:58 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:48:58 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:48:58 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:48:58 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:48:58 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:48:58 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-28 19:48:58 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-28 19:48:58 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:48:58 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:48:58 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-28 19:48:58 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-28 19:49:00 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:49:00 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-28 19:49:00 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-28 19:49:00 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-28 19:49:00 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-28 19:49:01 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:49:01 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:49:01 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:49:01 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:49:01 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:49:01 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:49:01 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-28 19:49:01 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-28 19:49:01 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:49:01 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:49:01 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-28 19:49:01 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-28 19:49:02 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:49:02 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-28 19:49:02 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-28 19:49:02 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-28 19:49:02 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-28 19:49:04 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:49:04 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:49:04 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:49:04 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:49:04 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:49:04 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:49:04 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-28 19:49:04 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-28 19:49:04 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:49:04 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:49:04 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-28 19:49:04 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-28 19:49:04 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:49:04 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:49:04 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:49:04 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:49:04 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:49:04 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-28 19:49:04 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-28 19:49:04 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-28 19:49:04 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-28 19:52:38 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:52:38 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:55:50 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:55:50 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:55:50 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:55:50 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:55:50 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:55:50 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:55:50 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:55:51 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:55:51 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:56:00 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:56:00 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:56:00 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:56:02 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:56:02 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:56:02 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:56:03 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:56:03 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:56:03 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:56:05 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:56:05 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:56:05 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:58:06 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:58:06 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 19:58:06 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 20:00:42 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 20:00:42 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 20:00:42 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 20:00:43 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 20:00:43 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 20:00:43 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 20:00:43 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-28 20:00:43 WARN  AuthTokenFilter:91 - Failed to refresh token: Failed for []: Refresh token is not valid or expired!
2025-05-28 20:00:45 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-28 20:00:45 WARN  AuthTokenFilter:91 - Failed to refresh token: Failed for []: Refresh token is not valid or expired!
2025-05-28 20:00:51 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 20:00:51 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 20:05:16 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 20:05:16 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 20:05:16 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 20:05:16 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 20:05:16 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 20:05:16 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 20:05:16 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 20:05:16 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 20:05:16 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 20:05:51 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 20:05:51 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 20:05:51 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHPadmin
2025-05-28 20:05:53 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-28 20:05:53 WARN  AuthTokenFilter:91 - Failed to refresh token: Failed for []: Refresh token is not valid or expired!
2025-05-28 20:05:54 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-28 20:05:54 WARN  AuthTokenFilter:91 - Failed to refresh token: Failed for []: Refresh token is not valid or expired!
2025-05-28 20:05:54 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-28 20:05:54 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-28 20:05:54 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-28 20:05:54 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-28 20:05:54 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-28 20:05:54 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-28 20:05:54 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-28 20:05:54 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-28 20:05:54 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-28 20:05:54 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-28 20:05:54 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-28 20:05:54 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-28 20:05:54 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-28 20:05:54 WARN  AuthTokenFilter:91 - Failed to refresh token: Failed for []: Refresh token is not valid or expired!
2025-05-28 20:05:54 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-28 20:05:54 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-28 20:05:54 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-28 20:05:54 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-28 20:05:54 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-28 20:05:54 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-28 20:05:54 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-28 20:05:54 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-28 20:05:54 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-28 20:05:54 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-28 20:05:54 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-28 20:05:54 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-29 18:34:16 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-29 18:34:16 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-29 18:34:18 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-29 18:34:18 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-29 18:34:18 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-29 18:34:18 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-29 18:34:18 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-29 18:34:18 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-29 18:34:18 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-29 18:34:18 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-29 18:34:18 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-29 18:34:18 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-29 18:34:18 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-29 18:34:18 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-29 18:34:18 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-29 18:34:18 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-29 18:34:18 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-29 18:34:18 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-29 18:34:18 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-29 18:34:18 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-29 18:34:18 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-29 18:34:18 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-29 18:34:18 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-29 18:34:18 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-29 18:34:18 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-29 18:34:18 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-29 18:34:18 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-29 18:34:18 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-29 18:34:18 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-29 18:34:18 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-29 18:39:23 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-29 18:39:23 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-29 18:39:24 INFO  AuthServiceImpl:94 - LHP logged in
2025-05-29 18:39:24 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHP
2025-05-29 18:39:24 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-29 18:39:24 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-29 18:39:24 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-29 18:39:24 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-29 18:39:24 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-29 18:39:24 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-29 18:39:24 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-29 18:39:24 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-29 18:39:24 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-29 18:39:24 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-29 18:39:24 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-29 18:39:24 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-29 18:39:24 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHP
2025-05-29 18:39:24 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHP
2025-05-29 18:39:24 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-29 18:39:24 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-29 18:39:24 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-29 18:39:24 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-29 18:39:24 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-29 18:39:24 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-29 18:39:24 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-29 18:39:24 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-29 18:39:24 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-29 18:39:24 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-29 18:39:24 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-29 18:39:24 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-29 18:39:27 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-29 18:39:27 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-29 18:39:27 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-29 18:39:27 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-29 18:39:27 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-29 18:39:27 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-29 18:39:27 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-29 18:39:27 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-29 18:39:27 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-29 18:39:27 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-29 18:39:27 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-29 18:39:27 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-29 18:39:27 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-29 18:39:27 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-29 18:39:27 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-29 18:39:27 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-29 18:39:27 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-29 18:39:27 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-29 18:39:27 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-29 18:39:27 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-29 18:39:27 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-29 18:39:27 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-29 18:39:27 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-29 18:39:27 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-29 18:39:27 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-29 18:39:27 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-29 18:39:27 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-29 18:39:27 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-29 18:39:27 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-29 18:39:27 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-29 18:39:29 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-29 18:39:29 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-29 18:39:29 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-29 18:39:29 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-29 18:39:29 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-29 18:39:29 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-29 18:39:29 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-29 18:39:29 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-29 18:39:29 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHP
2025-05-29 18:39:33 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHP
2025-05-29 18:52:44 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHP
2025-05-29 18:52:46 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-29 18:52:46 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-29 18:52:46 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-29 18:52:46 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-29 18:52:46 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-29 18:52:46 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-29 18:52:46 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-29 18:52:46 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-29 18:52:46 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-29 18:52:46 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHP
2025-05-29 18:52:46 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-29 18:52:46 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-29 18:52:46 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-29 18:52:46 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHP
2025-05-29 18:52:46 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-29 18:52:46 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-29 18:52:46 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-29 18:52:46 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-29 18:52:46 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-29 18:52:46 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-29 18:52:46 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-29 18:52:46 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-29 18:52:46 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-29 18:52:46 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-29 18:52:46 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-29 18:52:46 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-29 18:55:56 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHP
2025-05-29 18:55:58 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-29 18:55:58 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-29 18:55:58 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-29 18:55:58 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-29 18:55:58 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-29 18:55:58 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHP
2025-05-29 18:55:58 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-29 18:55:58 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-29 18:55:58 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-29 18:55:58 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-29 18:55:58 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-29 18:55:58 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-29 18:55:58 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-29 18:55:58 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHP
2025-05-29 18:55:58 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-29 18:55:58 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-29 18:55:58 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-29 18:55:58 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-29 18:55:58 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-29 18:55:58 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-29 18:55:58 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-29 18:55:58 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-29 18:55:58 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-29 18:55:58 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-29 18:55:58 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-29 18:55:58 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-29 18:56:03 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHP
2025-05-29 18:56:23 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHP
2025-05-29 19:01:45 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHP
2025-05-29 19:02:27 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHP
2025-05-29 19:02:28 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHP
2025-05-29 19:02:28 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHP
2025-05-29 19:11:46 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHP
2025-05-29 19:11:48 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-29 19:11:48 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-29 19:11:48 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-29 19:11:48 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-29 19:11:48 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-29 19:11:48 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-29 19:11:48 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-29 19:11:48 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHP
2025-05-29 19:11:48 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-29 19:11:48 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-29 19:11:48 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-29 19:11:48 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-29 19:11:48 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-29 19:11:48 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHP
2025-05-29 19:11:48 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-29 19:11:48 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-29 19:11:48 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-29 19:11:48 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-29 19:11:48 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-29 19:11:48 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-29 19:11:48 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-29 19:11:48 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-29 19:11:48 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-29 19:11:48 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-29 19:11:48 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-29 19:11:48 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-29 19:11:49 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHP
2025-05-29 19:11:49 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHP
2025-05-29 19:11:49 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHP
2025-05-29 19:12:05 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHP
2025-05-29 19:14:09 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHP
2025-05-29 19:14:10 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHP
2025-05-29 19:14:10 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHP
2025-05-29 19:14:33 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHP
2025-05-29 19:16:27 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHP
2025-05-29 19:16:28 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHP
2025-05-29 19:16:28 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHP
2025-05-29 19:25:06 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHP
2025-05-29 19:34:32 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHP
2025-05-29 19:34:34 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-29 19:34:34 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-29 19:34:34 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-29 19:34:34 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-29 19:34:34 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-29 19:34:34 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-29 19:34:34 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-29 19:34:34 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-29 19:34:34 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHP
2025-05-29 19:34:34 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-29 19:34:34 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-29 19:34:34 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-29 19:34:34 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-29 19:34:34 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHP
2025-05-29 19:34:34 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-29 19:34:34 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-29 19:34:34 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-29 19:34:34 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-29 19:34:34 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-29 19:34:34 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-29 19:34:34 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-29 19:34:34 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-29 19:34:34 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-29 19:34:34 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-29 19:34:34 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-29 19:34:34 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-29 19:34:38 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHP
2025-05-29 19:34:38 INFO  AuthServiceImpl:226 - logout
2025-05-29 19:34:39 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-29 19:34:39 WARN  AuthTokenFilter:91 - Failed to refresh token: Failed for []: Refresh token is not valid or expired!
2025-05-29 19:34:39 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-29 19:34:39 WARN  AuthTokenFilter:91 - Failed to refresh token: Failed for []: Refresh token is not valid or expired!
2025-05-29 19:34:43 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-29 19:34:43 WARN  AuthTokenFilter:91 - Failed to refresh token: Failed for []: Refresh token is not valid or expired!
2025-05-29 19:34:43 INFO  AuthServiceImpl:94 - LHP logged in
2025-05-29 19:34:44 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHP
2025-05-29 19:34:44 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-29 19:34:44 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-29 19:34:44 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-29 19:34:44 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-29 19:34:44 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHP
2025-05-29 19:34:44 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-29 19:34:44 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-29 19:34:44 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-29 19:34:44 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-29 19:34:44 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-29 19:34:44 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-29 19:34:44 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-29 19:34:44 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-29 19:34:44 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-29 19:34:44 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-29 19:34:44 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-29 19:34:44 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-29 19:34:44 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHP
2025-05-29 19:34:44 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-29 19:34:44 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-29 19:34:44 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-29 19:34:44 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-29 19:34:44 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-29 19:34:44 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-29 19:34:44 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-29 19:34:44 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-29 19:34:48 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-29 19:34:48 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-29 19:34:48 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-29 19:34:48 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-29 19:34:48 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-29 19:34:48 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-29 19:34:48 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-29 19:34:48 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-29 19:34:48 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-29 19:34:48 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-29 19:34:48 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-29 19:34:48 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-29 19:34:48 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-29 19:34:48 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-29 19:34:48 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-29 19:34:48 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-29 19:34:48 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-29 19:34:48 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-29 19:34:48 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-29 19:34:48 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-29 19:34:48 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-29 19:34:48 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-29 19:34:48 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-29 19:34:48 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-29 19:34:48 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-29 19:34:48 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-29 19:34:48 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-29 19:34:48 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-29 19:34:48 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-29 19:34:48 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-29 19:34:50 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHP
2025-05-29 19:35:06 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHP
2025-05-29 22:37:59 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHP
2025-05-29 22:38:01 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-29 22:38:01 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-29 22:38:01 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-29 22:38:01 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-29 22:38:01 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-29 22:38:01 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-29 22:38:01 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-29 22:38:01 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-29 22:38:01 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHP
2025-05-29 22:38:01 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-29 22:38:01 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-29 22:38:01 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-29 22:38:01 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-29 22:38:01 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHP
2025-05-29 22:38:01 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-29 22:38:01 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-29 22:38:01 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-29 22:38:01 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-29 22:38:01 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-29 22:38:01 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-29 22:38:01 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-29 22:38:01 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-29 22:38:01 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-29 22:38:01 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-29 22:38:01 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-29 22:38:01 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-29 22:38:59 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHP
2025-05-29 22:39:00 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-29 22:39:00 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-29 22:39:00 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-29 22:39:00 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-29 22:39:00 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-29 22:39:00 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-29 22:39:00 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-29 22:39:00 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-29 22:39:00 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-29 22:39:00 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-29 22:39:00 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-29 22:39:00 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-29 22:39:00 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHP
2025-05-29 22:39:00 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHP
2025-05-29 22:39:00 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-29 22:39:00 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-29 22:39:00 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-29 22:39:00 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-29 22:39:00 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-29 22:39:00 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-29 22:39:00 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-29 22:39:00 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-29 22:39:00 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-29 22:39:00 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-29 22:39:00 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-29 22:39:00 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-29 22:43:27 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: LHP
2025-05-29 22:43:27 INFO  AuthServiceImpl:226 - logout
2025-05-29 22:43:28 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-29 22:43:28 WARN  AuthTokenFilter:91 - Failed to refresh token: Failed for []: Refresh token is not valid or expired!
2025-05-29 22:43:28 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-29 22:43:28 WARN  AuthTokenFilter:91 - Failed to refresh token: Failed for []: Refresh token is not valid or expired!
2025-05-29 22:43:34 DEBUG AuthTokenFilter:48 - Skipping JWT validation for Google login request
2025-05-29 22:43:34 INFO  GoogleServiceImpl:61 - Received Google login request with token length: 1201
2025-05-29 22:43:34 INFO  GoogleServiceImpl:124 - Attempting to verify Google ID token
2025-05-29 22:43:34 INFO  GoogleServiceImpl:136 - Successfully verified Google ID token for email: lamhongphuc0110@gmail.com
2025-05-29 22:43:34 INFO  GoogleServiceImpl:67 - Successfully verified Google ID token, creating/updating user
2025-05-29 22:43:34 ERROR GoogleServiceImpl:117 - Error in createOrUpdateUser: Validation failed for classes [vn.edu.hcmuaf.cdw.ShopThoiTrang.entity.User] during persist time for groups [jakarta.validation.groups.Default, ]
List of constraint violations:[
	ConstraintViolationImpl{interpolatedMessage='Password is required', propertyPath=passwordEncrypted, rootBeanClass=class vn.edu.hcmuaf.cdw.ShopThoiTrang.entity.User, messageTemplate='Password is required'}
]
2025-05-29 22:44:04 DEBUG AuthTokenFilter:48 - Skipping JWT validation for Google login request
2025-05-29 22:44:04 INFO  GoogleServiceImpl:61 - Received Google login request with token length: 1201
2025-05-29 22:44:04 INFO  GoogleServiceImpl:124 - Attempting to verify Google ID token
2025-05-29 22:44:04 INFO  GoogleServiceImpl:136 - Successfully verified Google ID token for email: lamhongphuc0110@gmail.com
2025-05-29 22:44:04 INFO  GoogleServiceImpl:67 - Successfully verified Google ID token, creating/updating user
2025-05-29 22:44:04 ERROR GoogleServiceImpl:117 - Error in createOrUpdateUser: Validation failed for classes [vn.edu.hcmuaf.cdw.ShopThoiTrang.entity.User] during persist time for groups [jakarta.validation.groups.Default, ]
List of constraint violations:[
	ConstraintViolationImpl{interpolatedMessage='Password is required', propertyPath=passwordEncrypted, rootBeanClass=class vn.edu.hcmuaf.cdw.ShopThoiTrang.entity.User, messageTemplate='Password is required'}
]
2025-05-29 22:44:53 DEBUG AuthTokenFilter:48 - Skipping JWT validation for Google login request
2025-05-29 22:44:53 INFO  GoogleServiceImpl:61 - Received Google login request with token length: 1201
2025-05-29 22:44:53 INFO  GoogleServiceImpl:124 - Attempting to verify Google ID token
2025-05-29 22:44:53 INFO  GoogleServiceImpl:136 - Successfully verified Google ID token for email: lamhongphuc0110@gmail.com
2025-05-29 22:44:53 INFO  GoogleServiceImpl:67 - Successfully verified Google ID token, creating/updating user
2025-05-29 22:44:53 ERROR GoogleServiceImpl:117 - Error in createOrUpdateUser: Validation failed for classes [vn.edu.hcmuaf.cdw.ShopThoiTrang.entity.User] during persist time for groups [jakarta.validation.groups.Default, ]
List of constraint violations:[
	ConstraintViolationImpl{interpolatedMessage='Password is required', propertyPath=passwordEncrypted, rootBeanClass=class vn.edu.hcmuaf.cdw.ShopThoiTrang.entity.User, messageTemplate='Password is required'}
]
2025-05-29 22:51:39 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-29 22:51:39 WARN  AuthTokenFilter:91 - Failed to refresh token: Failed for []: Refresh token is not valid or expired!
2025-05-29 22:51:39 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-29 22:51:39 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-29 22:51:39 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-29 22:51:39 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-29 22:51:39 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-29 22:51:39 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-29 22:51:39 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-29 22:51:39 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-29 22:51:39 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-29 22:51:39 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-29 22:51:39 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-29 22:51:39 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-29 22:51:39 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-29 22:51:39 WARN  AuthTokenFilter:91 - Failed to refresh token: Failed for []: Refresh token is not valid or expired!
2025-05-29 22:51:39 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-29 22:51:39 WARN  AuthTokenFilter:91 - Failed to refresh token: Failed for []: Refresh token is not valid or expired!
2025-05-29 22:51:39 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-29 22:51:39 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-29 22:51:39 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-29 22:51:39 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-29 22:51:39 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-29 22:51:39 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-29 22:51:39 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-29 22:51:39 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-29 22:51:39 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-29 22:51:39 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-29 22:51:39 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-29 22:51:39 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-29 22:51:54 DEBUG AuthTokenFilter:48 - Skipping JWT validation for Google login request
2025-05-29 22:51:54 INFO  GoogleServiceImpl:64 - Received Google login request with token length: 1201
2025-05-29 22:51:54 INFO  GoogleServiceImpl:129 - Attempting to verify Google ID token
2025-05-29 22:51:55 INFO  GoogleServiceImpl:141 - Successfully verified Google ID token for email: lamhongphuc0110@gmail.com
2025-05-29 22:51:55 INFO  GoogleServiceImpl:70 - Successfully verified Google ID token, creating/updating user
2025-05-29 22:51:55 INFO  GoogleServiceImpl:85 - Successfully generated JWT tokens for user: lamhongphuc0110@gmail.com
2025-05-29 22:51:55 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: lamhongphuc0110@gmail.com
2025-05-29 22:51:56 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-29 22:51:56 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-29 22:51:56 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-29 22:51:56 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-29 22:51:56 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-29 22:51:56 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-29 22:51:56 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-29 22:51:56 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-29 22:51:56 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-29 22:51:56 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-29 22:51:56 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-29 22:51:56 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: lamhongphuc0110@gmail.com
2025-05-29 22:51:56 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-29 22:51:56 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: lamhongphuc0110@gmail.com
2025-05-29 22:51:56 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-29 22:51:56 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-29 22:51:56 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-29 22:51:56 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-29 22:51:56 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-29 22:51:56 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-29 22:51:56 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-29 22:51:56 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-29 22:51:56 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-29 22:51:56 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-29 22:51:56 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-29 22:51:56 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-29 22:55:31 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: lamhongphuc0110@gmail.com
2025-05-29 22:55:33 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-29 22:55:33 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-29 22:55:33 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-29 22:55:33 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-29 22:55:33 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-29 22:55:33 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-29 22:55:33 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-29 22:55:33 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-29 22:55:33 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-29 22:55:33 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-29 22:55:33 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-29 22:55:33 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: lamhongphuc0110@gmail.com
2025-05-29 22:55:33 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-29 22:55:33 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: lamhongphuc0110@gmail.com
2025-05-29 22:55:33 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-29 22:55:33 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-29 22:55:33 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-29 22:55:33 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-29 22:55:33 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-29 22:55:33 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-29 22:55:33 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-29 22:55:33 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-29 22:55:33 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-29 22:55:33 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-29 22:55:33 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-29 22:55:33 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-29 22:55:36 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: lamhongphuc0110@gmail.com
2025-05-29 22:59:28 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-29 22:59:28 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-29 22:59:28 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-29 22:59:28 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-29 22:59:28 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-29 22:59:28 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-29 22:59:28 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-29 22:59:28 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-29 22:59:28 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-29 22:59:28 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-29 22:59:28 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-29 22:59:28 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-29 22:59:28 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: lamhongphuc0110@gmail.com
2025-05-29 22:59:28 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-29 22:59:28 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-29 22:59:28 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-29 22:59:28 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-29 22:59:28 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-29 22:59:28 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-29 22:59:28 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-29 22:59:28 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-29 22:59:28 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-29 22:59:28 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-29 22:59:28 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-29 22:59:28 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-29 23:44:49 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-29 23:44:49 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-29 23:44:50 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-29 23:44:50 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-29 23:44:50 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-29 23:44:50 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-29 23:44:50 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-29 23:44:50 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-29 23:44:50 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-29 23:44:50 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-29 23:44:50 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-29 23:44:50 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-29 23:44:50 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-29 23:44:50 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-29 23:44:50 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-29 23:44:50 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-29 23:44:50 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-29 23:44:50 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-29 23:44:50 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-29 23:44:50 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-29 23:44:50 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-29 23:44:50 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-29 23:44:50 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-29 23:44:50 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-29 23:44:50 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-29 23:44:50 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-29 23:44:50 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-29 23:44:50 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-29 23:44:50 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-29 23:44:50 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-29 23:44:50 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-29 23:44:50 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-29 23:44:50 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-29 23:44:50 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-29 23:44:50 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-29 23:44:50 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-29 23:44:50 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-29 23:44:50 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-29 23:44:50 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-29 23:44:50 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-29 23:44:50 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-29 23:44:50 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-29 23:44:50 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-29 23:44:50 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-29 23:44:50 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: lamhongphuc0110@gmail.com
2025-05-29 23:44:50 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-29 23:44:50 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-29 23:44:50 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-29 23:44:50 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-29 23:44:50 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-29 23:44:50 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-29 23:44:50 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-29 23:44:50 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-29 23:44:50 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-29 23:44:50 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-29 23:44:50 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-29 23:44:50 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-29 23:48:55 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: lamhongphuc0110@gmail.com
2025-05-29 23:48:55 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: lamhongphuc0110@gmail.com
2025-05-29 23:52:02 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-29 23:52:02 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-29 23:52:47 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-29 23:52:47 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-29 23:52:47 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: lamhongphuc0110@gmail.com
2025-05-29 23:52:47 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-29 23:52:47 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-29 23:52:47 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-29 23:52:47 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-29 23:52:47 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-29 23:52:47 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-29 23:52:47 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-29 23:52:47 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-29 23:52:47 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-29 23:52:47 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-29 23:52:47 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-29 23:52:47 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-29 23:52:47 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-29 23:52:47 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-29 23:52:47 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-29 23:52:47 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-29 23:52:47 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-29 23:52:47 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-29 23:52:47 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-29 23:52:47 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-29 23:52:47 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-29 23:52:47 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-30 01:27:38 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: lamhongphuc0110@gmail.com
2025-05-30 01:27:40 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-30 01:27:40 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-30 01:27:40 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-30 01:27:40 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-30 01:27:40 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-30 01:27:40 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-30 01:27:40 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-30 01:27:40 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-30 01:27:40 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: lamhongphuc0110@gmail.com
2025-05-30 01:27:40 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-30 01:27:40 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: lamhongphuc0110@gmail.com
2025-05-30 01:27:40 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-30 01:27:40 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-30 01:27:40 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-30 01:27:40 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-30 01:27:40 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-30 01:27:40 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-30 01:27:40 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-30 01:27:40 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-30 01:27:40 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-30 01:27:40 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-30 01:27:40 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-30 01:27:40 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-30 01:27:40 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-30 01:27:40 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-05-30 01:27:40 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-05-30 01:27:43 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: lamhongphuc0110@gmail.com
2025-05-30 01:28:42 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: lamhongphuc0110@gmail.com
2025-05-30 01:28:43 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: lamhongphuc0110@gmail.com
2025-05-30 01:28:43 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: lamhongphuc0110@gmail.com
2025-06-16 23:06:26 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-06-16 23:06:26 WARN  AuthTokenFilter:91 - Failed to refresh token: Failed for []: Refresh token is not valid or expired!
2025-06-16 23:06:28 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-06-16 23:06:28 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-06-16 23:06:28 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-06-16 23:06:28 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-06-16 23:06:28 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-06-16 23:06:28 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-06-16 23:06:28 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-06-16 23:06:28 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-06-16 23:06:28 WARN  AuthTokenFilter:91 - Failed to refresh token: Failed for []: Refresh token is not valid or expired!
2025-06-16 23:06:28 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-06-16 23:06:28 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-06-16 23:06:28 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-06-16 23:06:28 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-06-16 23:06:28 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-06-16 23:06:28 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-06-16 23:06:28 WARN  AuthTokenFilter:91 - Failed to refresh token: Failed for []: Refresh token is not valid or expired!
2025-06-16 23:06:28 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-06-16 23:06:28 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-06-16 23:06:28 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-06-16 23:06:28 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-06-16 23:06:28 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-06-16 23:06:28 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-06-16 23:06:28 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-06-16 23:06:28 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-06-16 23:06:28 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-06-16 23:06:28 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-06-16 23:06:28 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-06-16 23:06:28 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-06-16 23:06:34 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-06-16 23:06:34 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-06-16 23:06:34 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-06-16 23:06:34 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-06-16 23:06:34 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-06-16 23:06:34 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-06-16 23:06:34 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-06-16 23:06:34 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-06-16 23:06:34 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-06-16 23:06:34 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-06-16 23:06:34 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-06-16 23:06:34 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-06-16 23:06:34 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-06-16 23:06:34 WARN  AuthTokenFilter:91 - Failed to refresh token: Failed for []: Refresh token is not valid or expired!
2025-06-16 23:06:34 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-06-16 23:06:34 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-06-16 23:06:34 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-06-16 23:06:34 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-06-16 23:06:34 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-06-16 23:06:34 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-06-16 23:06:34 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-06-16 23:06:34 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-06-16 23:06:34 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-06-16 23:06:34 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-06-16 23:06:34 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-06-16 23:06:34 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-06-16 23:06:35 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-06-16 23:06:35 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-06-16 23:06:35 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-06-16 23:06:35 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-06-16 23:06:35 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-06-16 23:06:35 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-06-16 23:06:35 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-06-16 23:06:35 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-06-16 23:06:35 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-06-16 23:06:35 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-06-16 23:06:35 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-06-16 23:06:35 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-06-16 23:06:35 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-06-16 23:06:35 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-06-16 23:06:35 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-06-16 23:06:35 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-06-16 23:06:35 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-06-16 23:06:35 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-06-16 23:06:35 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-06-16 23:06:35 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-06-16 23:06:35 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-06-16 23:06:35 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-06-16 23:06:35 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-06-16 23:06:35 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-06-16 23:06:35 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-06-16 23:06:35 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-06-16 23:06:35 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-06-16 23:06:35 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-06-16 23:06:35 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-06-16 23:06:35 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-06-16 23:06:42 DEBUG AuthTokenFilter:48 - Skipping JWT validation for Google login request
2025-06-16 23:06:42 INFO  GoogleServiceImpl:64 - Received Google login request with token length: 1201
2025-06-16 23:06:42 INFO  GoogleServiceImpl:129 - Attempting to verify Google ID token
2025-06-16 23:06:42 INFO  GoogleServiceImpl:141 - Successfully verified Google ID token for email: lamhongphuc0110@gmail.com
2025-06-16 23:06:42 INFO  GoogleServiceImpl:70 - Successfully verified Google ID token, creating/updating user
2025-06-16 23:06:42 WARN  GoogleServiceImpl:74 - lamhongphuc0110@gmail.com unauthorized to login with google account
2025-06-16 23:07:08 DEBUG AuthTokenFilter:48 - Skipping JWT validation for Google login request
2025-06-16 23:07:08 INFO  GoogleServiceImpl:64 - Received Google login request with token length: 1241
2025-06-16 23:07:08 INFO  GoogleServiceImpl:129 - Attempting to verify Google ID token
2025-06-16 23:07:08 INFO  GoogleServiceImpl:141 - Successfully verified Google ID token for email: 21130477@st.hcmuaf.edu.vn
2025-06-16 23:07:08 INFO  GoogleServiceImpl:70 - Successfully verified Google ID token, creating/updating user
2025-06-16 23:07:08 INFO  GoogleServiceImpl:85 - Successfully generated JWT tokens for user: 21130477@st.hcmuaf.edu.vn
2025-06-16 23:07:08 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: 21130477@st.hcmuaf.edu.vn
2025-06-16 23:07:08 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-06-16 23:07:08 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-06-16 23:07:08 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-06-16 23:07:08 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-06-16 23:07:08 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-06-16 23:07:08 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-06-16 23:07:08 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-06-16 23:07:08 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-06-16 23:07:08 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-06-16 23:07:08 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-06-16 23:07:08 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-06-16 23:07:08 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-06-16 23:07:08 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: 21130477@st.hcmuaf.edu.vn
2025-06-16 23:07:08 DEBUG AuthTokenFilter:64 - Valid JWT token found for user: 21130477@st.hcmuaf.edu.vn
2025-06-16 23:07:08 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-06-16 23:07:08 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-06-16 23:07:08 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-06-16 23:07:08 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-06-16 23:07:08 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-06-16 23:07:08 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-06-16 23:07:08 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-06-16 23:07:08 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-06-16 23:07:08 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-06-16 23:07:08 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
2025-06-16 23:07:08 DEBUG AuthTokenFilter:72 - JWT token invalid or missing, checking refresh token
2025-06-16 23:07:08 DEBUG AuthTokenFilter:97 - No refresh token found in cookies
